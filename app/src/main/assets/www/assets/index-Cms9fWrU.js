var p3=Object.defineProperty;var m3=(e,t,n)=>t in e?p3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Fv=(e,t,n)=>m3(e,typeof t!="symbol"?t+"":t,n);function v3(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function br(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Kv={exports:{}},ou={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L1;function g3(){if(L1)return ou;L1=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:o}}return ou.Fragment=t,ou.jsx=n,ou.jsxs=n,ou}var j1;function y3(){return j1||(j1=1,Kv.exports=g3()),Kv.exports}var _=y3(),Yv={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B1;function b3(){if(B1)return ke;B1=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function x(L){return L===null||typeof L!="object"?null:(L=g&&L[g]||L["@@iterator"],typeof L=="function"?L:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function C(L,J,ie){this.props=L,this.context=J,this.refs=T,this.updater=ie||S}C.prototype.isReactComponent={},C.prototype.setState=function(L,J){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,J,"setState")},C.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function P(){}P.prototype=C.prototype;function N(L,J,ie){this.props=L,this.context=J,this.refs=T,this.updater=ie||S}var R=N.prototype=new P;R.constructor=N,E(R,C.prototype),R.isPureReactComponent=!0;var M=Array.isArray;function I(){}var D={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function $(L,J,ie){var ae=ie.ref;return{$$typeof:e,type:L,key:J,ref:ae!==void 0?ae:null,props:ie}}function Q(L,J){return $(L.type,J,L.props)}function W(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function ne(L){var J={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ie){return J[ie]})}var se=/\/+/g;function de(L,J){return typeof L=="object"&&L!==null&&L.key!=null?ne(""+L.key):J.toString(36)}function Te(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(I,I):(L.status="pending",L.then(function(J){L.status==="pending"&&(L.status="fulfilled",L.value=J)},function(J){L.status==="pending"&&(L.status="rejected",L.reason=J)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function j(L,J,ie,ae,be){var Ae=typeof L;(Ae==="undefined"||Ae==="boolean")&&(L=null);var xe=!1;if(L===null)xe=!0;else switch(Ae){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(L.$$typeof){case e:case t:xe=!0;break;case h:return xe=L._init,j(xe(L._payload),J,ie,ae,be)}}if(xe)return be=be(L),xe=ae===""?"."+de(L,0):ae,M(be)?(ie="",xe!=null&&(ie=xe.replace(se,"$&/")+"/"),j(be,J,ie,"",function(Ne){return Ne})):be!=null&&(W(be)&&(be=Q(be,ie+(be.key==null||L&&L.key===be.key?"":(""+be.key).replace(se,"$&/")+"/")+xe)),J.push(be)),1;xe=0;var _t=ae===""?".":ae+":";if(M(L))for(var Z=0;Z<L.length;Z++)ae=L[Z],Ae=_t+de(ae,Z),xe+=j(ae,J,ie,Ae,be);else if(Z=x(L),typeof Z=="function")for(L=Z.call(L),Z=0;!(ae=L.next()).done;)ae=ae.value,Ae=_t+de(ae,Z++),xe+=j(ae,J,ie,Ae,be);else if(Ae==="object"){if(typeof L.then=="function")return j(Te(L),J,ie,ae,be);throw J=String(L),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return xe}function Y(L,J,ie){if(L==null)return L;var ae=[],be=0;return j(L,ae,"","",function(Ae){return J.call(ie,Ae,be++)}),ae}function oe(L){if(L._status===-1){var J=L._result;J=J(),J.then(function(ie){(L._status===0||L._status===-1)&&(L._status=1,L._result=ie)},function(ie){(L._status===0||L._status===-1)&&(L._status=2,L._result=ie)}),L._status===-1&&(L._status=0,L._result=J)}if(L._status===1)return L._result.default;throw L._result}var ue=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},ce={map:Y,forEach:function(L,J,ie){Y(L,function(){J.apply(this,arguments)},ie)},count:function(L){var J=0;return Y(L,function(){J++}),J},toArray:function(L){return Y(L,function(J){return J})||[]},only:function(L){if(!W(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return ke.Activity=m,ke.Children=ce,ke.Component=C,ke.Fragment=n,ke.Profiler=i,ke.PureComponent=N,ke.StrictMode=r,ke.Suspense=d,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,ke.__COMPILER_RUNTIME={__proto__:null,c:function(L){return D.H.useMemoCache(L)}},ke.cache=function(L){return function(){return L.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(L,J,ie){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ae=E({},L.props),be=L.key;if(J!=null)for(Ae in J.key!==void 0&&(be=""+J.key),J)!F.call(J,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&J.ref===void 0||(ae[Ae]=J[Ae]);var Ae=arguments.length-2;if(Ae===1)ae.children=ie;else if(1<Ae){for(var xe=Array(Ae),_t=0;_t<Ae;_t++)xe[_t]=arguments[_t+2];ae.children=xe}return $(L.type,be,ae)},ke.createContext=function(L){return L={$$typeof:l,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},ke.createElement=function(L,J,ie){var ae,be={},Ae=null;if(J!=null)for(ae in J.key!==void 0&&(Ae=""+J.key),J)F.call(J,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(be[ae]=J[ae]);var xe=arguments.length-2;if(xe===1)be.children=ie;else if(1<xe){for(var _t=Array(xe),Z=0;Z<xe;Z++)_t[Z]=arguments[Z+2];be.children=_t}if(L&&L.defaultProps)for(ae in xe=L.defaultProps,xe)be[ae]===void 0&&(be[ae]=xe[ae]);return $(L,Ae,be)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(L){return{$$typeof:u,render:L}},ke.isValidElement=W,ke.lazy=function(L){return{$$typeof:h,_payload:{_status:-1,_result:L},_init:oe}},ke.memo=function(L,J){return{$$typeof:f,type:L,compare:J===void 0?null:J}},ke.startTransition=function(L){var J=D.T,ie={};D.T=ie;try{var ae=L(),be=D.S;be!==null&&be(ie,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(I,ue)}catch(Ae){ue(Ae)}finally{J!==null&&ie.types!==null&&(J.types=ie.types),D.T=J}},ke.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},ke.use=function(L){return D.H.use(L)},ke.useActionState=function(L,J,ie){return D.H.useActionState(L,J,ie)},ke.useCallback=function(L,J){return D.H.useCallback(L,J)},ke.useContext=function(L){return D.H.useContext(L)},ke.useDebugValue=function(){},ke.useDeferredValue=function(L,J){return D.H.useDeferredValue(L,J)},ke.useEffect=function(L,J){return D.H.useEffect(L,J)},ke.useEffectEvent=function(L){return D.H.useEffectEvent(L)},ke.useId=function(){return D.H.useId()},ke.useImperativeHandle=function(L,J,ie){return D.H.useImperativeHandle(L,J,ie)},ke.useInsertionEffect=function(L,J){return D.H.useInsertionEffect(L,J)},ke.useLayoutEffect=function(L,J){return D.H.useLayoutEffect(L,J)},ke.useMemo=function(L,J){return D.H.useMemo(L,J)},ke.useOptimistic=function(L,J){return D.H.useOptimistic(L,J)},ke.useReducer=function(L,J,ie){return D.H.useReducer(L,J,ie)},ke.useRef=function(L){return D.H.useRef(L)},ke.useState=function(L){return D.H.useState(L)},ke.useSyncExternalStore=function(L,J,ie){return D.H.useSyncExternalStore(L,J,ie)},ke.useTransition=function(){return D.H.useTransition()},ke.version="19.2.3",ke}var z1;function Ws(){return z1||(z1=1,Yv.exports=b3()),Yv.exports}var A=Ws();const rO=br(A),x3=v3({__proto__:null,default:rO},[A]);var Wv={exports:{}},su={},Jv={exports:{}},Xv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $1;function w3(){return $1||($1=1,(function(e){function t(j,Y){var oe=j.length;j.push(Y);e:for(;0<oe;){var ue=oe-1>>>1,ce=j[ue];if(0<i(ce,Y))j[ue]=Y,j[oe]=ce,oe=ue;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var Y=j[0],oe=j.pop();if(oe!==Y){j[0]=oe;e:for(var ue=0,ce=j.length,L=ce>>>1;ue<L;){var J=2*(ue+1)-1,ie=j[J],ae=J+1,be=j[ae];if(0>i(ie,oe))ae<ce&&0>i(be,ie)?(j[ue]=be,j[ae]=oe,ue=ae):(j[ue]=ie,j[J]=oe,ue=J);else if(ae<ce&&0>i(be,oe))j[ue]=be,j[ae]=oe,ue=ae;else break e}}return Y}function i(j,Y){var oe=j.sortIndex-Y.sortIndex;return oe!==0?oe:j.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],h=1,m=null,g=3,x=!1,S=!1,E=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function R(j){for(var Y=n(f);Y!==null;){if(Y.callback===null)r(f);else if(Y.startTime<=j)r(f),Y.sortIndex=Y.expirationTime,t(d,Y);else break;Y=n(f)}}function M(j){if(E=!1,R(j),!S)if(n(d)!==null)S=!0,I||(I=!0,ne());else{var Y=n(f);Y!==null&&Te(M,Y.startTime-j)}}var I=!1,D=-1,F=5,$=-1;function Q(){return T?!0:!(e.unstable_now()-$<F)}function W(){if(T=!1,I){var j=e.unstable_now();$=j;var Y=!0;try{e:{S=!1,E&&(E=!1,P(D),D=-1),x=!0;var oe=g;try{t:{for(R(j),m=n(d);m!==null&&!(m.expirationTime>j&&Q());){var ue=m.callback;if(typeof ue=="function"){m.callback=null,g=m.priorityLevel;var ce=ue(m.expirationTime<=j);if(j=e.unstable_now(),typeof ce=="function"){m.callback=ce,R(j),Y=!0;break t}m===n(d)&&r(d),R(j)}else r(d);m=n(d)}if(m!==null)Y=!0;else{var L=n(f);L!==null&&Te(M,L.startTime-j),Y=!1}}break e}finally{m=null,g=oe,x=!1}Y=void 0}}finally{Y?ne():I=!1}}}var ne;if(typeof N=="function")ne=function(){N(W)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,de=se.port2;se.port1.onmessage=W,ne=function(){de.postMessage(null)}}else ne=function(){C(W,0)};function Te(j,Y){D=C(function(){j(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(j){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var oe=g;g=Y;try{return j()}finally{g=oe}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(j,Y){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var oe=g;g=j;try{return Y()}finally{g=oe}},e.unstable_scheduleCallback=function(j,Y,oe){var ue=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?ue+oe:ue):oe=ue,j){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=oe+ce,j={id:h++,callback:Y,priorityLevel:j,startTime:oe,expirationTime:ce,sortIndex:-1},oe>ue?(j.sortIndex=oe,t(f,j),n(d)===null&&j===n(f)&&(E?(P(D),D=-1):E=!0,Te(M,oe-ue))):(j.sortIndex=ce,t(d,j),S||x||(S=!0,I||(I=!0,ne()))),j},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(j){var Y=g;return function(){var oe=g;g=Y;try{return j.apply(this,arguments)}finally{g=oe}}}})(Xv)),Xv}var q1;function _3(){return q1||(q1=1,Jv.exports=w3()),Jv.exports}var Zv={exports:{}},pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H1;function S3(){if(H1)return pn;H1=1;var e=Ws();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(d,f,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:d,containerInfo:f,implementation:h}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,pn.createPortal=function(d,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(d,f,null,h)},pn.flushSync=function(d){var f=l.T,h=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=h,r.d.f()}},pn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},pn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},pn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var h=f.as,m=u(h,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:x}):h==="script"&&r.d.X(d,{crossOrigin:m,integrity:g,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},pn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=u(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},pn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,m=u(h,f.crossOrigin);r.d.L(d,h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},pn.preloadModule=function(d,f){if(typeof d=="string")if(f){var h=u(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},pn.requestFormReset=function(d){r.d.r(d)},pn.unstable_batchedUpdates=function(d,f){return d(f)},pn.useFormState=function(d,f,h){return l.H.useFormState(d,f,h)},pn.useFormStatus=function(){return l.H.useHostTransitionStatus()},pn.version="19.2.3",pn}var G1;function iO(){if(G1)return Zv.exports;G1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Zv.exports=S3(),Zv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V1;function E3(){if(V1)return su;V1=1;var e=_3(),t=Ws(),n=iO();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,c=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(c=s.return),a=s.return;while(a)}return s.tag===3?c:null}function l(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function u(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function d(a){if(o(a)!==a)throw Error(r(188))}function f(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var c=a,p=s;;){var b=c.return;if(b===null)break;var w=b.alternate;if(w===null){if(p=b.return,p!==null){c=p;continue}break}if(b.child===w.child){for(w=b.child;w;){if(w===c)return d(b),a;if(w===p)return d(b),s;w=w.sibling}throw Error(r(188))}if(c.return!==p.return)c=b,p=w;else{for(var k=!1,O=b.child;O;){if(O===c){k=!0,c=b,p=w;break}if(O===p){k=!0,p=b,c=w;break}O=O.sibling}if(!k){for(O=w.child;O;){if(O===c){k=!0,c=w,p=b;break}if(O===p){k=!0,p=w,c=b;break}O=O.sibling}if(!k)throw Error(r(189))}}if(c.alternate!==p)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:s}function h(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=h(a),s!==null)return s;a=a.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),N=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function ne(a){return a===null||typeof a!="object"?null:(a=W&&a[W]||a["@@iterator"],typeof a=="function"?a:null)}var se=Symbol.for("react.client.reference");function de(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===se?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case C:return"Profiler";case T:return"StrictMode";case M:return"Suspense";case I:return"SuspenseList";case $:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case N:return a.displayName||"Context";case P:return(a._context.displayName||"Context")+".Consumer";case R:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case D:return s=a.displayName||null,s!==null?s:de(a.type)||"Memo";case F:s=a._payload,a=a._init;try{return de(a(s))}catch{}}return null}var Te=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},ue=[],ce=-1;function L(a){return{current:a}}function J(a){0>ce||(a.current=ue[ce],ue[ce]=null,ce--)}function ie(a,s){ce++,ue[ce]=a.current,a.current=s}var ae=L(null),be=L(null),Ae=L(null),xe=L(null);function _t(a,s){switch(ie(Ae,s),ie(be,a),ie(ae,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?o1(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=o1(s),a=s1(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}J(ae),ie(ae,a)}function Z(){J(ae),J(be),J(Ae)}function Ne(a){a.memoizedState!==null&&ie(xe,a);var s=ae.current,c=s1(s,a.type);s!==c&&(ie(be,a),ie(ae,c))}function Me(a){be.current===a&&(J(ae),J(be)),xe.current===a&&(J(xe),nu._currentValue=oe)}var re,tn;function qe(a){if(re===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);re=s&&s[1]||"",tn=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+re+a+tn}var nn=!1;function rn(a,s){if(!a||nn)return"";nn=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(s){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var V=K}Reflect.construct(a,[],te)}else{try{te.call()}catch(K){V=K}a.call(te.prototype)}}else{try{throw Error()}catch(K){V=K}(te=a())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&V&&typeof K.stack=="string")return[K.stack,V.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=p.DetermineComponentFrameRoot(),k=w[0],O=w[1];if(k&&O){var U=k.split(`
`),G=O.split(`
`);for(b=p=0;p<U.length&&!U[p].includes("DetermineComponentFrameRoot");)p++;for(;b<G.length&&!G[b].includes("DetermineComponentFrameRoot");)b++;if(p===U.length||b===G.length)for(p=U.length-1,b=G.length-1;1<=p&&0<=b&&U[p]!==G[b];)b--;for(;1<=p&&0<=b;p--,b--)if(U[p]!==G[b]){if(p!==1||b!==1)do if(p--,b--,0>b||U[p]!==G[b]){var X=`
`+U[p].replace(" at new "," at ");return a.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",a.displayName)),X}while(1<=p&&0<=b);break}}}finally{nn=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?qe(c):""}function Zr(a,s){switch(a.tag){case 26:case 27:case 5:return qe(a.type);case 16:return qe("Lazy");case 13:return a.child!==s&&s!==null?qe("Suspense Fallback"):qe("Suspense");case 19:return qe("SuspenseList");case 0:case 15:return rn(a.type,!1);case 11:return rn(a.type.render,!1);case 1:return rn(a.type,!0);case 31:return qe("Activity");default:return""}}function hl(a){try{var s="",c=null;do s+=Zr(a,c),c=a,a=a.return;while(a);return s}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Rp=Object.prototype.hasOwnProperty,Op=e.unstable_scheduleCallback,Mp=e.unstable_cancelCallback,FL=e.unstable_shouldYield,KL=e.unstable_requestPaint,jn=e.unstable_now,YL=e.unstable_getCurrentPriorityLevel,jw=e.unstable_ImmediatePriority,Bw=e.unstable_UserBlockingPriority,Ec=e.unstable_NormalPriority,WL=e.unstable_LowPriority,zw=e.unstable_IdlePriority,JL=e.log,XL=e.unstable_setDisableYieldValue,pl=null,Bn=null;function Gi(a){if(typeof JL=="function"&&XL(a),Bn&&typeof Bn.setStrictMode=="function")try{Bn.setStrictMode(pl,a)}catch{}}var zn=Math.clz32?Math.clz32:ej,ZL=Math.log,QL=Math.LN2;function ej(a){return a>>>=0,a===0?32:31-(ZL(a)/QL|0)|0}var Tc=256,Ac=262144,Cc=4194304;function Pa(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function kc(a,s,c){var p=a.pendingLanes;if(p===0)return 0;var b=0,w=a.suspendedLanes,k=a.pingedLanes;a=a.warmLanes;var O=p&134217727;return O!==0?(p=O&~w,p!==0?b=Pa(p):(k&=O,k!==0?b=Pa(k):c||(c=O&~a,c!==0&&(b=Pa(c))))):(O=p&~w,O!==0?b=Pa(O):k!==0?b=Pa(k):c||(c=p&~a,c!==0&&(b=Pa(c)))),b===0?0:s!==0&&s!==b&&(s&w)===0&&(w=b&-b,c=s&-s,w>=c||w===32&&(c&4194048)!==0)?s:b}function ml(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function tj(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $w(){var a=Cc;return Cc<<=1,(Cc&62914560)===0&&(Cc=4194304),a}function Ip(a){for(var s=[],c=0;31>c;c++)s.push(a);return s}function vl(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function nj(a,s,c,p,b,w){var k=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var O=a.entanglements,U=a.expirationTimes,G=a.hiddenUpdates;for(c=k&~c;0<c;){var X=31-zn(c),te=1<<X;O[X]=0,U[X]=-1;var V=G[X];if(V!==null)for(G[X]=null,X=0;X<V.length;X++){var K=V[X];K!==null&&(K.lane&=-536870913)}c&=~te}p!==0&&qw(a,p,0),w!==0&&b===0&&a.tag!==0&&(a.suspendedLanes|=w&~(k&~s))}function qw(a,s,c){a.pendingLanes|=s,a.suspendedLanes&=~s;var p=31-zn(s);a.entangledLanes|=s,a.entanglements[p]=a.entanglements[p]|1073741824|c&261930}function Hw(a,s){var c=a.entangledLanes|=s;for(a=a.entanglements;c;){var p=31-zn(c),b=1<<p;b&s|a[p]&s&&(a[p]|=s),c&=~b}}function Gw(a,s){var c=s&-s;return c=(c&42)!==0?1:Dp(c),(c&(a.suspendedLanes|s))!==0?0:c}function Dp(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Up(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Vw(){var a=Y.p;return a!==0?a:(a=window.event,a===void 0?32:P1(a.type))}function Fw(a,s){var c=Y.p;try{return Y.p=a,s()}finally{Y.p=c}}var Vi=Math.random().toString(36).slice(2),an="__reactFiber$"+Vi,An="__reactProps$"+Vi,Ao="__reactContainer$"+Vi,Lp="__reactEvents$"+Vi,rj="__reactListeners$"+Vi,ij="__reactHandles$"+Vi,Kw="__reactResources$"+Vi,gl="__reactMarker$"+Vi;function jp(a){delete a[an],delete a[An],delete a[Lp],delete a[rj],delete a[ij]}function Co(a){var s=a[an];if(s)return s;for(var c=a.parentNode;c;){if(s=c[Ao]||c[an]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(a=p1(a);a!==null;){if(c=a[an])return c;a=p1(a)}return s}a=c,c=a.parentNode}return null}function ko(a){if(a=a[an]||a[Ao]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function yl(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function No(a){var s=a[Kw];return s||(s=a[Kw]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ft(a){a[gl]=!0}var Yw=new Set,Ww={};function Ra(a,s){Po(a,s),Po(a+"Capture",s)}function Po(a,s){for(Ww[a]=s,a=0;a<s.length;a++)Yw.add(s[a])}var aj=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jw={},Xw={};function oj(a){return Rp.call(Xw,a)?!0:Rp.call(Jw,a)?!1:aj.test(a)?Xw[a]=!0:(Jw[a]=!0,!1)}function Nc(a,s,c){if(oj(s))if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var p=s.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+c)}}function Pc(a,s,c){if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+c)}}function Qr(a,s,c,p){if(p===null)a.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(s,c,""+p)}}function tr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Zw(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function sj(a,s,c){var p=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var b=p.get,w=p.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return b.call(this)},set:function(k){c=""+k,w.call(this,k)}}),Object.defineProperty(a,s,{enumerable:p.enumerable}),{getValue:function(){return c},setValue:function(k){c=""+k},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function Bp(a){if(!a._valueTracker){var s=Zw(a)?"checked":"value";a._valueTracker=sj(a,s,""+a[s])}}function Qw(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var c=s.getValue(),p="";return a&&(p=Zw(a)?a.checked?"true":"false":a.value),a=p,a!==c?(s.setValue(a),!0):!1}function Rc(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var lj=/[\n"\\]/g;function nr(a){return a.replace(lj,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function zp(a,s,c,p,b,w,k,O){a.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.type=k:a.removeAttribute("type"),s!=null?k==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+tr(s)):a.value!==""+tr(s)&&(a.value=""+tr(s)):k!=="submit"&&k!=="reset"||a.removeAttribute("value"),s!=null?$p(a,k,tr(s)):c!=null?$p(a,k,tr(c)):p!=null&&a.removeAttribute("value"),b==null&&w!=null&&(a.defaultChecked=!!w),b!=null&&(a.checked=b&&typeof b!="function"&&typeof b!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?a.name=""+tr(O):a.removeAttribute("name")}function e_(a,s,c,p,b,w,k,O){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.type=w),s!=null||c!=null){if(!(w!=="submit"&&w!=="reset"||s!=null)){Bp(a);return}c=c!=null?""+tr(c):"",s=s!=null?""+tr(s):c,O||s===a.value||(a.value=s),a.defaultValue=s}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=O?a.checked:!!p,a.defaultChecked=!!p,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(a.name=k),Bp(a)}function $p(a,s,c){s==="number"&&Rc(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function Ro(a,s,c,p){if(a=a.options,s){s={};for(var b=0;b<c.length;b++)s["$"+c[b]]=!0;for(c=0;c<a.length;c++)b=s.hasOwnProperty("$"+a[c].value),a[c].selected!==b&&(a[c].selected=b),b&&p&&(a[c].defaultSelected=!0)}else{for(c=""+tr(c),s=null,b=0;b<a.length;b++){if(a[b].value===c){a[b].selected=!0,p&&(a[b].defaultSelected=!0);return}s!==null||a[b].disabled||(s=a[b])}s!==null&&(s.selected=!0)}}function t_(a,s,c){if(s!=null&&(s=""+tr(s),s!==a.value&&(a.value=s),c==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=c!=null?""+tr(c):""}function n_(a,s,c,p){if(s==null){if(p!=null){if(c!=null)throw Error(r(92));if(Te(p)){if(1<p.length)throw Error(r(93));p=p[0]}c=p}c==null&&(c=""),s=c}c=tr(s),a.defaultValue=c,p=a.textContent,p===c&&p!==""&&p!==null&&(a.value=p),Bp(a)}function Oo(a,s){if(s){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=s;return}}a.textContent=s}var uj=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function r_(a,s,c){var p=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?p?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":p?a.setProperty(s,c):typeof c!="number"||c===0||uj.has(s)?s==="float"?a.cssFloat=c:a[s]=(""+c).trim():a[s]=c+"px"}function i_(a,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,c!=null){for(var p in c)!c.hasOwnProperty(p)||s!=null&&s.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var b in s)p=s[b],s.hasOwnProperty(b)&&c[b]!==p&&r_(a,b,p)}else for(var w in s)s.hasOwnProperty(w)&&r_(a,w,s[w])}function qp(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cj=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dj=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oc(a){return dj.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function ei(){}var Hp=null;function Gp(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Mo=null,Io=null;function a_(a){var s=ko(a);if(s&&(a=s.stateNode)){var c=a[An]||null;e:switch(a=s.stateNode,s.type){case"input":if(zp(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+nr(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var p=c[s];if(p!==a&&p.form===a.form){var b=p[An]||null;if(!b)throw Error(r(90));zp(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(s=0;s<c.length;s++)p=c[s],p.form===a.form&&Qw(p)}break e;case"textarea":t_(a,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&Ro(a,!!c.multiple,s,!1)}}}var Vp=!1;function o_(a,s,c){if(Vp)return a(s,c);Vp=!0;try{var p=a(s);return p}finally{if(Vp=!1,(Mo!==null||Io!==null)&&(bd(),Mo&&(s=Mo,a=Io,Io=Mo=null,a_(s),a)))for(s=0;s<a.length;s++)a_(a[s])}}function bl(a,s){var c=a.stateNode;if(c===null)return null;var p=c[An]||null;if(p===null)return null;c=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fp=!1;if(ti)try{var xl={};Object.defineProperty(xl,"passive",{get:function(){Fp=!0}}),window.addEventListener("test",xl,xl),window.removeEventListener("test",xl,xl)}catch{Fp=!1}var Fi=null,Kp=null,Mc=null;function s_(){if(Mc)return Mc;var a,s=Kp,c=s.length,p,b="value"in Fi?Fi.value:Fi.textContent,w=b.length;for(a=0;a<c&&s[a]===b[a];a++);var k=c-a;for(p=1;p<=k&&s[c-p]===b[w-p];p++);return Mc=b.slice(a,1<p?1-p:void 0)}function Ic(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Dc(){return!0}function l_(){return!1}function Cn(a){function s(c,p,b,w,k){this._reactName=c,this._targetInst=b,this.type=p,this.nativeEvent=w,this.target=k,this.currentTarget=null;for(var O in a)a.hasOwnProperty(O)&&(c=a[O],this[O]=c?c(w):w[O]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Dc:l_,this.isPropagationStopped=l_,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Dc)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Dc)},persist:function(){},isPersistent:Dc}),s}var Oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uc=Cn(Oa),wl=m({},Oa,{view:0,detail:0}),fj=Cn(wl),Yp,Wp,_l,Lc=m({},wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xp,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==_l&&(_l&&a.type==="mousemove"?(Yp=a.screenX-_l.screenX,Wp=a.screenY-_l.screenY):Wp=Yp=0,_l=a),Yp)},movementY:function(a){return"movementY"in a?a.movementY:Wp}}),u_=Cn(Lc),hj=m({},Lc,{dataTransfer:0}),pj=Cn(hj),mj=m({},wl,{relatedTarget:0}),Jp=Cn(mj),vj=m({},Oa,{animationName:0,elapsedTime:0,pseudoElement:0}),gj=Cn(vj),yj=m({},Oa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),bj=Cn(yj),xj=m({},Oa,{data:0}),c_=Cn(xj),wj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_j={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ej(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=Sj[a])?!!s[a]:!1}function Xp(){return Ej}var Tj=m({},wl,{key:function(a){if(a.key){var s=wj[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Ic(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?_j[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xp,charCode:function(a){return a.type==="keypress"?Ic(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ic(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Aj=Cn(Tj),Cj=m({},Lc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),d_=Cn(Cj),kj=m({},wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xp}),Nj=Cn(kj),Pj=m({},Oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rj=Cn(Pj),Oj=m({},Lc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Mj=Cn(Oj),Ij=m({},Oa,{newState:0,oldState:0}),Dj=Cn(Ij),Uj=[9,13,27,32],Zp=ti&&"CompositionEvent"in window,Sl=null;ti&&"documentMode"in document&&(Sl=document.documentMode);var Lj=ti&&"TextEvent"in window&&!Sl,f_=ti&&(!Zp||Sl&&8<Sl&&11>=Sl),h_=" ",p_=!1;function m_(a,s){switch(a){case"keyup":return Uj.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function v_(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Do=!1;function jj(a,s){switch(a){case"compositionend":return v_(s);case"keypress":return s.which!==32?null:(p_=!0,h_);case"textInput":return a=s.data,a===h_&&p_?null:a;default:return null}}function Bj(a,s){if(Do)return a==="compositionend"||!Zp&&m_(a,s)?(a=s_(),Mc=Kp=Fi=null,Do=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return f_&&s.locale!=="ko"?null:s.data;default:return null}}var zj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function g_(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!zj[a.type]:s==="textarea"}function y_(a,s,c,p){Mo?Io?Io.push(p):Io=[p]:Mo=p,s=Ad(s,"onChange"),0<s.length&&(c=new Uc("onChange","change",null,c,p),a.push({event:c,listeners:s}))}var El=null,Tl=null;function $j(a){e1(a,0)}function jc(a){var s=yl(a);if(Qw(s))return a}function b_(a,s){if(a==="change")return s}var x_=!1;if(ti){var Qp;if(ti){var em="oninput"in document;if(!em){var w_=document.createElement("div");w_.setAttribute("oninput","return;"),em=typeof w_.oninput=="function"}Qp=em}else Qp=!1;x_=Qp&&(!document.documentMode||9<document.documentMode)}function __(){El&&(El.detachEvent("onpropertychange",S_),Tl=El=null)}function S_(a){if(a.propertyName==="value"&&jc(Tl)){var s=[];y_(s,Tl,a,Gp(a)),o_($j,s)}}function qj(a,s,c){a==="focusin"?(__(),El=s,Tl=c,El.attachEvent("onpropertychange",S_)):a==="focusout"&&__()}function Hj(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return jc(Tl)}function Gj(a,s){if(a==="click")return jc(s)}function Vj(a,s){if(a==="input"||a==="change")return jc(s)}function Fj(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var $n=typeof Object.is=="function"?Object.is:Fj;function Al(a,s){if($n(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var c=Object.keys(a),p=Object.keys(s);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var b=c[p];if(!Rp.call(s,b)||!$n(a[b],s[b]))return!1}return!0}function E_(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function T_(a,s){var c=E_(a);a=0;for(var p;c;){if(c.nodeType===3){if(p=a+c.textContent.length,a<=s&&p>=s)return{node:c,offset:s-a};a=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=E_(c)}}function A_(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?A_(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function C_(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=Rc(a.document);s instanceof a.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)a=s.contentWindow;else break;s=Rc(a.document)}return s}function tm(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var Kj=ti&&"documentMode"in document&&11>=document.documentMode,Uo=null,nm=null,Cl=null,rm=!1;function k_(a,s,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;rm||Uo==null||Uo!==Rc(p)||(p=Uo,"selectionStart"in p&&tm(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Cl&&Al(Cl,p)||(Cl=p,p=Ad(nm,"onSelect"),0<p.length&&(s=new Uc("onSelect","select",null,s,c),a.push({event:s,listeners:p}),s.target=Uo)))}function Ma(a,s){var c={};return c[a.toLowerCase()]=s.toLowerCase(),c["Webkit"+a]="webkit"+s,c["Moz"+a]="moz"+s,c}var Lo={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionrun:Ma("Transition","TransitionRun"),transitionstart:Ma("Transition","TransitionStart"),transitioncancel:Ma("Transition","TransitionCancel"),transitionend:Ma("Transition","TransitionEnd")},im={},N_={};ti&&(N_=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function Ia(a){if(im[a])return im[a];if(!Lo[a])return a;var s=Lo[a],c;for(c in s)if(s.hasOwnProperty(c)&&c in N_)return im[a]=s[c];return a}var P_=Ia("animationend"),R_=Ia("animationiteration"),O_=Ia("animationstart"),Yj=Ia("transitionrun"),Wj=Ia("transitionstart"),Jj=Ia("transitioncancel"),M_=Ia("transitionend"),I_=new Map,am="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");am.push("scrollEnd");function wr(a,s){I_.set(a,s),Ra(s,[a])}var Bc=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},rr=[],jo=0,om=0;function zc(){for(var a=jo,s=om=jo=0;s<a;){var c=rr[s];rr[s++]=null;var p=rr[s];rr[s++]=null;var b=rr[s];rr[s++]=null;var w=rr[s];if(rr[s++]=null,p!==null&&b!==null){var k=p.pending;k===null?b.next=b:(b.next=k.next,k.next=b),p.pending=b}w!==0&&D_(c,b,w)}}function $c(a,s,c,p){rr[jo++]=a,rr[jo++]=s,rr[jo++]=c,rr[jo++]=p,om|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function sm(a,s,c,p){return $c(a,s,c,p),qc(a)}function Da(a,s){return $c(a,null,null,s),qc(a)}function D_(a,s,c){a.lanes|=c;var p=a.alternate;p!==null&&(p.lanes|=c);for(var b=!1,w=a.return;w!==null;)w.childLanes|=c,p=w.alternate,p!==null&&(p.childLanes|=c),w.tag===22&&(a=w.stateNode,a===null||a._visibility&1||(b=!0)),a=w,w=w.return;return a.tag===3?(w=a.stateNode,b&&s!==null&&(b=31-zn(c),a=w.hiddenUpdates,p=a[b],p===null?a[b]=[s]:p.push(s),s.lane=c|536870912),w):null}function qc(a){if(50<Wl)throw Wl=0,vv=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var Bo={};function Xj(a,s,c,p){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(a,s,c,p){return new Xj(a,s,c,p)}function lm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ni(a,s){var c=a.alternate;return c===null?(c=qn(a.tag,s,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=s,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,s=a.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function U_(a,s){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,s=c.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function Hc(a,s,c,p,b,w){var k=0;if(p=a,typeof a=="function")lm(a)&&(k=1);else if(typeof a=="string")k=n3(a,c,ae.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case $:return a=qn(31,c,s,b),a.elementType=$,a.lanes=w,a;case E:return Ua(c.children,b,w,s);case T:k=8,b|=24;break;case C:return a=qn(12,c,s,b|2),a.elementType=C,a.lanes=w,a;case M:return a=qn(13,c,s,b),a.elementType=M,a.lanes=w,a;case I:return a=qn(19,c,s,b),a.elementType=I,a.lanes=w,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case N:k=10;break e;case P:k=9;break e;case R:k=11;break e;case D:k=14;break e;case F:k=16,p=null;break e}k=29,c=Error(r(130,a===null?"null":typeof a,"")),p=null}return s=qn(k,c,s,b),s.elementType=a,s.type=p,s.lanes=w,s}function Ua(a,s,c,p){return a=qn(7,a,p,s),a.lanes=c,a}function um(a,s,c){return a=qn(6,a,null,s),a.lanes=c,a}function L_(a){var s=qn(18,null,null,0);return s.stateNode=a,s}function cm(a,s,c){return s=qn(4,a.children!==null?a.children:[],a.key,s),s.lanes=c,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var j_=new WeakMap;function ir(a,s){if(typeof a=="object"&&a!==null){var c=j_.get(a);return c!==void 0?c:(s={value:a,source:s,stack:hl(s)},j_.set(a,s),s)}return{value:a,source:s,stack:hl(s)}}var zo=[],$o=0,Gc=null,kl=0,ar=[],or=0,Ki=null,zr=1,$r="";function ri(a,s){zo[$o++]=kl,zo[$o++]=Gc,Gc=a,kl=s}function B_(a,s,c){ar[or++]=zr,ar[or++]=$r,ar[or++]=Ki,Ki=a;var p=zr;a=$r;var b=32-zn(p)-1;p&=~(1<<b),c+=1;var w=32-zn(s)+b;if(30<w){var k=b-b%5;w=(p&(1<<k)-1).toString(32),p>>=k,b-=k,zr=1<<32-zn(s)+b|c<<b|p,$r=w+a}else zr=1<<w|c<<b|p,$r=a}function dm(a){a.return!==null&&(ri(a,1),B_(a,1,0))}function fm(a){for(;a===Gc;)Gc=zo[--$o],zo[$o]=null,kl=zo[--$o],zo[$o]=null;for(;a===Ki;)Ki=ar[--or],ar[or]=null,$r=ar[--or],ar[or]=null,zr=ar[--or],ar[or]=null}function z_(a,s){ar[or++]=zr,ar[or++]=$r,ar[or++]=Ki,zr=s.id,$r=s.overflow,Ki=a}var on=null,ut=null,ze=!1,Yi=null,sr=!1,hm=Error(r(519));function Wi(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nl(ir(s,a)),hm}function $_(a){var s=a.stateNode,c=a.type,p=a.memoizedProps;switch(s[an]=a,s[An]=p,c){case"dialog":De("cancel",s),De("close",s);break;case"iframe":case"object":case"embed":De("load",s);break;case"video":case"audio":for(c=0;c<Xl.length;c++)De(Xl[c],s);break;case"source":De("error",s);break;case"img":case"image":case"link":De("error",s),De("load",s);break;case"details":De("toggle",s);break;case"input":De("invalid",s),e_(s,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":De("invalid",s);break;case"textarea":De("invalid",s),n_(s,p.value,p.defaultValue,p.children)}c=p.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||p.suppressHydrationWarning===!0||i1(s.textContent,c)?(p.popover!=null&&(De("beforetoggle",s),De("toggle",s)),p.onScroll!=null&&De("scroll",s),p.onScrollEnd!=null&&De("scrollend",s),p.onClick!=null&&(s.onclick=ei),s=!0):s=!1,s||Wi(a,!0)}function q_(a){for(on=a.return;on;)switch(on.tag){case 5:case 31:case 13:sr=!1;return;case 27:case 3:sr=!0;return;default:on=on.return}}function qo(a){if(a!==on)return!1;if(!ze)return q_(a),ze=!0,!1;var s=a.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||Rv(a.type,a.memoizedProps)),c=!c),c&&ut&&Wi(a),q_(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));ut=h1(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));ut=h1(a)}else s===27?(s=ut,ua(a.type)?(a=Uv,Uv=null,ut=a):ut=s):ut=on?ur(a.stateNode.nextSibling):null;return!0}function La(){ut=on=null,ze=!1}function pm(){var a=Yi;return a!==null&&(Rn===null?Rn=a:Rn.push.apply(Rn,a),Yi=null),a}function Nl(a){Yi===null?Yi=[a]:Yi.push(a)}var mm=L(null),ja=null,ii=null;function Ji(a,s,c){ie(mm,s._currentValue),s._currentValue=c}function ai(a){a._currentValue=mm.current,J(mm)}function vm(a,s,c){for(;a!==null;){var p=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),a===c)break;a=a.return}}function gm(a,s,c,p){var b=a.child;for(b!==null&&(b.return=a);b!==null;){var w=b.dependencies;if(w!==null){var k=b.child;w=w.firstContext;e:for(;w!==null;){var O=w;w=b;for(var U=0;U<s.length;U++)if(O.context===s[U]){w.lanes|=c,O=w.alternate,O!==null&&(O.lanes|=c),vm(w.return,c,a),p||(k=null);break e}w=O.next}}else if(b.tag===18){if(k=b.return,k===null)throw Error(r(341));k.lanes|=c,w=k.alternate,w!==null&&(w.lanes|=c),vm(k,c,a),k=null}else k=b.child;if(k!==null)k.return=b;else for(k=b;k!==null;){if(k===a){k=null;break}if(b=k.sibling,b!==null){b.return=k.return,k=b;break}k=k.return}b=k}}function Ho(a,s,c,p){a=null;for(var b=s,w=!1;b!==null;){if(!w){if((b.flags&524288)!==0)w=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var k=b.alternate;if(k===null)throw Error(r(387));if(k=k.memoizedProps,k!==null){var O=b.type;$n(b.pendingProps.value,k.value)||(a!==null?a.push(O):a=[O])}}else if(b===xe.current){if(k=b.alternate,k===null)throw Error(r(387));k.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(a!==null?a.push(nu):a=[nu])}b=b.return}a!==null&&gm(s,a,c,p),s.flags|=262144}function Vc(a){for(a=a.firstContext;a!==null;){if(!$n(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ba(a){ja=a,ii=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function sn(a){return H_(ja,a)}function Fc(a,s){return ja===null&&Ba(a),H_(a,s)}function H_(a,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},ii===null){if(a===null)throw Error(r(308));ii=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else ii=ii.next=s;return c}var Zj=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(c,p){a.push(p)}};this.abort=function(){s.aborted=!0,a.forEach(function(c){return c()})}},Qj=e.unstable_scheduleCallback,e4=e.unstable_NormalPriority,Rt={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ym(){return{controller:new Zj,data:new Map,refCount:0}}function Pl(a){a.refCount--,a.refCount===0&&Qj(e4,function(){a.controller.abort()})}var Rl=null,bm=0,Go=0,Vo=null;function t4(a,s){if(Rl===null){var c=Rl=[];bm=0,Go=_v(),Vo={status:"pending",value:void 0,then:function(p){c.push(p)}}}return bm++,s.then(G_,G_),s}function G_(){if(--bm===0&&Rl!==null){Vo!==null&&(Vo.status="fulfilled");var a=Rl;Rl=null,Go=0,Vo=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function n4(a,s){var c=[],p={status:"pending",value:null,reason:null,then:function(b){c.push(b)}};return a.then(function(){p.status="fulfilled",p.value=s;for(var b=0;b<c.length;b++)(0,c[b])(s)},function(b){for(p.status="rejected",p.reason=b,b=0;b<c.length;b++)(0,c[b])(void 0)}),p}var V_=j.S;j.S=function(a,s){kE=jn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&t4(a,s),V_!==null&&V_(a,s)};var za=L(null);function xm(){var a=za.current;return a!==null?a:rt.pooledCache}function Kc(a,s){s===null?ie(za,za.current):ie(za,s.pool)}function F_(){var a=xm();return a===null?null:{parent:Rt._currentValue,pool:a}}var Fo=Error(r(460)),wm=Error(r(474)),Yc=Error(r(542)),Wc={then:function(){}};function K_(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Y_(a,s,c){switch(c=a[c],c===void 0?a.push(s):c!==s&&(s.then(ei,ei),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,J_(a),a;default:if(typeof s.status=="string")s.then(ei,ei);else{if(a=rt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(p){if(s.status==="pending"){var b=s;b.status="fulfilled",b.value=p}},function(p){if(s.status==="pending"){var b=s;b.status="rejected",b.reason=p}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,J_(a),a}throw qa=s,Fo}}function $a(a){try{var s=a._init;return s(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(qa=c,Fo):c}}var qa=null;function W_(){if(qa===null)throw Error(r(459));var a=qa;return qa=null,a}function J_(a){if(a===Fo||a===Yc)throw Error(r(483))}var Ko=null,Ol=0;function Jc(a){var s=Ol;return Ol+=1,Ko===null&&(Ko=[]),Y_(Ko,a,s)}function Ml(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function Xc(a,s){throw s.$$typeof===g?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function X_(a){function s(z,B){if(a){var H=z.deletions;H===null?(z.deletions=[B],z.flags|=16):H.push(B)}}function c(z,B){if(!a)return null;for(;B!==null;)s(z,B),B=B.sibling;return null}function p(z){for(var B=new Map;z!==null;)z.key!==null?B.set(z.key,z):B.set(z.index,z),z=z.sibling;return B}function b(z,B){return z=ni(z,B),z.index=0,z.sibling=null,z}function w(z,B,H){return z.index=H,a?(H=z.alternate,H!==null?(H=H.index,H<B?(z.flags|=67108866,B):H):(z.flags|=67108866,B)):(z.flags|=1048576,B)}function k(z){return a&&z.alternate===null&&(z.flags|=67108866),z}function O(z,B,H,ee){return B===null||B.tag!==6?(B=um(H,z.mode,ee),B.return=z,B):(B=b(B,H),B.return=z,B)}function U(z,B,H,ee){var ye=H.type;return ye===E?X(z,B,H.props.children,ee,H.key):B!==null&&(B.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===F&&$a(ye)===B.type)?(B=b(B,H.props),Ml(B,H),B.return=z,B):(B=Hc(H.type,H.key,H.props,null,z.mode,ee),Ml(B,H),B.return=z,B)}function G(z,B,H,ee){return B===null||B.tag!==4||B.stateNode.containerInfo!==H.containerInfo||B.stateNode.implementation!==H.implementation?(B=cm(H,z.mode,ee),B.return=z,B):(B=b(B,H.children||[]),B.return=z,B)}function X(z,B,H,ee,ye){return B===null||B.tag!==7?(B=Ua(H,z.mode,ee,ye),B.return=z,B):(B=b(B,H),B.return=z,B)}function te(z,B,H){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=um(""+B,z.mode,H),B.return=z,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case x:return H=Hc(B.type,B.key,B.props,null,z.mode,H),Ml(H,B),H.return=z,H;case S:return B=cm(B,z.mode,H),B.return=z,B;case F:return B=$a(B),te(z,B,H)}if(Te(B)||ne(B))return B=Ua(B,z.mode,H,null),B.return=z,B;if(typeof B.then=="function")return te(z,Jc(B),H);if(B.$$typeof===N)return te(z,Fc(z,B),H);Xc(z,B)}return null}function V(z,B,H,ee){var ye=B!==null?B.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ye!==null?null:O(z,B,""+H,ee);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case x:return H.key===ye?U(z,B,H,ee):null;case S:return H.key===ye?G(z,B,H,ee):null;case F:return H=$a(H),V(z,B,H,ee)}if(Te(H)||ne(H))return ye!==null?null:X(z,B,H,ee,null);if(typeof H.then=="function")return V(z,B,Jc(H),ee);if(H.$$typeof===N)return V(z,B,Fc(z,H),ee);Xc(z,H)}return null}function K(z,B,H,ee,ye){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return z=z.get(H)||null,O(B,z,""+ee,ye);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case x:return z=z.get(ee.key===null?H:ee.key)||null,U(B,z,ee,ye);case S:return z=z.get(ee.key===null?H:ee.key)||null,G(B,z,ee,ye);case F:return ee=$a(ee),K(z,B,H,ee,ye)}if(Te(ee)||ne(ee))return z=z.get(H)||null,X(B,z,ee,ye,null);if(typeof ee.then=="function")return K(z,B,H,Jc(ee),ye);if(ee.$$typeof===N)return K(z,B,H,Fc(B,ee),ye);Xc(B,ee)}return null}function pe(z,B,H,ee){for(var ye=null,He=null,ve=B,Re=B=0,Le=null;ve!==null&&Re<H.length;Re++){ve.index>Re?(Le=ve,ve=null):Le=ve.sibling;var Ge=V(z,ve,H[Re],ee);if(Ge===null){ve===null&&(ve=Le);break}a&&ve&&Ge.alternate===null&&s(z,ve),B=w(Ge,B,Re),He===null?ye=Ge:He.sibling=Ge,He=Ge,ve=Le}if(Re===H.length)return c(z,ve),ze&&ri(z,Re),ye;if(ve===null){for(;Re<H.length;Re++)ve=te(z,H[Re],ee),ve!==null&&(B=w(ve,B,Re),He===null?ye=ve:He.sibling=ve,He=ve);return ze&&ri(z,Re),ye}for(ve=p(ve);Re<H.length;Re++)Le=K(ve,z,Re,H[Re],ee),Le!==null&&(a&&Le.alternate!==null&&ve.delete(Le.key===null?Re:Le.key),B=w(Le,B,Re),He===null?ye=Le:He.sibling=Le,He=Le);return a&&ve.forEach(function(pa){return s(z,pa)}),ze&&ri(z,Re),ye}function we(z,B,H,ee){if(H==null)throw Error(r(151));for(var ye=null,He=null,ve=B,Re=B=0,Le=null,Ge=H.next();ve!==null&&!Ge.done;Re++,Ge=H.next()){ve.index>Re?(Le=ve,ve=null):Le=ve.sibling;var pa=V(z,ve,Ge.value,ee);if(pa===null){ve===null&&(ve=Le);break}a&&ve&&pa.alternate===null&&s(z,ve),B=w(pa,B,Re),He===null?ye=pa:He.sibling=pa,He=pa,ve=Le}if(Ge.done)return c(z,ve),ze&&ri(z,Re),ye;if(ve===null){for(;!Ge.done;Re++,Ge=H.next())Ge=te(z,Ge.value,ee),Ge!==null&&(B=w(Ge,B,Re),He===null?ye=Ge:He.sibling=Ge,He=Ge);return ze&&ri(z,Re),ye}for(ve=p(ve);!Ge.done;Re++,Ge=H.next())Ge=K(ve,z,Re,Ge.value,ee),Ge!==null&&(a&&Ge.alternate!==null&&ve.delete(Ge.key===null?Re:Ge.key),B=w(Ge,B,Re),He===null?ye=Ge:He.sibling=Ge,He=Ge);return a&&ve.forEach(function(h3){return s(z,h3)}),ze&&ri(z,Re),ye}function et(z,B,H,ee){if(typeof H=="object"&&H!==null&&H.type===E&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case x:e:{for(var ye=H.key;B!==null;){if(B.key===ye){if(ye=H.type,ye===E){if(B.tag===7){c(z,B.sibling),ee=b(B,H.props.children),ee.return=z,z=ee;break e}}else if(B.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===F&&$a(ye)===B.type){c(z,B.sibling),ee=b(B,H.props),Ml(ee,H),ee.return=z,z=ee;break e}c(z,B);break}else s(z,B);B=B.sibling}H.type===E?(ee=Ua(H.props.children,z.mode,ee,H.key),ee.return=z,z=ee):(ee=Hc(H.type,H.key,H.props,null,z.mode,ee),Ml(ee,H),ee.return=z,z=ee)}return k(z);case S:e:{for(ye=H.key;B!==null;){if(B.key===ye)if(B.tag===4&&B.stateNode.containerInfo===H.containerInfo&&B.stateNode.implementation===H.implementation){c(z,B.sibling),ee=b(B,H.children||[]),ee.return=z,z=ee;break e}else{c(z,B);break}else s(z,B);B=B.sibling}ee=cm(H,z.mode,ee),ee.return=z,z=ee}return k(z);case F:return H=$a(H),et(z,B,H,ee)}if(Te(H))return pe(z,B,H,ee);if(ne(H)){if(ye=ne(H),typeof ye!="function")throw Error(r(150));return H=ye.call(H),we(z,B,H,ee)}if(typeof H.then=="function")return et(z,B,Jc(H),ee);if(H.$$typeof===N)return et(z,B,Fc(z,H),ee);Xc(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,B!==null&&B.tag===6?(c(z,B.sibling),ee=b(B,H),ee.return=z,z=ee):(c(z,B),ee=um(H,z.mode,ee),ee.return=z,z=ee),k(z)):c(z,B)}return function(z,B,H,ee){try{Ol=0;var ye=et(z,B,H,ee);return Ko=null,ye}catch(ve){if(ve===Fo||ve===Yc)throw ve;var He=qn(29,ve,null,z.mode);return He.lanes=ee,He.return=z,He}finally{}}}var Ha=X_(!0),Z_=X_(!1),Xi=!1;function _m(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sm(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Zi(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Qi(a,s,c){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(Ke&2)!==0){var b=p.pending;return b===null?s.next=s:(s.next=b.next,b.next=s),p.pending=s,s=qc(a),D_(a,null,c),s}return $c(a,p,s,c),qc(a)}function Il(a,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var p=s.lanes;p&=a.pendingLanes,c|=p,s.lanes=c,Hw(a,c)}}function Em(a,s){var c=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var b=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var k={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};w===null?b=w=k:w=w.next=k,c=c.next}while(c!==null);w===null?b=w=s:w=w.next=s}else b=w=s;c={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:w,shared:p.shared,callbacks:p.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=s:a.next=s,c.lastBaseUpdate=s}var Tm=!1;function Dl(){if(Tm){var a=Vo;if(a!==null)throw a}}function Ul(a,s,c,p){Tm=!1;var b=a.updateQueue;Xi=!1;var w=b.firstBaseUpdate,k=b.lastBaseUpdate,O=b.shared.pending;if(O!==null){b.shared.pending=null;var U=O,G=U.next;U.next=null,k===null?w=G:k.next=G,k=U;var X=a.alternate;X!==null&&(X=X.updateQueue,O=X.lastBaseUpdate,O!==k&&(O===null?X.firstBaseUpdate=G:O.next=G,X.lastBaseUpdate=U))}if(w!==null){var te=b.baseState;k=0,X=G=U=null,O=w;do{var V=O.lane&-536870913,K=V!==O.lane;if(K?(Ue&V)===V:(p&V)===V){V!==0&&V===Go&&(Tm=!0),X!==null&&(X=X.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var pe=a,we=O;V=s;var et=c;switch(we.tag){case 1:if(pe=we.payload,typeof pe=="function"){te=pe.call(et,te,V);break e}te=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=we.payload,V=typeof pe=="function"?pe.call(et,te,V):pe,V==null)break e;te=m({},te,V);break e;case 2:Xi=!0}}V=O.callback,V!==null&&(a.flags|=64,K&&(a.flags|=8192),K=b.callbacks,K===null?b.callbacks=[V]:K.push(V))}else K={lane:V,tag:O.tag,payload:O.payload,callback:O.callback,next:null},X===null?(G=X=K,U=te):X=X.next=K,k|=V;if(O=O.next,O===null){if(O=b.shared.pending,O===null)break;K=O,O=K.next,K.next=null,b.lastBaseUpdate=K,b.shared.pending=null}}while(!0);X===null&&(U=te),b.baseState=U,b.firstBaseUpdate=G,b.lastBaseUpdate=X,w===null&&(b.shared.lanes=0),ia|=k,a.lanes=k,a.memoizedState=te}}function Q_(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function eS(a,s){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)Q_(c[a],s)}var Yo=L(null),Zc=L(0);function tS(a,s){a=pi,ie(Zc,a),ie(Yo,s),pi=a|s.baseLanes}function Am(){ie(Zc,pi),ie(Yo,Yo.current)}function Cm(){pi=Zc.current,J(Yo),J(Zc)}var Hn=L(null),lr=null;function ea(a){var s=a.alternate;ie(St,St.current&1),ie(Hn,a),lr===null&&(s===null||Yo.current!==null||s.memoizedState!==null)&&(lr=a)}function km(a){ie(St,St.current),ie(Hn,a),lr===null&&(lr=a)}function nS(a){a.tag===22?(ie(St,St.current),ie(Hn,a),lr===null&&(lr=a)):ta()}function ta(){ie(St,St.current),ie(Hn,Hn.current)}function Gn(a){J(Hn),lr===a&&(lr=null),J(St)}var St=L(0);function Qc(a){for(var s=a;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Iv(c)||Dv(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var oi=0,Pe=null,Ze=null,Ot=null,ed=!1,Wo=!1,Ga=!1,td=0,Ll=0,Jo=null,r4=0;function bt(){throw Error(r(321))}function Nm(a,s){if(s===null)return!1;for(var c=0;c<s.length&&c<a.length;c++)if(!$n(a[c],s[c]))return!1;return!0}function Pm(a,s,c,p,b,w){return oi=w,Pe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,j.H=a===null||a.memoizedState===null?BS:Vm,Ga=!1,w=c(p,b),Ga=!1,Wo&&(w=iS(s,c,p,b)),rS(a),w}function rS(a){j.H=zl;var s=Ze!==null&&Ze.next!==null;if(oi=0,Ot=Ze=Pe=null,ed=!1,Ll=0,Jo=null,s)throw Error(r(300));a===null||Mt||(a=a.dependencies,a!==null&&Vc(a)&&(Mt=!0))}function iS(a,s,c,p){Pe=a;var b=0;do{if(Wo&&(Jo=null),Ll=0,Wo=!1,25<=b)throw Error(r(301));if(b+=1,Ot=Ze=null,a.updateQueue!=null){var w=a.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}j.H=zS,w=s(c,p)}while(Wo);return w}function i4(){var a=j.H,s=a.useState()[0];return s=typeof s.then=="function"?jl(s):s,a=a.useState()[0],(Ze!==null?Ze.memoizedState:null)!==a&&(Pe.flags|=1024),s}function Rm(){var a=td!==0;return td=0,a}function Om(a,s,c){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~c}function Mm(a){if(ed){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}ed=!1}oi=0,Ot=Ze=Pe=null,Wo=!1,Ll=td=0,Jo=null}function bn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Pe.memoizedState=Ot=a:Ot=Ot.next=a,Ot}function Et(){if(Ze===null){var a=Pe.alternate;a=a!==null?a.memoizedState:null}else a=Ze.next;var s=Ot===null?Pe.memoizedState:Ot.next;if(s!==null)Ot=s,Ze=a;else{if(a===null)throw Pe.alternate===null?Error(r(467)):Error(r(310));Ze=a,a={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Ot===null?Pe.memoizedState=Ot=a:Ot=Ot.next=a}return Ot}function nd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jl(a){var s=Ll;return Ll+=1,Jo===null&&(Jo=[]),a=Y_(Jo,a,s),s=Pe,(Ot===null?s.memoizedState:Ot.next)===null&&(s=s.alternate,j.H=s===null||s.memoizedState===null?BS:Vm),a}function rd(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return jl(a);if(a.$$typeof===N)return sn(a)}throw Error(r(438,String(a)))}function Im(a){var s=null,c=Pe.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var p=Pe.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(s={data:p.data.map(function(b){return b.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=nd(),Pe.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(a),p=0;p<a;p++)c[p]=Q;return s.index++,c}function si(a,s){return typeof s=="function"?s(a):s}function id(a){var s=Et();return Dm(s,Ze,a)}function Dm(a,s,c){var p=a.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=c;var b=a.baseQueue,w=p.pending;if(w!==null){if(b!==null){var k=b.next;b.next=w.next,w.next=k}s.baseQueue=b=w,p.pending=null}if(w=a.baseState,b===null)a.memoizedState=w;else{s=b.next;var O=k=null,U=null,G=s,X=!1;do{var te=G.lane&-536870913;if(te!==G.lane?(Ue&te)===te:(oi&te)===te){var V=G.revertLane;if(V===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),te===Go&&(X=!0);else if((oi&V)===V){G=G.next,V===Go&&(X=!0);continue}else te={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},U===null?(O=U=te,k=w):U=U.next=te,Pe.lanes|=V,ia|=V;te=G.action,Ga&&c(w,te),w=G.hasEagerState?G.eagerState:c(w,te)}else V={lane:te,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},U===null?(O=U=V,k=w):U=U.next=V,Pe.lanes|=te,ia|=te;G=G.next}while(G!==null&&G!==s);if(U===null?k=w:U.next=O,!$n(w,a.memoizedState)&&(Mt=!0,X&&(c=Vo,c!==null)))throw c;a.memoizedState=w,a.baseState=k,a.baseQueue=U,p.lastRenderedState=w}return b===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function Um(a){var s=Et(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var p=c.dispatch,b=c.pending,w=s.memoizedState;if(b!==null){c.pending=null;var k=b=b.next;do w=a(w,k.action),k=k.next;while(k!==b);$n(w,s.memoizedState)||(Mt=!0),s.memoizedState=w,s.baseQueue===null&&(s.baseState=w),c.lastRenderedState=w}return[w,p]}function aS(a,s,c){var p=Pe,b=Et(),w=ze;if(w){if(c===void 0)throw Error(r(407));c=c()}else c=s();var k=!$n((Ze||b).memoizedState,c);if(k&&(b.memoizedState=c,Mt=!0),b=b.queue,Bm(lS.bind(null,p,b,a),[a]),b.getSnapshot!==s||k||Ot!==null&&Ot.memoizedState.tag&1){if(p.flags|=2048,Xo(9,{destroy:void 0},sS.bind(null,p,b,c,s),null),rt===null)throw Error(r(349));w||(oi&127)!==0||oS(p,s,c)}return c}function oS(a,s,c){a.flags|=16384,a={getSnapshot:s,value:c},s=Pe.updateQueue,s===null?(s=nd(),Pe.updateQueue=s,s.stores=[a]):(c=s.stores,c===null?s.stores=[a]:c.push(a))}function sS(a,s,c,p){s.value=c,s.getSnapshot=p,uS(s)&&cS(a)}function lS(a,s,c){return c(function(){uS(s)&&cS(a)})}function uS(a){var s=a.getSnapshot;a=a.value;try{var c=s();return!$n(a,c)}catch{return!0}}function cS(a){var s=Da(a,2);s!==null&&On(s,a,2)}function Lm(a){var s=bn();if(typeof a=="function"){var c=a;if(a=c(),Ga){Gi(!0);try{c()}finally{Gi(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:a},s}function dS(a,s,c,p){return a.baseState=c,Dm(a,Ze,typeof p=="function"?p:si)}function a4(a,s,c,p,b){if(sd(a))throw Error(r(485));if(a=s.action,a!==null){var w={payload:b,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){w.listeners.push(k)}};j.T!==null?c(!0):w.isTransition=!1,p(w),c=s.pending,c===null?(w.next=s.pending=w,fS(s,w)):(w.next=c.next,s.pending=c.next=w)}}function fS(a,s){var c=s.action,p=s.payload,b=a.state;if(s.isTransition){var w=j.T,k={};j.T=k;try{var O=c(b,p),U=j.S;U!==null&&U(k,O),hS(a,s,O)}catch(G){jm(a,s,G)}finally{w!==null&&k.types!==null&&(w.types=k.types),j.T=w}}else try{w=c(b,p),hS(a,s,w)}catch(G){jm(a,s,G)}}function hS(a,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(p){pS(a,s,p)},function(p){return jm(a,s,p)}):pS(a,s,c)}function pS(a,s,c){s.status="fulfilled",s.value=c,mS(s),a.state=c,s=a.pending,s!==null&&(c=s.next,c===s?a.pending=null:(c=c.next,s.next=c,fS(a,c)))}function jm(a,s,c){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do s.status="rejected",s.reason=c,mS(s),s=s.next;while(s!==p)}a.action=null}function mS(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function vS(a,s){return s}function gS(a,s){if(ze){var c=rt.formState;if(c!==null){e:{var p=Pe;if(ze){if(ut){t:{for(var b=ut,w=sr;b.nodeType!==8;){if(!w){b=null;break t}if(b=ur(b.nextSibling),b===null){b=null;break t}}w=b.data,b=w==="F!"||w==="F"?b:null}if(b){ut=ur(b.nextSibling),p=b.data==="F!";break e}}Wi(p)}p=!1}p&&(s=c[0])}}return c=bn(),c.memoizedState=c.baseState=s,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vS,lastRenderedState:s},c.queue=p,c=US.bind(null,Pe,p),p.dispatch=c,p=Lm(!1),w=Gm.bind(null,Pe,!1,p.queue),p=bn(),b={state:s,dispatch:null,action:a,pending:null},p.queue=b,c=a4.bind(null,Pe,b,w,c),b.dispatch=c,p.memoizedState=a,[s,c,!1]}function yS(a){var s=Et();return bS(s,Ze,a)}function bS(a,s,c){if(s=Dm(a,s,vS)[0],a=id(si)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var p=jl(s)}catch(k){throw k===Fo?Yc:k}else p=s;s=Et();var b=s.queue,w=b.dispatch;return c!==s.memoizedState&&(Pe.flags|=2048,Xo(9,{destroy:void 0},o4.bind(null,b,c),null)),[p,w,a]}function o4(a,s){a.action=s}function xS(a){var s=Et(),c=Ze;if(c!==null)return bS(s,c,a);Et(),s=s.memoizedState,c=Et();var p=c.queue.dispatch;return c.memoizedState=a,[s,p,!1]}function Xo(a,s,c,p){return a={tag:a,create:c,deps:p,inst:s,next:null},s=Pe.updateQueue,s===null&&(s=nd(),Pe.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=a.next=a:(p=c.next,c.next=a,a.next=p,s.lastEffect=a),a}function wS(){return Et().memoizedState}function ad(a,s,c,p){var b=bn();Pe.flags|=a,b.memoizedState=Xo(1|s,{destroy:void 0},c,p===void 0?null:p)}function od(a,s,c,p){var b=Et();p=p===void 0?null:p;var w=b.memoizedState.inst;Ze!==null&&p!==null&&Nm(p,Ze.memoizedState.deps)?b.memoizedState=Xo(s,w,c,p):(Pe.flags|=a,b.memoizedState=Xo(1|s,w,c,p))}function _S(a,s){ad(8390656,8,a,s)}function Bm(a,s){od(2048,8,a,s)}function s4(a){Pe.flags|=4;var s=Pe.updateQueue;if(s===null)s=nd(),Pe.updateQueue=s,s.events=[a];else{var c=s.events;c===null?s.events=[a]:c.push(a)}}function SS(a){var s=Et().memoizedState;return s4({ref:s,nextImpl:a}),function(){if((Ke&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function ES(a,s){return od(4,2,a,s)}function TS(a,s){return od(4,4,a,s)}function AS(a,s){if(typeof s=="function"){a=a();var c=s(a);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function CS(a,s,c){c=c!=null?c.concat([a]):null,od(4,4,AS.bind(null,s,a),c)}function zm(){}function kS(a,s){var c=Et();s=s===void 0?null:s;var p=c.memoizedState;return s!==null&&Nm(s,p[1])?p[0]:(c.memoizedState=[a,s],a)}function NS(a,s){var c=Et();s=s===void 0?null:s;var p=c.memoizedState;if(s!==null&&Nm(s,p[1]))return p[0];if(p=a(),Ga){Gi(!0);try{a()}finally{Gi(!1)}}return c.memoizedState=[p,s],p}function $m(a,s,c){return c===void 0||(oi&1073741824)!==0&&(Ue&261930)===0?a.memoizedState=s:(a.memoizedState=c,a=PE(),Pe.lanes|=a,ia|=a,c)}function PS(a,s,c,p){return $n(c,s)?c:Yo.current!==null?(a=$m(a,c,p),$n(a,s)||(Mt=!0),a):(oi&42)===0||(oi&1073741824)!==0&&(Ue&261930)===0?(Mt=!0,a.memoizedState=c):(a=PE(),Pe.lanes|=a,ia|=a,s)}function RS(a,s,c,p,b){var w=Y.p;Y.p=w!==0&&8>w?w:8;var k=j.T,O={};j.T=O,Gm(a,!1,s,c);try{var U=b(),G=j.S;if(G!==null&&G(O,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var X=n4(U,p);Bl(a,s,X,Kn(a))}else Bl(a,s,p,Kn(a))}catch(te){Bl(a,s,{then:function(){},status:"rejected",reason:te},Kn())}finally{Y.p=w,k!==null&&O.types!==null&&(k.types=O.types),j.T=k}}function l4(){}function qm(a,s,c,p){if(a.tag!==5)throw Error(r(476));var b=OS(a).queue;RS(a,b,s,oe,c===null?l4:function(){return MS(a),c(p)})}function OS(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:oe},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:c},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function MS(a){var s=OS(a);s.next===null&&(s=a.alternate.memoizedState),Bl(a,s.next.queue,{},Kn())}function Hm(){return sn(nu)}function IS(){return Et().memoizedState}function DS(){return Et().memoizedState}function u4(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var c=Kn();a=Zi(c);var p=Qi(s,a,c);p!==null&&(On(p,s,c),Il(p,s,c)),s={cache:ym()},a.payload=s;return}s=s.return}}function c4(a,s,c){var p=Kn();c={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},sd(a)?LS(s,c):(c=sm(a,s,c,p),c!==null&&(On(c,a,p),jS(c,s,p)))}function US(a,s,c){var p=Kn();Bl(a,s,c,p)}function Bl(a,s,c,p){var b={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(sd(a))LS(s,b);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=s.lastRenderedReducer,w!==null))try{var k=s.lastRenderedState,O=w(k,c);if(b.hasEagerState=!0,b.eagerState=O,$n(O,k))return $c(a,s,b,0),rt===null&&zc(),!1}catch{}finally{}if(c=sm(a,s,b,p),c!==null)return On(c,a,p),jS(c,s,p),!0}return!1}function Gm(a,s,c,p){if(p={lane:2,revertLane:_v(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},sd(a)){if(s)throw Error(r(479))}else s=sm(a,c,p,2),s!==null&&On(s,a,2)}function sd(a){var s=a.alternate;return a===Pe||s!==null&&s===Pe}function LS(a,s){Wo=ed=!0;var c=a.pending;c===null?s.next=s:(s.next=c.next,c.next=s),a.pending=s}function jS(a,s,c){if((c&4194048)!==0){var p=s.lanes;p&=a.pendingLanes,c|=p,s.lanes=c,Hw(a,c)}}var zl={readContext:sn,use:rd,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt};zl.useEffectEvent=bt;var BS={readContext:sn,use:rd,useCallback:function(a,s){return bn().memoizedState=[a,s===void 0?null:s],a},useContext:sn,useEffect:_S,useImperativeHandle:function(a,s,c){c=c!=null?c.concat([a]):null,ad(4194308,4,AS.bind(null,s,a),c)},useLayoutEffect:function(a,s){return ad(4194308,4,a,s)},useInsertionEffect:function(a,s){ad(4,2,a,s)},useMemo:function(a,s){var c=bn();s=s===void 0?null:s;var p=a();if(Ga){Gi(!0);try{a()}finally{Gi(!1)}}return c.memoizedState=[p,s],p},useReducer:function(a,s,c){var p=bn();if(c!==void 0){var b=c(s);if(Ga){Gi(!0);try{c(s)}finally{Gi(!1)}}}else b=s;return p.memoizedState=p.baseState=b,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b},p.queue=a,a=a.dispatch=c4.bind(null,Pe,a),[p.memoizedState,a]},useRef:function(a){var s=bn();return a={current:a},s.memoizedState=a},useState:function(a){a=Lm(a);var s=a.queue,c=US.bind(null,Pe,s);return s.dispatch=c,[a.memoizedState,c]},useDebugValue:zm,useDeferredValue:function(a,s){var c=bn();return $m(c,a,s)},useTransition:function(){var a=Lm(!1);return a=RS.bind(null,Pe,a.queue,!0,!1),bn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,c){var p=Pe,b=bn();if(ze){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),rt===null)throw Error(r(349));(Ue&127)!==0||oS(p,s,c)}b.memoizedState=c;var w={value:c,getSnapshot:s};return b.queue=w,_S(lS.bind(null,p,w,a),[a]),p.flags|=2048,Xo(9,{destroy:void 0},sS.bind(null,p,w,c,s),null),c},useId:function(){var a=bn(),s=rt.identifierPrefix;if(ze){var c=$r,p=zr;c=(p&~(1<<32-zn(p)-1)).toString(32)+c,s="_"+s+"R_"+c,c=td++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=r4++,s="_"+s+"r_"+c.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:Hm,useFormState:gS,useActionState:gS,useOptimistic:function(a){var s=bn();s.memoizedState=s.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=Gm.bind(null,Pe,!0,c),c.dispatch=s,[a,s]},useMemoCache:Im,useCacheRefresh:function(){return bn().memoizedState=u4.bind(null,Pe)},useEffectEvent:function(a){var s=bn(),c={impl:a};return s.memoizedState=c,function(){if((Ke&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},Vm={readContext:sn,use:rd,useCallback:kS,useContext:sn,useEffect:Bm,useImperativeHandle:CS,useInsertionEffect:ES,useLayoutEffect:TS,useMemo:NS,useReducer:id,useRef:wS,useState:function(){return id(si)},useDebugValue:zm,useDeferredValue:function(a,s){var c=Et();return PS(c,Ze.memoizedState,a,s)},useTransition:function(){var a=id(si)[0],s=Et().memoizedState;return[typeof a=="boolean"?a:jl(a),s]},useSyncExternalStore:aS,useId:IS,useHostTransitionStatus:Hm,useFormState:yS,useActionState:yS,useOptimistic:function(a,s){var c=Et();return dS(c,Ze,a,s)},useMemoCache:Im,useCacheRefresh:DS};Vm.useEffectEvent=SS;var zS={readContext:sn,use:rd,useCallback:kS,useContext:sn,useEffect:Bm,useImperativeHandle:CS,useInsertionEffect:ES,useLayoutEffect:TS,useMemo:NS,useReducer:Um,useRef:wS,useState:function(){return Um(si)},useDebugValue:zm,useDeferredValue:function(a,s){var c=Et();return Ze===null?$m(c,a,s):PS(c,Ze.memoizedState,a,s)},useTransition:function(){var a=Um(si)[0],s=Et().memoizedState;return[typeof a=="boolean"?a:jl(a),s]},useSyncExternalStore:aS,useId:IS,useHostTransitionStatus:Hm,useFormState:xS,useActionState:xS,useOptimistic:function(a,s){var c=Et();return Ze!==null?dS(c,Ze,a,s):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:Im,useCacheRefresh:DS};zS.useEffectEvent=SS;function Fm(a,s,c,p){s=a.memoizedState,c=c(p,s),c=c==null?s:m({},s,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var Km={enqueueSetState:function(a,s,c){a=a._reactInternals;var p=Kn(),b=Zi(p);b.payload=s,c!=null&&(b.callback=c),s=Qi(a,b,p),s!==null&&(On(s,a,p),Il(s,a,p))},enqueueReplaceState:function(a,s,c){a=a._reactInternals;var p=Kn(),b=Zi(p);b.tag=1,b.payload=s,c!=null&&(b.callback=c),s=Qi(a,b,p),s!==null&&(On(s,a,p),Il(s,a,p))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var c=Kn(),p=Zi(c);p.tag=2,s!=null&&(p.callback=s),s=Qi(a,p,c),s!==null&&(On(s,a,c),Il(s,a,c))}};function $S(a,s,c,p,b,w,k){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,w,k):s.prototype&&s.prototype.isPureReactComponent?!Al(c,p)||!Al(b,w):!0}function qS(a,s,c,p){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,p),s.state!==a&&Km.enqueueReplaceState(s,s.state,null)}function Va(a,s){var c=s;if("ref"in s){c={};for(var p in s)p!=="ref"&&(c[p]=s[p])}if(a=a.defaultProps){c===s&&(c=m({},c));for(var b in a)c[b]===void 0&&(c[b]=a[b])}return c}function HS(a){Bc(a)}function GS(a){console.error(a)}function VS(a){Bc(a)}function ld(a,s){try{var c=a.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(p){setTimeout(function(){throw p})}}function FS(a,s,c){try{var p=a.onCaughtError;p(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Ym(a,s,c){return c=Zi(c),c.tag=3,c.payload={element:null},c.callback=function(){ld(a,s)},c}function KS(a){return a=Zi(a),a.tag=3,a}function YS(a,s,c,p){var b=c.type.getDerivedStateFromError;if(typeof b=="function"){var w=p.value;a.payload=function(){return b(w)},a.callback=function(){FS(s,c,p)}}var k=c.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(a.callback=function(){FS(s,c,p),typeof b!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var O=p.stack;this.componentDidCatch(p.value,{componentStack:O!==null?O:""})})}function d4(a,s,c,p,b){if(c.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(s=c.alternate,s!==null&&Ho(s,c,b,!0),c=Hn.current,c!==null){switch(c.tag){case 31:case 13:return lr===null?xd():c.alternate===null&&xt===0&&(xt=3),c.flags&=-257,c.flags|=65536,c.lanes=b,p===Wc?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([p]):s.add(p),bv(a,p,b)),!1;case 22:return c.flags|=65536,p===Wc?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([p])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([p]):c.add(p)),bv(a,p,b)),!1}throw Error(r(435,c.tag))}return bv(a,p,b),xd(),!1}if(ze)return s=Hn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=b,p!==hm&&(a=Error(r(422),{cause:p}),Nl(ir(a,c)))):(p!==hm&&(s=Error(r(423),{cause:p}),Nl(ir(s,c))),a=a.current.alternate,a.flags|=65536,b&=-b,a.lanes|=b,p=ir(p,c),b=Ym(a.stateNode,p,b),Em(a,b),xt!==4&&(xt=2)),!1;var w=Error(r(520),{cause:p});if(w=ir(w,c),Yl===null?Yl=[w]:Yl.push(w),xt!==4&&(xt=2),s===null)return!0;p=ir(p,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,a=b&-b,c.lanes|=a,a=Ym(c.stateNode,p,a),Em(c,a),!1;case 1:if(s=c.type,w=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(aa===null||!aa.has(w))))return c.flags|=65536,b&=-b,c.lanes|=b,b=KS(b),YS(b,a,c,p),Em(c,b),!1}c=c.return}while(c!==null);return!1}var Wm=Error(r(461)),Mt=!1;function ln(a,s,c,p){s.child=a===null?Z_(s,null,c,p):Ha(s,a.child,c,p)}function WS(a,s,c,p,b){c=c.render;var w=s.ref;if("ref"in p){var k={};for(var O in p)O!=="ref"&&(k[O]=p[O])}else k=p;return Ba(s),p=Pm(a,s,c,k,w,b),O=Rm(),a!==null&&!Mt?(Om(a,s,b),li(a,s,b)):(ze&&O&&dm(s),s.flags|=1,ln(a,s,p,b),s.child)}function JS(a,s,c,p,b){if(a===null){var w=c.type;return typeof w=="function"&&!lm(w)&&w.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=w,XS(a,s,w,p,b)):(a=Hc(c.type,null,p,s,s.mode,b),a.ref=s.ref,a.return=s,s.child=a)}if(w=a.child,!rv(a,b)){var k=w.memoizedProps;if(c=c.compare,c=c!==null?c:Al,c(k,p)&&a.ref===s.ref)return li(a,s,b)}return s.flags|=1,a=ni(w,p),a.ref=s.ref,a.return=s,s.child=a}function XS(a,s,c,p,b){if(a!==null){var w=a.memoizedProps;if(Al(w,p)&&a.ref===s.ref)if(Mt=!1,s.pendingProps=p=w,rv(a,b))(a.flags&131072)!==0&&(Mt=!0);else return s.lanes=a.lanes,li(a,s,b)}return Jm(a,s,c,p,b)}function ZS(a,s,c,p){var b=p.children,w=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((s.flags&128)!==0){if(w=w!==null?w.baseLanes|c:c,a!==null){for(p=s.child=a.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;p=b&~w}else p=0,s.child=null;return QS(a,s,w,c,p)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&Kc(s,w!==null?w.cachePool:null),w!==null?tS(s,w):Am(),nS(s);else return p=s.lanes=536870912,QS(a,s,w!==null?w.baseLanes|c:c,c,p)}else w!==null?(Kc(s,w.cachePool),tS(s,w),ta(),s.memoizedState=null):(a!==null&&Kc(s,null),Am(),ta());return ln(a,s,b,c),s.child}function $l(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function QS(a,s,c,p,b){var w=xm();return w=w===null?null:{parent:Rt._currentValue,pool:w},s.memoizedState={baseLanes:c,cachePool:w},a!==null&&Kc(s,null),Am(),nS(s),a!==null&&Ho(a,s,p,!0),s.childLanes=b,null}function ud(a,s){return s=dd({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function eE(a,s,c){return Ha(s,a.child,null,c),a=ud(s,s.pendingProps),a.flags|=2,Gn(s),s.memoizedState=null,a}function f4(a,s,c){var p=s.pendingProps,b=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(ze){if(p.mode==="hidden")return a=ud(s,p),s.lanes=536870912,$l(null,a);if(km(s),(a=ut)?(a=f1(a,sr),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Ki!==null?{id:zr,overflow:$r}:null,retryLane:536870912,hydrationErrors:null},c=L_(a),c.return=s,s.child=c,on=s,ut=null)):a=null,a===null)throw Wi(s);return s.lanes=536870912,null}return ud(s,p)}var w=a.memoizedState;if(w!==null){var k=w.dehydrated;if(km(s),b)if(s.flags&256)s.flags&=-257,s=eE(a,s,c);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if(Mt||Ho(a,s,c,!1),b=(c&a.childLanes)!==0,Mt||b){if(p=rt,p!==null&&(k=Gw(p,c),k!==0&&k!==w.retryLane))throw w.retryLane=k,Da(a,k),On(p,a,k),Wm;xd(),s=eE(a,s,c)}else a=w.treeContext,ut=ur(k.nextSibling),on=s,ze=!0,Yi=null,sr=!1,a!==null&&z_(s,a),s=ud(s,p),s.flags|=4096;return s}return a=ni(a.child,{mode:p.mode,children:p.children}),a.ref=s.ref,s.child=a,a.return=s,a}function cd(a,s){var c=s.ref;if(c===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(s.flags|=4194816)}}function Jm(a,s,c,p,b){return Ba(s),c=Pm(a,s,c,p,void 0,b),p=Rm(),a!==null&&!Mt?(Om(a,s,b),li(a,s,b)):(ze&&p&&dm(s),s.flags|=1,ln(a,s,c,b),s.child)}function tE(a,s,c,p,b,w){return Ba(s),s.updateQueue=null,c=iS(s,p,c,b),rS(a),p=Rm(),a!==null&&!Mt?(Om(a,s,w),li(a,s,w)):(ze&&p&&dm(s),s.flags|=1,ln(a,s,c,w),s.child)}function nE(a,s,c,p,b){if(Ba(s),s.stateNode===null){var w=Bo,k=c.contextType;typeof k=="object"&&k!==null&&(w=sn(k)),w=new c(p,w),s.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Km,s.stateNode=w,w._reactInternals=s,w=s.stateNode,w.props=p,w.state=s.memoizedState,w.refs={},_m(s),k=c.contextType,w.context=typeof k=="object"&&k!==null?sn(k):Bo,w.state=s.memoizedState,k=c.getDerivedStateFromProps,typeof k=="function"&&(Fm(s,c,k,p),w.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(k=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),k!==w.state&&Km.enqueueReplaceState(w,w.state,null),Ul(s,p,w,b),Dl(),w.state=s.memoizedState),typeof w.componentDidMount=="function"&&(s.flags|=4194308),p=!0}else if(a===null){w=s.stateNode;var O=s.memoizedProps,U=Va(c,O);w.props=U;var G=w.context,X=c.contextType;k=Bo,typeof X=="object"&&X!==null&&(k=sn(X));var te=c.getDerivedStateFromProps;X=typeof te=="function"||typeof w.getSnapshotBeforeUpdate=="function",O=s.pendingProps!==O,X||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(O||G!==k)&&qS(s,w,p,k),Xi=!1;var V=s.memoizedState;w.state=V,Ul(s,p,w,b),Dl(),G=s.memoizedState,O||V!==G||Xi?(typeof te=="function"&&(Fm(s,c,te,p),G=s.memoizedState),(U=Xi||$S(s,c,U,p,V,G,k))?(X||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=G),w.props=p,w.state=G,w.context=k,p=U):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{w=s.stateNode,Sm(a,s),k=s.memoizedProps,X=Va(c,k),w.props=X,te=s.pendingProps,V=w.context,G=c.contextType,U=Bo,typeof G=="object"&&G!==null&&(U=sn(G)),O=c.getDerivedStateFromProps,(G=typeof O=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k!==te||V!==U)&&qS(s,w,p,U),Xi=!1,V=s.memoizedState,w.state=V,Ul(s,p,w,b),Dl();var K=s.memoizedState;k!==te||V!==K||Xi||a!==null&&a.dependencies!==null&&Vc(a.dependencies)?(typeof O=="function"&&(Fm(s,c,O,p),K=s.memoizedState),(X=Xi||$S(s,c,X,p,V,K,U)||a!==null&&a.dependencies!==null&&Vc(a.dependencies))?(G||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(p,K,U),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(p,K,U)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||k===a.memoizedProps&&V===a.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&V===a.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=K),w.props=p,w.state=K,w.context=U,p=X):(typeof w.componentDidUpdate!="function"||k===a.memoizedProps&&V===a.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&V===a.memoizedState||(s.flags|=1024),p=!1)}return w=p,cd(a,s),p=(s.flags&128)!==0,w||p?(w=s.stateNode,c=p&&typeof c.getDerivedStateFromError!="function"?null:w.render(),s.flags|=1,a!==null&&p?(s.child=Ha(s,a.child,null,b),s.child=Ha(s,null,c,b)):ln(a,s,c,b),s.memoizedState=w.state,a=s.child):a=li(a,s,b),a}function rE(a,s,c,p){return La(),s.flags|=256,ln(a,s,c,p),s.child}var Xm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zm(a){return{baseLanes:a,cachePool:F_()}}function Qm(a,s,c){return a=a!==null?a.childLanes&~c:0,s&&(a|=Fn),a}function iE(a,s,c){var p=s.pendingProps,b=!1,w=(s.flags&128)!==0,k;if((k=w)||(k=a!==null&&a.memoizedState===null?!1:(St.current&2)!==0),k&&(b=!0,s.flags&=-129),k=(s.flags&32)!==0,s.flags&=-33,a===null){if(ze){if(b?ea(s):ta(),(a=ut)?(a=f1(a,sr),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Ki!==null?{id:zr,overflow:$r}:null,retryLane:536870912,hydrationErrors:null},c=L_(a),c.return=s,s.child=c,on=s,ut=null)):a=null,a===null)throw Wi(s);return Dv(a)?s.lanes=32:s.lanes=536870912,null}var O=p.children;return p=p.fallback,b?(ta(),b=s.mode,O=dd({mode:"hidden",children:O},b),p=Ua(p,b,c,null),O.return=s,p.return=s,O.sibling=p,s.child=O,p=s.child,p.memoizedState=Zm(c),p.childLanes=Qm(a,k,c),s.memoizedState=Xm,$l(null,p)):(ea(s),ev(s,O))}var U=a.memoizedState;if(U!==null&&(O=U.dehydrated,O!==null)){if(w)s.flags&256?(ea(s),s.flags&=-257,s=tv(a,s,c)):s.memoizedState!==null?(ta(),s.child=a.child,s.flags|=128,s=null):(ta(),O=p.fallback,b=s.mode,p=dd({mode:"visible",children:p.children},b),O=Ua(O,b,c,null),O.flags|=2,p.return=s,O.return=s,p.sibling=O,s.child=p,Ha(s,a.child,null,c),p=s.child,p.memoizedState=Zm(c),p.childLanes=Qm(a,k,c),s.memoizedState=Xm,s=$l(null,p));else if(ea(s),Dv(O)){if(k=O.nextSibling&&O.nextSibling.dataset,k)var G=k.dgst;k=G,p=Error(r(419)),p.stack="",p.digest=k,Nl({value:p,source:null,stack:null}),s=tv(a,s,c)}else if(Mt||Ho(a,s,c,!1),k=(c&a.childLanes)!==0,Mt||k){if(k=rt,k!==null&&(p=Gw(k,c),p!==0&&p!==U.retryLane))throw U.retryLane=p,Da(a,p),On(k,a,p),Wm;Iv(O)||xd(),s=tv(a,s,c)}else Iv(O)?(s.flags|=192,s.child=a.child,s=null):(a=U.treeContext,ut=ur(O.nextSibling),on=s,ze=!0,Yi=null,sr=!1,a!==null&&z_(s,a),s=ev(s,p.children),s.flags|=4096);return s}return b?(ta(),O=p.fallback,b=s.mode,U=a.child,G=U.sibling,p=ni(U,{mode:"hidden",children:p.children}),p.subtreeFlags=U.subtreeFlags&65011712,G!==null?O=ni(G,O):(O=Ua(O,b,c,null),O.flags|=2),O.return=s,p.return=s,p.sibling=O,s.child=p,$l(null,p),p=s.child,O=a.child.memoizedState,O===null?O=Zm(c):(b=O.cachePool,b!==null?(U=Rt._currentValue,b=b.parent!==U?{parent:U,pool:U}:b):b=F_(),O={baseLanes:O.baseLanes|c,cachePool:b}),p.memoizedState=O,p.childLanes=Qm(a,k,c),s.memoizedState=Xm,$l(a.child,p)):(ea(s),c=a.child,a=c.sibling,c=ni(c,{mode:"visible",children:p.children}),c.return=s,c.sibling=null,a!==null&&(k=s.deletions,k===null?(s.deletions=[a],s.flags|=16):k.push(a)),s.child=c,s.memoizedState=null,c)}function ev(a,s){return s=dd({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function dd(a,s){return a=qn(22,a,null,s),a.lanes=0,a}function tv(a,s,c){return Ha(s,a.child,null,c),a=ev(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function aE(a,s,c){a.lanes|=s;var p=a.alternate;p!==null&&(p.lanes|=s),vm(a.return,s,c)}function nv(a,s,c,p,b,w){var k=a.memoizedState;k===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:b,treeForkCount:w}:(k.isBackwards=s,k.rendering=null,k.renderingStartTime=0,k.last=p,k.tail=c,k.tailMode=b,k.treeForkCount=w)}function oE(a,s,c){var p=s.pendingProps,b=p.revealOrder,w=p.tail;p=p.children;var k=St.current,O=(k&2)!==0;if(O?(k=k&1|2,s.flags|=128):k&=1,ie(St,k),ln(a,s,p,c),p=ze?kl:0,!O&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&aE(a,c,s);else if(a.tag===19)aE(a,c,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(b){case"forwards":for(c=s.child,b=null;c!==null;)a=c.alternate,a!==null&&Qc(a)===null&&(b=c),c=c.sibling;c=b,c===null?(b=s.child,s.child=null):(b=c.sibling,c.sibling=null),nv(s,!1,b,c,w,p);break;case"backwards":case"unstable_legacy-backwards":for(c=null,b=s.child,s.child=null;b!==null;){if(a=b.alternate,a!==null&&Qc(a)===null){s.child=b;break}a=b.sibling,b.sibling=c,c=b,b=a}nv(s,!0,c,null,w,p);break;case"together":nv(s,!1,null,null,void 0,p);break;default:s.memoizedState=null}return s.child}function li(a,s,c){if(a!==null&&(s.dependencies=a.dependencies),ia|=s.lanes,(c&s.childLanes)===0)if(a!==null){if(Ho(a,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,c=ni(a,a.pendingProps),s.child=c,c.return=s;a.sibling!==null;)a=a.sibling,c=c.sibling=ni(a,a.pendingProps),c.return=s;c.sibling=null}return s.child}function rv(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&Vc(a)))}function h4(a,s,c){switch(s.tag){case 3:_t(s,s.stateNode.containerInfo),Ji(s,Rt,a.memoizedState.cache),La();break;case 27:case 5:Ne(s);break;case 4:_t(s,s.stateNode.containerInfo);break;case 10:Ji(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,km(s),null;break;case 13:var p=s.memoizedState;if(p!==null)return p.dehydrated!==null?(ea(s),s.flags|=128,null):(c&s.child.childLanes)!==0?iE(a,s,c):(ea(s),a=li(a,s,c),a!==null?a.sibling:null);ea(s);break;case 19:var b=(a.flags&128)!==0;if(p=(c&s.childLanes)!==0,p||(Ho(a,s,c,!1),p=(c&s.childLanes)!==0),b){if(p)return oE(a,s,c);s.flags|=128}if(b=s.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),ie(St,St.current),p)break;return null;case 22:return s.lanes=0,ZS(a,s,c,s.pendingProps);case 24:Ji(s,Rt,a.memoizedState.cache)}return li(a,s,c)}function sE(a,s,c){if(a!==null)if(a.memoizedProps!==s.pendingProps)Mt=!0;else{if(!rv(a,c)&&(s.flags&128)===0)return Mt=!1,h4(a,s,c);Mt=(a.flags&131072)!==0}else Mt=!1,ze&&(s.flags&1048576)!==0&&B_(s,kl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var p=s.pendingProps;if(a=$a(s.elementType),s.type=a,typeof a=="function")lm(a)?(p=Va(a,p),s.tag=1,s=nE(null,s,a,p,c)):(s.tag=0,s=Jm(null,s,a,p,c));else{if(a!=null){var b=a.$$typeof;if(b===R){s.tag=11,s=WS(null,s,a,p,c);break e}else if(b===D){s.tag=14,s=JS(null,s,a,p,c);break e}}throw s=de(a)||a,Error(r(306,s,""))}}return s;case 0:return Jm(a,s,s.type,s.pendingProps,c);case 1:return p=s.type,b=Va(p,s.pendingProps),nE(a,s,p,b,c);case 3:e:{if(_t(s,s.stateNode.containerInfo),a===null)throw Error(r(387));p=s.pendingProps;var w=s.memoizedState;b=w.element,Sm(a,s),Ul(s,p,null,c);var k=s.memoizedState;if(p=k.cache,Ji(s,Rt,p),p!==w.cache&&gm(s,[Rt],c,!0),Dl(),p=k.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:k.cache},s.updateQueue.baseState=w,s.memoizedState=w,s.flags&256){s=rE(a,s,p,c);break e}else if(p!==b){b=ir(Error(r(424)),s),Nl(b),s=rE(a,s,p,c);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(ut=ur(a.firstChild),on=s,ze=!0,Yi=null,sr=!0,c=Z_(s,null,p,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(La(),p===b){s=li(a,s,c);break e}ln(a,s,p,c)}s=s.child}return s;case 26:return cd(a,s),a===null?(c=y1(s.type,null,s.pendingProps,null))?s.memoizedState=c:ze||(c=s.type,a=s.pendingProps,p=Cd(Ae.current).createElement(c),p[an]=s,p[An]=a,un(p,c,a),Ft(p),s.stateNode=p):s.memoizedState=y1(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return Ne(s),a===null&&ze&&(p=s.stateNode=m1(s.type,s.pendingProps,Ae.current),on=s,sr=!0,b=ut,ua(s.type)?(Uv=b,ut=ur(p.firstChild)):ut=b),ln(a,s,s.pendingProps.children,c),cd(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&ze&&((b=p=ut)&&(p=H4(p,s.type,s.pendingProps,sr),p!==null?(s.stateNode=p,on=s,ut=ur(p.firstChild),sr=!1,b=!0):b=!1),b||Wi(s)),Ne(s),b=s.type,w=s.pendingProps,k=a!==null?a.memoizedProps:null,p=w.children,Rv(b,w)?p=null:k!==null&&Rv(b,k)&&(s.flags|=32),s.memoizedState!==null&&(b=Pm(a,s,i4,null,null,c),nu._currentValue=b),cd(a,s),ln(a,s,p,c),s.child;case 6:return a===null&&ze&&((a=c=ut)&&(c=G4(c,s.pendingProps,sr),c!==null?(s.stateNode=c,on=s,ut=null,a=!0):a=!1),a||Wi(s)),null;case 13:return iE(a,s,c);case 4:return _t(s,s.stateNode.containerInfo),p=s.pendingProps,a===null?s.child=Ha(s,null,p,c):ln(a,s,p,c),s.child;case 11:return WS(a,s,s.type,s.pendingProps,c);case 7:return ln(a,s,s.pendingProps,c),s.child;case 8:return ln(a,s,s.pendingProps.children,c),s.child;case 12:return ln(a,s,s.pendingProps.children,c),s.child;case 10:return p=s.pendingProps,Ji(s,s.type,p.value),ln(a,s,p.children,c),s.child;case 9:return b=s.type._context,p=s.pendingProps.children,Ba(s),b=sn(b),p=p(b),s.flags|=1,ln(a,s,p,c),s.child;case 14:return JS(a,s,s.type,s.pendingProps,c);case 15:return XS(a,s,s.type,s.pendingProps,c);case 19:return oE(a,s,c);case 31:return f4(a,s,c);case 22:return ZS(a,s,c,s.pendingProps);case 24:return Ba(s),p=sn(Rt),a===null?(b=xm(),b===null&&(b=rt,w=ym(),b.pooledCache=w,w.refCount++,w!==null&&(b.pooledCacheLanes|=c),b=w),s.memoizedState={parent:p,cache:b},_m(s),Ji(s,Rt,b)):((a.lanes&c)!==0&&(Sm(a,s),Ul(s,null,null,c),Dl()),b=a.memoizedState,w=s.memoizedState,b.parent!==p?(b={parent:p,cache:p},s.memoizedState=b,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=b),Ji(s,Rt,p)):(p=w.cache,Ji(s,Rt,p),p!==b.cache&&gm(s,[Rt],c,!0))),ln(a,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ui(a){a.flags|=4}function iv(a,s,c,p,b){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(b&335544128)===b)if(a.stateNode.complete)a.flags|=8192;else if(IE())a.flags|=8192;else throw qa=Wc,wm}else a.flags&=-16777217}function lE(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!S1(s))if(IE())a.flags|=8192;else throw qa=Wc,wm}function fd(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?$w():536870912,a.lanes|=s,ts|=s)}function ql(a,s){if(!ze)switch(a.tailMode){case"hidden":s=a.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function ct(a){var s=a.alternate!==null&&a.alternate.child===a.child,c=0,p=0;if(s)for(var b=a.child;b!==null;)c|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)c|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=p,a.childLanes=c,s}function p4(a,s,c){var p=s.pendingProps;switch(fm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(s),null;case 1:return ct(s),null;case 3:return c=s.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),s.memoizedState.cache!==p&&(s.flags|=2048),ai(Rt),Z(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(qo(s)?ui(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,pm())),ct(s),null;case 26:var b=s.type,w=s.memoizedState;return a===null?(ui(s),w!==null?(ct(s),lE(s,w)):(ct(s),iv(s,b,null,p,c))):w?w!==a.memoizedState?(ui(s),ct(s),lE(s,w)):(ct(s),s.flags&=-16777217):(a=a.memoizedProps,a!==p&&ui(s),ct(s),iv(s,b,a,p,c)),null;case 27:if(Me(s),c=Ae.current,b=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==p&&ui(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return ct(s),null}a=ae.current,qo(s)?$_(s):(a=m1(b,p,c),s.stateNode=a,ui(s))}return ct(s),null;case 5:if(Me(s),b=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==p&&ui(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return ct(s),null}if(w=ae.current,qo(s))$_(s);else{var k=Cd(Ae.current);switch(w){case 1:w=k.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:w=k.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":w=k.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":w=k.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":w=k.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof p.is=="string"?k.createElement("select",{is:p.is}):k.createElement("select"),p.multiple?w.multiple=!0:p.size&&(w.size=p.size);break;default:w=typeof p.is=="string"?k.createElement(b,{is:p.is}):k.createElement(b)}}w[an]=s,w[An]=p;e:for(k=s.child;k!==null;){if(k.tag===5||k.tag===6)w.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===s)break e;for(;k.sibling===null;){if(k.return===null||k.return===s)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}s.stateNode=w;e:switch(un(w,b,p),b){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&ui(s)}}return ct(s),iv(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,c),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==p&&ui(s);else{if(typeof p!="string"&&s.stateNode===null)throw Error(r(166));if(a=Ae.current,qo(s)){if(a=s.stateNode,c=s.memoizedProps,p=null,b=on,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}a[an]=s,a=!!(a.nodeValue===c||p!==null&&p.suppressHydrationWarning===!0||i1(a.nodeValue,c)),a||Wi(s,!0)}else a=Cd(a).createTextNode(p),a[an]=s,s.stateNode=a}return ct(s),null;case 31:if(c=s.memoizedState,a===null||a.memoizedState!==null){if(p=qo(s),c!==null){if(a===null){if(!p)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[an]=s}else La(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ct(s),a=!1}else c=pm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return s.flags&256?(Gn(s),s):(Gn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ct(s),null;case 13:if(p=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(b=qo(s),p!==null&&p.dehydrated!==null){if(a===null){if(!b)throw Error(r(318));if(b=s.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[an]=s}else La(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ct(s),b=!1}else b=pm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=b),b=!0;if(!b)return s.flags&256?(Gn(s),s):(Gn(s),null)}return Gn(s),(s.flags&128)!==0?(s.lanes=c,s):(c=p!==null,a=a!==null&&a.memoizedState!==null,c&&(p=s.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool),w=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(w=p.memoizedState.cachePool.pool),w!==b&&(p.flags|=2048)),c!==a&&c&&(s.child.flags|=8192),fd(s,s.updateQueue),ct(s),null);case 4:return Z(),a===null&&Av(s.stateNode.containerInfo),ct(s),null;case 10:return ai(s.type),ct(s),null;case 19:if(J(St),p=s.memoizedState,p===null)return ct(s),null;if(b=(s.flags&128)!==0,w=p.rendering,w===null)if(b)ql(p,!1);else{if(xt!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(w=Qc(a),w!==null){for(s.flags|=128,ql(p,!1),a=w.updateQueue,s.updateQueue=a,fd(s,a),s.subtreeFlags=0,a=c,c=s.child;c!==null;)U_(c,a),c=c.sibling;return ie(St,St.current&1|2),ze&&ri(s,p.treeForkCount),s.child}a=a.sibling}p.tail!==null&&jn()>gd&&(s.flags|=128,b=!0,ql(p,!1),s.lanes=4194304)}else{if(!b)if(a=Qc(w),a!==null){if(s.flags|=128,b=!0,a=a.updateQueue,s.updateQueue=a,fd(s,a),ql(p,!0),p.tail===null&&p.tailMode==="hidden"&&!w.alternate&&!ze)return ct(s),null}else 2*jn()-p.renderingStartTime>gd&&c!==536870912&&(s.flags|=128,b=!0,ql(p,!1),s.lanes=4194304);p.isBackwards?(w.sibling=s.child,s.child=w):(a=p.last,a!==null?a.sibling=w:s.child=w,p.last=w)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=jn(),a.sibling=null,c=St.current,ie(St,b?c&1|2:c&1),ze&&ri(s,p.treeForkCount),a):(ct(s),null);case 22:case 23:return Gn(s),Cm(),p=s.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(s.flags|=8192):p&&(s.flags|=8192),p?(c&536870912)!==0&&(s.flags&128)===0&&(ct(s),s.subtreeFlags&6&&(s.flags|=8192)):ct(s),c=s.updateQueue,c!==null&&fd(s,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==c&&(s.flags|=2048),a!==null&&J(za),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),ai(Rt),ct(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function m4(a,s){switch(fm(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return ai(Rt),Z(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return Me(s),null;case 31:if(s.memoizedState!==null){if(Gn(s),s.alternate===null)throw Error(r(340));La()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(Gn(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));La()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return J(St),null;case 4:return Z(),null;case 10:return ai(s.type),null;case 22:case 23:return Gn(s),Cm(),a!==null&&J(za),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return ai(Rt),null;case 25:return null;default:return null}}function uE(a,s){switch(fm(s),s.tag){case 3:ai(Rt),Z();break;case 26:case 27:case 5:Me(s);break;case 4:Z();break;case 31:s.memoizedState!==null&&Gn(s);break;case 13:Gn(s);break;case 19:J(St);break;case 10:ai(s.type);break;case 22:case 23:Gn(s),Cm(),a!==null&&J(za);break;case 24:ai(Rt)}}function Hl(a,s){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var b=p.next;c=b;do{if((c.tag&a)===a){p=void 0;var w=c.create,k=c.inst;p=w(),k.destroy=p}c=c.next}while(c!==b)}}catch(O){Je(s,s.return,O)}}function na(a,s,c){try{var p=s.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var w=b.next;p=w;do{if((p.tag&a)===a){var k=p.inst,O=k.destroy;if(O!==void 0){k.destroy=void 0,b=s;var U=c,G=O;try{G()}catch(X){Je(b,U,X)}}}p=p.next}while(p!==w)}}catch(X){Je(s,s.return,X)}}function cE(a){var s=a.updateQueue;if(s!==null){var c=a.stateNode;try{eS(s,c)}catch(p){Je(a,a.return,p)}}}function dE(a,s,c){c.props=Va(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(p){Je(a,s,p)}}function Gl(a,s){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof c=="function"?a.refCleanup=c(p):c.current=p}}catch(b){Je(a,s,b)}}function qr(a,s){var c=a.ref,p=a.refCleanup;if(c!==null)if(typeof p=="function")try{p()}catch(b){Je(a,s,b)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(b){Je(a,s,b)}else c.current=null}function fE(a){var s=a.type,c=a.memoizedProps,p=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&p.focus();break e;case"img":c.src?p.src=c.src:c.srcSet&&(p.srcset=c.srcSet)}}catch(b){Je(a,a.return,b)}}function av(a,s,c){try{var p=a.stateNode;L4(p,a.type,c,s),p[An]=s}catch(b){Je(a,a.return,b)}}function hE(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&ua(a.type)||a.tag===4}function ov(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||hE(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&ua(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function sv(a,s,c){var p=a.tag;if(p===5||p===6)a=a.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(a),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=ei));else if(p!==4&&(p===27&&ua(a.type)&&(c=a.stateNode,s=null),a=a.child,a!==null))for(sv(a,s,c),a=a.sibling;a!==null;)sv(a,s,c),a=a.sibling}function hd(a,s,c){var p=a.tag;if(p===5||p===6)a=a.stateNode,s?c.insertBefore(a,s):c.appendChild(a);else if(p!==4&&(p===27&&ua(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(hd(a,s,c),a=a.sibling;a!==null;)hd(a,s,c),a=a.sibling}function pE(a){var s=a.stateNode,c=a.memoizedProps;try{for(var p=a.type,b=s.attributes;b.length;)s.removeAttributeNode(b[0]);un(s,p,c),s[an]=a,s[An]=c}catch(w){Je(a,a.return,w)}}var ci=!1,It=!1,lv=!1,mE=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function v4(a,s){if(a=a.containerInfo,Nv=Id,a=C_(a),tm(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var b=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var k=0,O=-1,U=-1,G=0,X=0,te=a,V=null;t:for(;;){for(var K;te!==c||b!==0&&te.nodeType!==3||(O=k+b),te!==w||p!==0&&te.nodeType!==3||(U=k+p),te.nodeType===3&&(k+=te.nodeValue.length),(K=te.firstChild)!==null;)V=te,te=K;for(;;){if(te===a)break t;if(V===c&&++G===b&&(O=k),V===w&&++X===p&&(U=k),(K=te.nextSibling)!==null)break;te=V,V=te.parentNode}te=K}c=O===-1||U===-1?null:{start:O,end:U}}else c=null}c=c||{start:0,end:0}}else c=null;for(Pv={focusedElem:a,selectionRange:c},Id=!1,Kt=s;Kt!==null;)if(s=Kt,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,Kt=a;else for(;Kt!==null;){switch(s=Kt,w=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)b=a[c],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&w!==null){a=void 0,c=s,b=w.memoizedProps,w=w.memoizedState,p=c.stateNode;try{var pe=Va(c.type,b);a=p.getSnapshotBeforeUpdate(pe,w),p.__reactInternalSnapshotBeforeUpdate=a}catch(we){Je(c,c.return,we)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,c=a.nodeType,c===9)Mv(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Mv(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,Kt=a;break}Kt=s.return}}function vE(a,s,c){var p=c.flags;switch(c.tag){case 0:case 11:case 15:fi(a,c),p&4&&Hl(5,c);break;case 1:if(fi(a,c),p&4)if(a=c.stateNode,s===null)try{a.componentDidMount()}catch(k){Je(c,c.return,k)}else{var b=Va(c.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(b,s,a.__reactInternalSnapshotBeforeUpdate)}catch(k){Je(c,c.return,k)}}p&64&&cE(c),p&512&&Gl(c,c.return);break;case 3:if(fi(a,c),p&64&&(a=c.updateQueue,a!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{eS(a,s)}catch(k){Je(c,c.return,k)}}break;case 27:s===null&&p&4&&pE(c);case 26:case 5:fi(a,c),s===null&&p&4&&fE(c),p&512&&Gl(c,c.return);break;case 12:fi(a,c);break;case 31:fi(a,c),p&4&&bE(a,c);break;case 13:fi(a,c),p&4&&xE(a,c),p&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=T4.bind(null,c),V4(a,c))));break;case 22:if(p=c.memoizedState!==null||ci,!p){s=s!==null&&s.memoizedState!==null||It,b=ci;var w=It;ci=p,(It=s)&&!w?hi(a,c,(c.subtreeFlags&8772)!==0):fi(a,c),ci=b,It=w}break;case 30:break;default:fi(a,c)}}function gE(a){var s=a.alternate;s!==null&&(a.alternate=null,gE(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&jp(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var ft=null,kn=!1;function di(a,s,c){for(c=c.child;c!==null;)yE(a,s,c),c=c.sibling}function yE(a,s,c){if(Bn&&typeof Bn.onCommitFiberUnmount=="function")try{Bn.onCommitFiberUnmount(pl,c)}catch{}switch(c.tag){case 26:It||qr(c,s),di(a,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:It||qr(c,s);var p=ft,b=kn;ua(c.type)&&(ft=c.stateNode,kn=!1),di(a,s,c),Ql(c.stateNode),ft=p,kn=b;break;case 5:It||qr(c,s);case 6:if(p=ft,b=kn,ft=null,di(a,s,c),ft=p,kn=b,ft!==null)if(kn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(c.stateNode)}catch(w){Je(c,s,w)}else try{ft.removeChild(c.stateNode)}catch(w){Je(c,s,w)}break;case 18:ft!==null&&(kn?(a=ft,c1(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),us(a)):c1(ft,c.stateNode));break;case 4:p=ft,b=kn,ft=c.stateNode.containerInfo,kn=!0,di(a,s,c),ft=p,kn=b;break;case 0:case 11:case 14:case 15:na(2,c,s),It||na(4,c,s),di(a,s,c);break;case 1:It||(qr(c,s),p=c.stateNode,typeof p.componentWillUnmount=="function"&&dE(c,s,p)),di(a,s,c);break;case 21:di(a,s,c);break;case 22:It=(p=It)||c.memoizedState!==null,di(a,s,c),It=p;break;default:di(a,s,c)}}function bE(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{us(a)}catch(c){Je(s,s.return,c)}}}function xE(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{us(a)}catch(c){Je(s,s.return,c)}}function g4(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new mE),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new mE),s;default:throw Error(r(435,a.tag))}}function pd(a,s){var c=g4(a);s.forEach(function(p){if(!c.has(p)){c.add(p);var b=A4.bind(null,a,p);p.then(b,b)}})}function Nn(a,s){var c=s.deletions;if(c!==null)for(var p=0;p<c.length;p++){var b=c[p],w=a,k=s,O=k;e:for(;O!==null;){switch(O.tag){case 27:if(ua(O.type)){ft=O.stateNode,kn=!1;break e}break;case 5:ft=O.stateNode,kn=!1;break e;case 3:case 4:ft=O.stateNode.containerInfo,kn=!0;break e}O=O.return}if(ft===null)throw Error(r(160));yE(w,k,b),ft=null,kn=!1,w=b.alternate,w!==null&&(w.return=null),b.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)wE(s,a),s=s.sibling}var _r=null;function wE(a,s){var c=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Nn(s,a),Pn(a),p&4&&(na(3,a,a.return),Hl(3,a),na(5,a,a.return));break;case 1:Nn(s,a),Pn(a),p&512&&(It||c===null||qr(c,c.return)),p&64&&ci&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?p:c.concat(p))));break;case 26:var b=_r;if(Nn(s,a),Pn(a),p&512&&(It||c===null||qr(c,c.return)),p&4){var w=c!==null?c.memoizedState:null;if(p=a.memoizedState,c===null)if(p===null)if(a.stateNode===null){e:{p=a.type,c=a.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":w=b.getElementsByTagName("title")[0],(!w||w[gl]||w[an]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=b.createElement(p),b.head.insertBefore(w,b.querySelector("head > title"))),un(w,p,c),w[an]=a,Ft(w),p=w;break e;case"link":var k=w1("link","href",b).get(p+(c.href||""));if(k){for(var O=0;O<k.length;O++)if(w=k[O],w.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&w.getAttribute("rel")===(c.rel==null?null:c.rel)&&w.getAttribute("title")===(c.title==null?null:c.title)&&w.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){k.splice(O,1);break t}}w=b.createElement(p),un(w,p,c),b.head.appendChild(w);break;case"meta":if(k=w1("meta","content",b).get(p+(c.content||""))){for(O=0;O<k.length;O++)if(w=k[O],w.getAttribute("content")===(c.content==null?null:""+c.content)&&w.getAttribute("name")===(c.name==null?null:c.name)&&w.getAttribute("property")===(c.property==null?null:c.property)&&w.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&w.getAttribute("charset")===(c.charSet==null?null:c.charSet)){k.splice(O,1);break t}}w=b.createElement(p),un(w,p,c),b.head.appendChild(w);break;default:throw Error(r(468,p))}w[an]=a,Ft(w),p=w}a.stateNode=p}else _1(b,a.type,a.stateNode);else a.stateNode=x1(b,p,a.memoizedProps);else w!==p?(w===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):w.count--,p===null?_1(b,a.type,a.stateNode):x1(b,p,a.memoizedProps)):p===null&&a.stateNode!==null&&av(a,a.memoizedProps,c.memoizedProps)}break;case 27:Nn(s,a),Pn(a),p&512&&(It||c===null||qr(c,c.return)),c!==null&&p&4&&av(a,a.memoizedProps,c.memoizedProps);break;case 5:if(Nn(s,a),Pn(a),p&512&&(It||c===null||qr(c,c.return)),a.flags&32){b=a.stateNode;try{Oo(b,"")}catch(pe){Je(a,a.return,pe)}}p&4&&a.stateNode!=null&&(b=a.memoizedProps,av(a,b,c!==null?c.memoizedProps:b)),p&1024&&(lv=!0);break;case 6:if(Nn(s,a),Pn(a),p&4){if(a.stateNode===null)throw Error(r(162));p=a.memoizedProps,c=a.stateNode;try{c.nodeValue=p}catch(pe){Je(a,a.return,pe)}}break;case 3:if(Pd=null,b=_r,_r=kd(s.containerInfo),Nn(s,a),_r=b,Pn(a),p&4&&c!==null&&c.memoizedState.isDehydrated)try{us(s.containerInfo)}catch(pe){Je(a,a.return,pe)}lv&&(lv=!1,_E(a));break;case 4:p=_r,_r=kd(a.stateNode.containerInfo),Nn(s,a),Pn(a),_r=p;break;case 12:Nn(s,a),Pn(a);break;case 31:Nn(s,a),Pn(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,pd(a,p)));break;case 13:Nn(s,a),Pn(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(vd=jn()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,pd(a,p)));break;case 22:b=a.memoizedState!==null;var U=c!==null&&c.memoizedState!==null,G=ci,X=It;if(ci=G||b,It=X||U,Nn(s,a),It=X,ci=G,Pn(a),p&8192)e:for(s=a.stateNode,s._visibility=b?s._visibility&-2:s._visibility|1,b&&(c===null||U||ci||It||Fa(a)),c=null,s=a;;){if(s.tag===5||s.tag===26){if(c===null){U=c=s;try{if(w=U.stateNode,b)k=w.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{O=U.stateNode;var te=U.memoizedProps.style,V=te!=null&&te.hasOwnProperty("display")?te.display:null;O.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(pe){Je(U,U.return,pe)}}}else if(s.tag===6){if(c===null){U=s;try{U.stateNode.nodeValue=b?"":U.memoizedProps}catch(pe){Je(U,U.return,pe)}}}else if(s.tag===18){if(c===null){U=s;try{var K=U.stateNode;b?d1(K,!0):d1(U.stateNode,!1)}catch(pe){Je(U,U.return,pe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}p&4&&(p=a.updateQueue,p!==null&&(c=p.retryQueue,c!==null&&(p.retryQueue=null,pd(a,c))));break;case 19:Nn(s,a),Pn(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,pd(a,p)));break;case 30:break;case 21:break;default:Nn(s,a),Pn(a)}}function Pn(a){var s=a.flags;if(s&2){try{for(var c,p=a.return;p!==null;){if(hE(p)){c=p;break}p=p.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var b=c.stateNode,w=ov(a);hd(a,w,b);break;case 5:var k=c.stateNode;c.flags&32&&(Oo(k,""),c.flags&=-33);var O=ov(a);hd(a,O,k);break;case 3:case 4:var U=c.stateNode.containerInfo,G=ov(a);sv(a,G,U);break;default:throw Error(r(161))}}catch(X){Je(a,a.return,X)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function _E(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;_E(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function fi(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)vE(a,s.alternate,s),s=s.sibling}function Fa(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:na(4,s,s.return),Fa(s);break;case 1:qr(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&dE(s,s.return,c),Fa(s);break;case 27:Ql(s.stateNode);case 26:case 5:qr(s,s.return),Fa(s);break;case 22:s.memoizedState===null&&Fa(s);break;case 30:Fa(s);break;default:Fa(s)}a=a.sibling}}function hi(a,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var p=s.alternate,b=a,w=s,k=w.flags;switch(w.tag){case 0:case 11:case 15:hi(b,w,c),Hl(4,w);break;case 1:if(hi(b,w,c),p=w,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(G){Je(p,p.return,G)}if(p=w,b=p.updateQueue,b!==null){var O=p.stateNode;try{var U=b.shared.hiddenCallbacks;if(U!==null)for(b.shared.hiddenCallbacks=null,b=0;b<U.length;b++)Q_(U[b],O)}catch(G){Je(p,p.return,G)}}c&&k&64&&cE(w),Gl(w,w.return);break;case 27:pE(w);case 26:case 5:hi(b,w,c),c&&p===null&&k&4&&fE(w),Gl(w,w.return);break;case 12:hi(b,w,c);break;case 31:hi(b,w,c),c&&k&4&&bE(b,w);break;case 13:hi(b,w,c),c&&k&4&&xE(b,w);break;case 22:w.memoizedState===null&&hi(b,w,c),Gl(w,w.return);break;case 30:break;default:hi(b,w,c)}s=s.sibling}}function uv(a,s){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&Pl(c))}function cv(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Pl(a))}function Sr(a,s,c,p){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)SE(a,s,c,p),s=s.sibling}function SE(a,s,c,p){var b=s.flags;switch(s.tag){case 0:case 11:case 15:Sr(a,s,c,p),b&2048&&Hl(9,s);break;case 1:Sr(a,s,c,p);break;case 3:Sr(a,s,c,p),b&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Pl(a)));break;case 12:if(b&2048){Sr(a,s,c,p),a=s.stateNode;try{var w=s.memoizedProps,k=w.id,O=w.onPostCommit;typeof O=="function"&&O(k,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(U){Je(s,s.return,U)}}else Sr(a,s,c,p);break;case 31:Sr(a,s,c,p);break;case 13:Sr(a,s,c,p);break;case 23:break;case 22:w=s.stateNode,k=s.alternate,s.memoizedState!==null?w._visibility&2?Sr(a,s,c,p):Vl(a,s):w._visibility&2?Sr(a,s,c,p):(w._visibility|=2,Zo(a,s,c,p,(s.subtreeFlags&10256)!==0||!1)),b&2048&&uv(k,s);break;case 24:Sr(a,s,c,p),b&2048&&cv(s.alternate,s);break;default:Sr(a,s,c,p)}}function Zo(a,s,c,p,b){for(b=b&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var w=a,k=s,O=c,U=p,G=k.flags;switch(k.tag){case 0:case 11:case 15:Zo(w,k,O,U,b),Hl(8,k);break;case 23:break;case 22:var X=k.stateNode;k.memoizedState!==null?X._visibility&2?Zo(w,k,O,U,b):Vl(w,k):(X._visibility|=2,Zo(w,k,O,U,b)),b&&G&2048&&uv(k.alternate,k);break;case 24:Zo(w,k,O,U,b),b&&G&2048&&cv(k.alternate,k);break;default:Zo(w,k,O,U,b)}s=s.sibling}}function Vl(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=a,p=s,b=p.flags;switch(p.tag){case 22:Vl(c,p),b&2048&&uv(p.alternate,p);break;case 24:Vl(c,p),b&2048&&cv(p.alternate,p);break;default:Vl(c,p)}s=s.sibling}}var Fl=8192;function Qo(a,s,c){if(a.subtreeFlags&Fl)for(a=a.child;a!==null;)EE(a,s,c),a=a.sibling}function EE(a,s,c){switch(a.tag){case 26:Qo(a,s,c),a.flags&Fl&&a.memoizedState!==null&&r3(c,_r,a.memoizedState,a.memoizedProps);break;case 5:Qo(a,s,c);break;case 3:case 4:var p=_r;_r=kd(a.stateNode.containerInfo),Qo(a,s,c),_r=p;break;case 22:a.memoizedState===null&&(p=a.alternate,p!==null&&p.memoizedState!==null?(p=Fl,Fl=16777216,Qo(a,s,c),Fl=p):Qo(a,s,c));break;default:Qo(a,s,c)}}function TE(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function Kl(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];Kt=p,CE(p,a)}TE(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)AE(a),a=a.sibling}function AE(a){switch(a.tag){case 0:case 11:case 15:Kl(a),a.flags&2048&&na(9,a,a.return);break;case 3:Kl(a);break;case 12:Kl(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,md(a)):Kl(a);break;default:Kl(a)}}function md(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];Kt=p,CE(p,a)}TE(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:na(8,s,s.return),md(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,md(s));break;default:md(s)}a=a.sibling}}function CE(a,s){for(;Kt!==null;){var c=Kt;switch(c.tag){case 0:case 11:case 15:na(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var p=c.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Pl(c.memoizedState.cache)}if(p=c.child,p!==null)p.return=c,Kt=p;else e:for(c=a;Kt!==null;){p=Kt;var b=p.sibling,w=p.return;if(gE(p),p===c){Kt=null;break e}if(b!==null){b.return=w,Kt=b;break e}Kt=w}}}var y4={getCacheForType:function(a){var s=sn(Rt),c=s.data.get(a);return c===void 0&&(c=a(),s.data.set(a,c)),c},cacheSignal:function(){return sn(Rt).controller.signal}},b4=typeof WeakMap=="function"?WeakMap:Map,Ke=0,rt=null,Ie=null,Ue=0,We=0,Vn=null,ra=!1,es=!1,dv=!1,pi=0,xt=0,ia=0,Ka=0,fv=0,Fn=0,ts=0,Yl=null,Rn=null,hv=!1,vd=0,kE=0,gd=1/0,yd=null,aa=null,jt=0,oa=null,ns=null,mi=0,pv=0,mv=null,NE=null,Wl=0,vv=null;function Kn(){return(Ke&2)!==0&&Ue!==0?Ue&-Ue:j.T!==null?_v():Vw()}function PE(){if(Fn===0)if((Ue&536870912)===0||ze){var a=Ac;Ac<<=1,(Ac&3932160)===0&&(Ac=262144),Fn=a}else Fn=536870912;return a=Hn.current,a!==null&&(a.flags|=32),Fn}function On(a,s,c){(a===rt&&(We===2||We===9)||a.cancelPendingCommit!==null)&&(rs(a,0),sa(a,Ue,Fn,!1)),vl(a,c),((Ke&2)===0||a!==rt)&&(a===rt&&((Ke&2)===0&&(Ka|=c),xt===4&&sa(a,Ue,Fn,!1)),Hr(a))}function RE(a,s,c){if((Ke&6)!==0)throw Error(r(327));var p=!c&&(s&127)===0&&(s&a.expiredLanes)===0||ml(a,s),b=p?_4(a,s):yv(a,s,!0),w=p;do{if(b===0){es&&!p&&sa(a,s,0,!1);break}else{if(c=a.current.alternate,w&&!x4(c)){b=yv(a,s,!1),w=!1;continue}if(b===2){if(w=s,a.errorRecoveryDisabledLanes&w)var k=0;else k=a.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){s=k;e:{var O=a;b=Yl;var U=O.current.memoizedState.isDehydrated;if(U&&(rs(O,k).flags|=256),k=yv(O,k,!1),k!==2){if(dv&&!U){O.errorRecoveryDisabledLanes|=w,Ka|=w,b=4;break e}w=Rn,Rn=b,w!==null&&(Rn===null?Rn=w:Rn.push.apply(Rn,w))}b=k}if(w=!1,b!==2)continue}}if(b===1){rs(a,0),sa(a,s,0,!0);break}e:{switch(p=a,w=b,w){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:sa(p,s,Fn,!ra);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(b=vd+300-jn(),10<b)){if(sa(p,s,Fn,!ra),kc(p,0,!0)!==0)break e;mi=s,p.timeoutHandle=l1(OE.bind(null,p,c,Rn,yd,hv,s,Fn,Ka,ts,ra,w,"Throttled",-0,0),b);break e}OE(p,c,Rn,yd,hv,s,Fn,Ka,ts,ra,w,null,-0,0)}}break}while(!0);Hr(a)}function OE(a,s,c,p,b,w,k,O,U,G,X,te,V,K){if(a.timeoutHandle=-1,te=s.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},EE(s,w,te);var pe=(w&62914560)===w?vd-jn():(w&4194048)===w?kE-jn():0;if(pe=i3(te,pe),pe!==null){mi=w,a.cancelPendingCommit=pe(zE.bind(null,a,s,w,c,p,b,k,O,U,X,te,null,V,K)),sa(a,w,k,!G);return}}zE(a,s,w,c,p,b,k,O,U)}function x4(a){for(var s=a;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var p=0;p<c.length;p++){var b=c[p],w=b.getSnapshot;b=b.value;try{if(!$n(w(),b))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function sa(a,s,c,p){s&=~fv,s&=~Ka,a.suspendedLanes|=s,a.pingedLanes&=~s,p&&(a.warmLanes|=s),p=a.expirationTimes;for(var b=s;0<b;){var w=31-zn(b),k=1<<w;p[w]=-1,b&=~k}c!==0&&qw(a,c,s)}function bd(){return(Ke&6)===0?(Jl(0),!1):!0}function gv(){if(Ie!==null){if(We===0)var a=Ie.return;else a=Ie,ii=ja=null,Mm(a),Ko=null,Ol=0,a=Ie;for(;a!==null;)uE(a.alternate,a),a=a.return;Ie=null}}function rs(a,s){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,z4(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),mi=0,gv(),rt=a,Ie=c=ni(a.current,null),Ue=s,We=0,Vn=null,ra=!1,es=ml(a,s),dv=!1,ts=Fn=fv=Ka=ia=xt=0,Rn=Yl=null,hv=!1,(s&8)!==0&&(s|=s&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=s;0<p;){var b=31-zn(p),w=1<<b;s|=a[b],p&=~w}return pi=s,zc(),c}function ME(a,s){Pe=null,j.H=zl,s===Fo||s===Yc?(s=W_(),We=3):s===wm?(s=W_(),We=4):We=s===Wm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Vn=s,Ie===null&&(xt=1,ld(a,ir(s,a.current)))}function IE(){var a=Hn.current;return a===null?!0:(Ue&4194048)===Ue?lr===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?a===lr:!1}function DE(){var a=j.H;return j.H=zl,a===null?zl:a}function UE(){var a=j.A;return j.A=y4,a}function xd(){xt=4,ra||(Ue&4194048)!==Ue&&Hn.current!==null||(es=!0),(ia&134217727)===0&&(Ka&134217727)===0||rt===null||sa(rt,Ue,Fn,!1)}function yv(a,s,c){var p=Ke;Ke|=2;var b=DE(),w=UE();(rt!==a||Ue!==s)&&(yd=null,rs(a,s)),s=!1;var k=xt;e:do try{if(We!==0&&Ie!==null){var O=Ie,U=Vn;switch(We){case 8:gv(),k=6;break e;case 3:case 2:case 9:case 6:Hn.current===null&&(s=!0);var G=We;if(We=0,Vn=null,is(a,O,U,G),c&&es){k=0;break e}break;default:G=We,We=0,Vn=null,is(a,O,U,G)}}w4(),k=xt;break}catch(X){ME(a,X)}while(!0);return s&&a.shellSuspendCounter++,ii=ja=null,Ke=p,j.H=b,j.A=w,Ie===null&&(rt=null,Ue=0,zc()),k}function w4(){for(;Ie!==null;)LE(Ie)}function _4(a,s){var c=Ke;Ke|=2;var p=DE(),b=UE();rt!==a||Ue!==s?(yd=null,gd=jn()+500,rs(a,s)):es=ml(a,s);e:do try{if(We!==0&&Ie!==null){s=Ie;var w=Vn;t:switch(We){case 1:We=0,Vn=null,is(a,s,w,1);break;case 2:case 9:if(K_(w)){We=0,Vn=null,jE(s);break}s=function(){We!==2&&We!==9||rt!==a||(We=7),Hr(a)},w.then(s,s);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:K_(w)?(We=0,Vn=null,jE(s)):(We=0,Vn=null,is(a,s,w,7));break;case 5:var k=null;switch(Ie.tag){case 26:k=Ie.memoizedState;case 5:case 27:var O=Ie;if(k?S1(k):O.stateNode.complete){We=0,Vn=null;var U=O.sibling;if(U!==null)Ie=U;else{var G=O.return;G!==null?(Ie=G,wd(G)):Ie=null}break t}}We=0,Vn=null,is(a,s,w,5);break;case 6:We=0,Vn=null,is(a,s,w,6);break;case 8:gv(),xt=6;break e;default:throw Error(r(462))}}S4();break}catch(X){ME(a,X)}while(!0);return ii=ja=null,j.H=p,j.A=b,Ke=c,Ie!==null?0:(rt=null,Ue=0,zc(),xt)}function S4(){for(;Ie!==null&&!FL();)LE(Ie)}function LE(a){var s=sE(a.alternate,a,pi);a.memoizedProps=a.pendingProps,s===null?wd(a):Ie=s}function jE(a){var s=a,c=s.alternate;switch(s.tag){case 15:case 0:s=tE(c,s,s.pendingProps,s.type,void 0,Ue);break;case 11:s=tE(c,s,s.pendingProps,s.type.render,s.ref,Ue);break;case 5:Mm(s);default:uE(c,s),s=Ie=U_(s,pi),s=sE(c,s,pi)}a.memoizedProps=a.pendingProps,s===null?wd(a):Ie=s}function is(a,s,c,p){ii=ja=null,Mm(s),Ko=null,Ol=0;var b=s.return;try{if(d4(a,b,s,c,Ue)){xt=1,ld(a,ir(c,a.current)),Ie=null;return}}catch(w){if(b!==null)throw Ie=b,w;xt=1,ld(a,ir(c,a.current)),Ie=null;return}s.flags&32768?(ze||p===1?a=!0:es||(Ue&536870912)!==0?a=!1:(ra=a=!0,(p===2||p===9||p===3||p===6)&&(p=Hn.current,p!==null&&p.tag===13&&(p.flags|=16384))),BE(s,a)):wd(s)}function wd(a){var s=a;do{if((s.flags&32768)!==0){BE(s,ra);return}a=s.return;var c=p4(s.alternate,s,pi);if(c!==null){Ie=c;return}if(s=s.sibling,s!==null){Ie=s;return}Ie=s=a}while(s!==null);xt===0&&(xt=5)}function BE(a,s){do{var c=m4(a.alternate,a);if(c!==null){c.flags&=32767,Ie=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(a=a.sibling,a!==null)){Ie=a;return}Ie=a=c}while(a!==null);xt=6,Ie=null}function zE(a,s,c,p,b,w,k,O,U){a.cancelPendingCommit=null;do _d();while(jt!==0);if((Ke&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(w=s.lanes|s.childLanes,w|=om,nj(a,c,w,k,O,U),a===rt&&(Ie=rt=null,Ue=0),ns=s,oa=a,mi=c,pv=w,mv=b,NE=p,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,C4(Ec,function(){return VE(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||p){p=j.T,j.T=null,b=Y.p,Y.p=2,k=Ke,Ke|=4;try{v4(a,s,c)}finally{Ke=k,Y.p=b,j.T=p}}jt=1,$E(),qE(),HE()}}function $E(){if(jt===1){jt=0;var a=oa,s=ns,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=j.T,j.T=null;var p=Y.p;Y.p=2;var b=Ke;Ke|=4;try{wE(s,a);var w=Pv,k=C_(a.containerInfo),O=w.focusedElem,U=w.selectionRange;if(k!==O&&O&&O.ownerDocument&&A_(O.ownerDocument.documentElement,O)){if(U!==null&&tm(O)){var G=U.start,X=U.end;if(X===void 0&&(X=G),"selectionStart"in O)O.selectionStart=G,O.selectionEnd=Math.min(X,O.value.length);else{var te=O.ownerDocument||document,V=te&&te.defaultView||window;if(V.getSelection){var K=V.getSelection(),pe=O.textContent.length,we=Math.min(U.start,pe),et=U.end===void 0?we:Math.min(U.end,pe);!K.extend&&we>et&&(k=et,et=we,we=k);var z=T_(O,we),B=T_(O,et);if(z&&B&&(K.rangeCount!==1||K.anchorNode!==z.node||K.anchorOffset!==z.offset||K.focusNode!==B.node||K.focusOffset!==B.offset)){var H=te.createRange();H.setStart(z.node,z.offset),K.removeAllRanges(),we>et?(K.addRange(H),K.extend(B.node,B.offset)):(H.setEnd(B.node,B.offset),K.addRange(H))}}}}for(te=[],K=O;K=K.parentNode;)K.nodeType===1&&te.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<te.length;O++){var ee=te[O];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Id=!!Nv,Pv=Nv=null}finally{Ke=b,Y.p=p,j.T=c}}a.current=s,jt=2}}function qE(){if(jt===2){jt=0;var a=oa,s=ns,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=j.T,j.T=null;var p=Y.p;Y.p=2;var b=Ke;Ke|=4;try{vE(a,s.alternate,s)}finally{Ke=b,Y.p=p,j.T=c}}jt=3}}function HE(){if(jt===4||jt===3){jt=0,KL();var a=oa,s=ns,c=mi,p=NE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?jt=5:(jt=0,ns=oa=null,GE(a,a.pendingLanes));var b=a.pendingLanes;if(b===0&&(aa=null),Up(c),s=s.stateNode,Bn&&typeof Bn.onCommitFiberRoot=="function")try{Bn.onCommitFiberRoot(pl,s,void 0,(s.current.flags&128)===128)}catch{}if(p!==null){s=j.T,b=Y.p,Y.p=2,j.T=null;try{for(var w=a.onRecoverableError,k=0;k<p.length;k++){var O=p[k];w(O.value,{componentStack:O.stack})}}finally{j.T=s,Y.p=b}}(mi&3)!==0&&_d(),Hr(a),b=a.pendingLanes,(c&261930)!==0&&(b&42)!==0?a===vv?Wl++:(Wl=0,vv=a):Wl=0,Jl(0)}}function GE(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,Pl(s)))}function _d(){return $E(),qE(),HE(),VE()}function VE(){if(jt!==5)return!1;var a=oa,s=pv;pv=0;var c=Up(mi),p=j.T,b=Y.p;try{Y.p=32>c?32:c,j.T=null,c=mv,mv=null;var w=oa,k=mi;if(jt=0,ns=oa=null,mi=0,(Ke&6)!==0)throw Error(r(331));var O=Ke;if(Ke|=4,AE(w.current),SE(w,w.current,k,c),Ke=O,Jl(0,!1),Bn&&typeof Bn.onPostCommitFiberRoot=="function")try{Bn.onPostCommitFiberRoot(pl,w)}catch{}return!0}finally{Y.p=b,j.T=p,GE(a,s)}}function FE(a,s,c){s=ir(c,s),s=Ym(a.stateNode,s,2),a=Qi(a,s,2),a!==null&&(vl(a,2),Hr(a))}function Je(a,s,c){if(a.tag===3)FE(a,a,c);else for(;s!==null;){if(s.tag===3){FE(s,a,c);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(aa===null||!aa.has(p))){a=ir(c,a),c=KS(2),p=Qi(s,c,2),p!==null&&(YS(c,p,s,a),vl(p,2),Hr(p));break}}s=s.return}}function bv(a,s,c){var p=a.pingCache;if(p===null){p=a.pingCache=new b4;var b=new Set;p.set(s,b)}else b=p.get(s),b===void 0&&(b=new Set,p.set(s,b));b.has(c)||(dv=!0,b.add(c),a=E4.bind(null,a,s,c),s.then(a,a))}function E4(a,s,c){var p=a.pingCache;p!==null&&p.delete(s),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,rt===a&&(Ue&c)===c&&(xt===4||xt===3&&(Ue&62914560)===Ue&&300>jn()-vd?(Ke&2)===0&&rs(a,0):fv|=c,ts===Ue&&(ts=0)),Hr(a)}function KE(a,s){s===0&&(s=$w()),a=Da(a,s),a!==null&&(vl(a,s),Hr(a))}function T4(a){var s=a.memoizedState,c=0;s!==null&&(c=s.retryLane),KE(a,c)}function A4(a,s){var c=0;switch(a.tag){case 31:case 13:var p=a.stateNode,b=a.memoizedState;b!==null&&(c=b.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(s),KE(a,c)}function C4(a,s){return Op(a,s)}var Sd=null,as=null,xv=!1,Ed=!1,wv=!1,la=0;function Hr(a){a!==as&&a.next===null&&(as===null?Sd=as=a:as=as.next=a),Ed=!0,xv||(xv=!0,N4())}function Jl(a,s){if(!wv&&Ed){wv=!0;do for(var c=!1,p=Sd;p!==null;){if(a!==0){var b=p.pendingLanes;if(b===0)var w=0;else{var k=p.suspendedLanes,O=p.pingedLanes;w=(1<<31-zn(42|a)+1)-1,w&=b&~(k&~O),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(c=!0,XE(p,w))}else w=Ue,w=kc(p,p===rt?w:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(w&3)===0||ml(p,w)||(c=!0,XE(p,w));p=p.next}while(c);wv=!1}}function k4(){YE()}function YE(){Ed=xv=!1;var a=0;la!==0&&B4()&&(a=la);for(var s=jn(),c=null,p=Sd;p!==null;){var b=p.next,w=WE(p,s);w===0?(p.next=null,c===null?Sd=b:c.next=b,b===null&&(as=c)):(c=p,(a!==0||(w&3)!==0)&&(Ed=!0)),p=b}jt!==0&&jt!==5||Jl(a),la!==0&&(la=0)}function WE(a,s){for(var c=a.suspendedLanes,p=a.pingedLanes,b=a.expirationTimes,w=a.pendingLanes&-62914561;0<w;){var k=31-zn(w),O=1<<k,U=b[k];U===-1?((O&c)===0||(O&p)!==0)&&(b[k]=tj(O,s)):U<=s&&(a.expiredLanes|=O),w&=~O}if(s=rt,c=Ue,c=kc(a,a===s?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,c===0||a===s&&(We===2||We===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&Mp(p),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||ml(a,c)){if(s=c&-c,s===a.callbackPriority)return s;switch(p!==null&&Mp(p),Up(c)){case 2:case 8:c=Bw;break;case 32:c=Ec;break;case 268435456:c=zw;break;default:c=Ec}return p=JE.bind(null,a),c=Op(c,p),a.callbackPriority=s,a.callbackNode=c,s}return p!==null&&p!==null&&Mp(p),a.callbackPriority=2,a.callbackNode=null,2}function JE(a,s){if(jt!==0&&jt!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(_d()&&a.callbackNode!==c)return null;var p=Ue;return p=kc(a,a===rt?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(RE(a,p,s),WE(a,jn()),a.callbackNode!=null&&a.callbackNode===c?JE.bind(null,a):null)}function XE(a,s){if(_d())return null;RE(a,s,!0)}function N4(){$4(function(){(Ke&6)!==0?Op(jw,k4):YE()})}function _v(){if(la===0){var a=Go;a===0&&(a=Tc,Tc<<=1,(Tc&261888)===0&&(Tc=256)),la=a}return la}function ZE(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Oc(""+a)}function QE(a,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,a.id&&c.setAttribute("form",a.id),s.parentNode.insertBefore(c,s),a=new FormData(a),c.parentNode.removeChild(c),a}function P4(a,s,c,p,b){if(s==="submit"&&c&&c.stateNode===b){var w=ZE((b[An]||null).action),k=p.submitter;k&&(s=(s=k[An]||null)?ZE(s.formAction):k.getAttribute("formAction"),s!==null&&(w=s,k=null));var O=new Uc("action","action",null,p,b);a.push({event:O,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(la!==0){var U=k?QE(b,k):new FormData(b);qm(c,{pending:!0,data:U,method:b.method,action:w},null,U)}}else typeof w=="function"&&(O.preventDefault(),U=k?QE(b,k):new FormData(b),qm(c,{pending:!0,data:U,method:b.method,action:w},w,U))},currentTarget:b}]})}}for(var Sv=0;Sv<am.length;Sv++){var Ev=am[Sv],R4=Ev.toLowerCase(),O4=Ev[0].toUpperCase()+Ev.slice(1);wr(R4,"on"+O4)}wr(P_,"onAnimationEnd"),wr(R_,"onAnimationIteration"),wr(O_,"onAnimationStart"),wr("dblclick","onDoubleClick"),wr("focusin","onFocus"),wr("focusout","onBlur"),wr(Yj,"onTransitionRun"),wr(Wj,"onTransitionStart"),wr(Jj,"onTransitionCancel"),wr(M_,"onTransitionEnd"),Po("onMouseEnter",["mouseout","mouseover"]),Po("onMouseLeave",["mouseout","mouseover"]),Po("onPointerEnter",["pointerout","pointerover"]),Po("onPointerLeave",["pointerout","pointerover"]),Ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ra("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xl));function e1(a,s){s=(s&4)!==0;for(var c=0;c<a.length;c++){var p=a[c],b=p.event;p=p.listeners;e:{var w=void 0;if(s)for(var k=p.length-1;0<=k;k--){var O=p[k],U=O.instance,G=O.currentTarget;if(O=O.listener,U!==w&&b.isPropagationStopped())break e;w=O,b.currentTarget=G;try{w(b)}catch(X){Bc(X)}b.currentTarget=null,w=U}else for(k=0;k<p.length;k++){if(O=p[k],U=O.instance,G=O.currentTarget,O=O.listener,U!==w&&b.isPropagationStopped())break e;w=O,b.currentTarget=G;try{w(b)}catch(X){Bc(X)}b.currentTarget=null,w=U}}}}function De(a,s){var c=s[Lp];c===void 0&&(c=s[Lp]=new Set);var p=a+"__bubble";c.has(p)||(t1(s,a,2,!1),c.add(p))}function Tv(a,s,c){var p=0;s&&(p|=4),t1(c,a,p,s)}var Td="_reactListening"+Math.random().toString(36).slice(2);function Av(a){if(!a[Td]){a[Td]=!0,Yw.forEach(function(c){c!=="selectionchange"&&(M4.has(c)||Tv(c,!1,a),Tv(c,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Td]||(s[Td]=!0,Tv("selectionchange",!1,s))}}function t1(a,s,c,p){switch(P1(s)){case 2:var b=s3;break;case 8:b=l3;break;default:b=$v}c=b.bind(null,s,c,a),b=void 0,!Fp||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(b=!0),p?b!==void 0?a.addEventListener(s,c,{capture:!0,passive:b}):a.addEventListener(s,c,!0):b!==void 0?a.addEventListener(s,c,{passive:b}):a.addEventListener(s,c,!1)}function Cv(a,s,c,p,b){var w=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var k=p.tag;if(k===3||k===4){var O=p.stateNode.containerInfo;if(O===b)break;if(k===4)for(k=p.return;k!==null;){var U=k.tag;if((U===3||U===4)&&k.stateNode.containerInfo===b)return;k=k.return}for(;O!==null;){if(k=Co(O),k===null)return;if(U=k.tag,U===5||U===6||U===26||U===27){p=w=k;continue e}O=O.parentNode}}p=p.return}o_(function(){var G=w,X=Gp(c),te=[];e:{var V=I_.get(a);if(V!==void 0){var K=Uc,pe=a;switch(a){case"keypress":if(Ic(c)===0)break e;case"keydown":case"keyup":K=Aj;break;case"focusin":pe="focus",K=Jp;break;case"focusout":pe="blur",K=Jp;break;case"beforeblur":case"afterblur":K=Jp;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=u_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=pj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Nj;break;case P_:case R_:case O_:K=gj;break;case M_:K=Rj;break;case"scroll":case"scrollend":K=fj;break;case"wheel":K=Mj;break;case"copy":case"cut":case"paste":K=bj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=d_;break;case"toggle":case"beforetoggle":K=Dj}var we=(s&4)!==0,et=!we&&(a==="scroll"||a==="scrollend"),z=we?V!==null?V+"Capture":null:V;we=[];for(var B=G,H;B!==null;){var ee=B;if(H=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||H===null||z===null||(ee=bl(B,z),ee!=null&&we.push(Zl(B,ee,H))),et)break;B=B.return}0<we.length&&(V=new K(V,pe,null,c,X),te.push({event:V,listeners:we}))}}if((s&7)===0){e:{if(V=a==="mouseover"||a==="pointerover",K=a==="mouseout"||a==="pointerout",V&&c!==Hp&&(pe=c.relatedTarget||c.fromElement)&&(Co(pe)||pe[Ao]))break e;if((K||V)&&(V=X.window===X?X:(V=X.ownerDocument)?V.defaultView||V.parentWindow:window,K?(pe=c.relatedTarget||c.toElement,K=G,pe=pe?Co(pe):null,pe!==null&&(et=o(pe),we=pe.tag,pe!==et||we!==5&&we!==27&&we!==6)&&(pe=null)):(K=null,pe=G),K!==pe)){if(we=u_,ee="onMouseLeave",z="onMouseEnter",B="mouse",(a==="pointerout"||a==="pointerover")&&(we=d_,ee="onPointerLeave",z="onPointerEnter",B="pointer"),et=K==null?V:yl(K),H=pe==null?V:yl(pe),V=new we(ee,B+"leave",K,c,X),V.target=et,V.relatedTarget=H,ee=null,Co(X)===G&&(we=new we(z,B+"enter",pe,c,X),we.target=H,we.relatedTarget=et,ee=we),et=ee,K&&pe)t:{for(we=I4,z=K,B=pe,H=0,ee=z;ee;ee=we(ee))H++;ee=0;for(var ye=B;ye;ye=we(ye))ee++;for(;0<H-ee;)z=we(z),H--;for(;0<ee-H;)B=we(B),ee--;for(;H--;){if(z===B||B!==null&&z===B.alternate){we=z;break t}z=we(z),B=we(B)}we=null}else we=null;K!==null&&n1(te,V,K,we,!1),pe!==null&&et!==null&&n1(te,et,pe,we,!0)}}e:{if(V=G?yl(G):window,K=V.nodeName&&V.nodeName.toLowerCase(),K==="select"||K==="input"&&V.type==="file")var He=b_;else if(g_(V))if(x_)He=Vj;else{He=Hj;var ve=qj}else K=V.nodeName,!K||K.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?G&&qp(G.elementType)&&(He=b_):He=Gj;if(He&&(He=He(a,G))){y_(te,He,c,X);break e}ve&&ve(a,V,G),a==="focusout"&&G&&V.type==="number"&&G.memoizedProps.value!=null&&$p(V,"number",V.value)}switch(ve=G?yl(G):window,a){case"focusin":(g_(ve)||ve.contentEditable==="true")&&(Uo=ve,nm=G,Cl=null);break;case"focusout":Cl=nm=Uo=null;break;case"mousedown":rm=!0;break;case"contextmenu":case"mouseup":case"dragend":rm=!1,k_(te,c,X);break;case"selectionchange":if(Kj)break;case"keydown":case"keyup":k_(te,c,X)}var Re;if(Zp)e:{switch(a){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Do?m_(a,c)&&(Le="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Le="onCompositionStart");Le&&(f_&&c.locale!=="ko"&&(Do||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Do&&(Re=s_()):(Fi=X,Kp="value"in Fi?Fi.value:Fi.textContent,Do=!0)),ve=Ad(G,Le),0<ve.length&&(Le=new c_(Le,a,null,c,X),te.push({event:Le,listeners:ve}),Re?Le.data=Re:(Re=v_(c),Re!==null&&(Le.data=Re)))),(Re=Lj?jj(a,c):Bj(a,c))&&(Le=Ad(G,"onBeforeInput"),0<Le.length&&(ve=new c_("onBeforeInput","beforeinput",null,c,X),te.push({event:ve,listeners:Le}),ve.data=Re)),P4(te,a,G,c,X)}e1(te,s)})}function Zl(a,s,c){return{instance:a,listener:s,currentTarget:c}}function Ad(a,s){for(var c=s+"Capture",p=[];a!==null;){var b=a,w=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||w===null||(b=bl(a,c),b!=null&&p.unshift(Zl(a,b,w)),b=bl(a,s),b!=null&&p.push(Zl(a,b,w))),a.tag===3)return p;a=a.return}return[]}function I4(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function n1(a,s,c,p,b){for(var w=s._reactName,k=[];c!==null&&c!==p;){var O=c,U=O.alternate,G=O.stateNode;if(O=O.tag,U!==null&&U===p)break;O!==5&&O!==26&&O!==27||G===null||(U=G,b?(G=bl(c,w),G!=null&&k.unshift(Zl(c,G,U))):b||(G=bl(c,w),G!=null&&k.push(Zl(c,G,U)))),c=c.return}k.length!==0&&a.push({event:s,listeners:k})}var D4=/\r\n?/g,U4=/\u0000|\uFFFD/g;function r1(a){return(typeof a=="string"?a:""+a).replace(D4,`
`).replace(U4,"")}function i1(a,s){return s=r1(s),r1(a)===s}function Qe(a,s,c,p,b,w){switch(c){case"children":typeof p=="string"?s==="body"||s==="textarea"&&p===""||Oo(a,p):(typeof p=="number"||typeof p=="bigint")&&s!=="body"&&Oo(a,""+p);break;case"className":Pc(a,"class",p);break;case"tabIndex":Pc(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Pc(a,c,p);break;case"style":i_(a,p,w);break;case"data":if(s!=="object"){Pc(a,"data",p);break}case"src":case"href":if(p===""&&(s!=="a"||c!=="href")){a.removeAttribute(c);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(c);break}p=Oc(""+p),a.setAttribute(c,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(c==="formAction"?(s!=="input"&&Qe(a,s,"name",b.name,b,null),Qe(a,s,"formEncType",b.formEncType,b,null),Qe(a,s,"formMethod",b.formMethod,b,null),Qe(a,s,"formTarget",b.formTarget,b,null)):(Qe(a,s,"encType",b.encType,b,null),Qe(a,s,"method",b.method,b,null),Qe(a,s,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(c);break}p=Oc(""+p),a.setAttribute(c,p);break;case"onClick":p!=null&&(a.onclick=ei);break;case"onScroll":p!=null&&De("scroll",a);break;case"onScrollEnd":p!=null&&De("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(c=p.__html,c!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}c=Oc(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(c,""+p):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":p===!0?a.setAttribute(c,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(c,p):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(c,p):a.removeAttribute(c);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(c):a.setAttribute(c,p);break;case"popover":De("beforetoggle",a),De("toggle",a),Nc(a,"popover",p);break;case"xlinkActuate":Qr(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Qr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Qr(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Qr(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Qr(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Qr(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Qr(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Qr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Qr(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Nc(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=cj.get(c)||c,Nc(a,c,p))}}function kv(a,s,c,p,b,w){switch(c){case"style":i_(a,p,w);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(c=p.__html,c!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof p=="string"?Oo(a,p):(typeof p=="number"||typeof p=="bigint")&&Oo(a,""+p);break;case"onScroll":p!=null&&De("scroll",a);break;case"onScrollEnd":p!=null&&De("scrollend",a);break;case"onClick":p!=null&&(a.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ww.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(b=c.endsWith("Capture"),s=c.slice(2,b?c.length-7:void 0),w=a[An]||null,w=w!=null?w[c]:null,typeof w=="function"&&a.removeEventListener(s,w,b),typeof p=="function")){typeof w!="function"&&w!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(s,p,b);break e}c in a?a[c]=p:p===!0?a.setAttribute(c,""):Nc(a,c,p)}}}function un(a,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",a),De("load",a);var p=!1,b=!1,w;for(w in c)if(c.hasOwnProperty(w)){var k=c[w];if(k!=null)switch(w){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Qe(a,s,w,k,c,null)}}b&&Qe(a,s,"srcSet",c.srcSet,c,null),p&&Qe(a,s,"src",c.src,c,null);return;case"input":De("invalid",a);var O=w=k=b=null,U=null,G=null;for(p in c)if(c.hasOwnProperty(p)){var X=c[p];if(X!=null)switch(p){case"name":b=X;break;case"type":k=X;break;case"checked":U=X;break;case"defaultChecked":G=X;break;case"value":w=X;break;case"defaultValue":O=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:Qe(a,s,p,X,c,null)}}e_(a,w,O,U,G,k,b,!1);return;case"select":De("invalid",a),p=k=w=null;for(b in c)if(c.hasOwnProperty(b)&&(O=c[b],O!=null))switch(b){case"value":w=O;break;case"defaultValue":k=O;break;case"multiple":p=O;default:Qe(a,s,b,O,c,null)}s=w,c=k,a.multiple=!!p,s!=null?Ro(a,!!p,s,!1):c!=null&&Ro(a,!!p,c,!0);return;case"textarea":De("invalid",a),w=b=p=null;for(k in c)if(c.hasOwnProperty(k)&&(O=c[k],O!=null))switch(k){case"value":p=O;break;case"defaultValue":b=O;break;case"children":w=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:Qe(a,s,k,O,c,null)}n_(a,p,b,w);return;case"option":for(U in c)if(c.hasOwnProperty(U)&&(p=c[U],p!=null))switch(U){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Qe(a,s,U,p,c,null)}return;case"dialog":De("beforetoggle",a),De("toggle",a),De("cancel",a),De("close",a);break;case"iframe":case"object":De("load",a);break;case"video":case"audio":for(p=0;p<Xl.length;p++)De(Xl[p],a);break;case"image":De("error",a),De("load",a);break;case"details":De("toggle",a);break;case"embed":case"source":case"link":De("error",a),De("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in c)if(c.hasOwnProperty(G)&&(p=c[G],p!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Qe(a,s,G,p,c,null)}return;default:if(qp(s)){for(X in c)c.hasOwnProperty(X)&&(p=c[X],p!==void 0&&kv(a,s,X,p,c,void 0));return}}for(O in c)c.hasOwnProperty(O)&&(p=c[O],p!=null&&Qe(a,s,O,p,c,null))}function L4(a,s,c,p){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,w=null,k=null,O=null,U=null,G=null,X=null;for(K in c){var te=c[K];if(c.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":U=te;default:p.hasOwnProperty(K)||Qe(a,s,K,null,p,te)}}for(var V in p){var K=p[V];if(te=c[V],p.hasOwnProperty(V)&&(K!=null||te!=null))switch(V){case"type":w=K;break;case"name":b=K;break;case"checked":G=K;break;case"defaultChecked":X=K;break;case"value":k=K;break;case"defaultValue":O=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:K!==te&&Qe(a,s,V,K,p,te)}}zp(a,k,O,U,G,X,w,b);return;case"select":K=k=O=V=null;for(w in c)if(U=c[w],c.hasOwnProperty(w)&&U!=null)switch(w){case"value":break;case"multiple":K=U;default:p.hasOwnProperty(w)||Qe(a,s,w,null,p,U)}for(b in p)if(w=p[b],U=c[b],p.hasOwnProperty(b)&&(w!=null||U!=null))switch(b){case"value":V=w;break;case"defaultValue":O=w;break;case"multiple":k=w;default:w!==U&&Qe(a,s,b,w,p,U)}s=O,c=k,p=K,V!=null?Ro(a,!!c,V,!1):!!p!=!!c&&(s!=null?Ro(a,!!c,s,!0):Ro(a,!!c,c?[]:"",!1));return;case"textarea":K=V=null;for(O in c)if(b=c[O],c.hasOwnProperty(O)&&b!=null&&!p.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Qe(a,s,O,null,p,b)}for(k in p)if(b=p[k],w=c[k],p.hasOwnProperty(k)&&(b!=null||w!=null))switch(k){case"value":V=b;break;case"defaultValue":K=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==w&&Qe(a,s,k,b,p,w)}t_(a,V,K);return;case"option":for(var pe in c)if(V=c[pe],c.hasOwnProperty(pe)&&V!=null&&!p.hasOwnProperty(pe))switch(pe){case"selected":a.selected=!1;break;default:Qe(a,s,pe,null,p,V)}for(U in p)if(V=p[U],K=c[U],p.hasOwnProperty(U)&&V!==K&&(V!=null||K!=null))switch(U){case"selected":a.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:Qe(a,s,U,V,p,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in c)V=c[we],c.hasOwnProperty(we)&&V!=null&&!p.hasOwnProperty(we)&&Qe(a,s,we,null,p,V);for(G in p)if(V=p[G],K=c[G],p.hasOwnProperty(G)&&V!==K&&(V!=null||K!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(137,s));break;default:Qe(a,s,G,V,p,K)}return;default:if(qp(s)){for(var et in c)V=c[et],c.hasOwnProperty(et)&&V!==void 0&&!p.hasOwnProperty(et)&&kv(a,s,et,void 0,p,V);for(X in p)V=p[X],K=c[X],!p.hasOwnProperty(X)||V===K||V===void 0&&K===void 0||kv(a,s,X,V,p,K);return}}for(var z in c)V=c[z],c.hasOwnProperty(z)&&V!=null&&!p.hasOwnProperty(z)&&Qe(a,s,z,null,p,V);for(te in p)V=p[te],K=c[te],!p.hasOwnProperty(te)||V===K||V==null&&K==null||Qe(a,s,te,V,p,K)}function a1(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function j4(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,c=performance.getEntriesByType("resource"),p=0;p<c.length;p++){var b=c[p],w=b.transferSize,k=b.initiatorType,O=b.duration;if(w&&O&&a1(k)){for(k=0,O=b.responseEnd,p+=1;p<c.length;p++){var U=c[p],G=U.startTime;if(G>O)break;var X=U.transferSize,te=U.initiatorType;X&&a1(te)&&(U=U.responseEnd,k+=X*(U<O?1:(O-G)/(U-G)))}if(--p,s+=8*(w+k)/(b.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Nv=null,Pv=null;function Cd(a){return a.nodeType===9?a:a.ownerDocument}function o1(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s1(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function Rv(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ov=null;function B4(){var a=window.event;return a&&a.type==="popstate"?a===Ov?!1:(Ov=a,!0):(Ov=null,!1)}var l1=typeof setTimeout=="function"?setTimeout:void 0,z4=typeof clearTimeout=="function"?clearTimeout:void 0,u1=typeof Promise=="function"?Promise:void 0,$4=typeof queueMicrotask=="function"?queueMicrotask:typeof u1<"u"?function(a){return u1.resolve(null).then(a).catch(q4)}:l1;function q4(a){setTimeout(function(){throw a})}function ua(a){return a==="head"}function c1(a,s){var c=s,p=0;do{var b=c.nextSibling;if(a.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"||c==="/&"){if(p===0){a.removeChild(b),us(s);return}p--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")p++;else if(c==="html")Ql(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,Ql(c);for(var w=c.firstChild;w;){var k=w.nextSibling,O=w.nodeName;w[gl]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&w.rel.toLowerCase()==="stylesheet"||c.removeChild(w),w=k}}else c==="body"&&Ql(a.ownerDocument.body);c=b}while(c);us(s)}function d1(a,s){var c=a;a=0;do{var p=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=p}while(c)}function Mv(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Mv(c),jp(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function H4(a,s,c,p){for(;a.nodeType===1;){var b=c;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[gl])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(w=a.getAttribute("rel"),w==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(w!==b.rel||a.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||a.getAttribute("title")!==(b.title==null?null:b.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(w=a.getAttribute("src"),(w!==(b.src==null?null:b.src)||a.getAttribute("type")!==(b.type==null?null:b.type)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&w&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var w=b.name==null?null:""+b.name;if(b.type==="hidden"&&a.getAttribute("name")===w)return a}else return a;if(a=ur(a.nextSibling),a===null)break}return null}function G4(a,s,c){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=ur(a.nextSibling),a===null))return null;return a}function f1(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=ur(a.nextSibling),a===null))return null;return a}function Iv(a){return a.data==="$?"||a.data==="$~"}function Dv(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function V4(a,s){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||c.readyState!=="loading")s();else{var p=function(){s(),c.removeEventListener("DOMContentLoaded",p)};c.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function ur(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var Uv=null;function h1(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(s===0)return ur(a.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}a=a.nextSibling}return null}function p1(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return a;s--}else c!=="/$"&&c!=="/&"||s++}a=a.previousSibling}return null}function m1(a,s,c){switch(s=Cd(c),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Ql(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);jp(a)}var cr=new Map,v1=new Set;function kd(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var vi=Y.d;Y.d={f:F4,r:K4,D:Y4,C:W4,L:J4,m:X4,X:Q4,S:Z4,M:e3};function F4(){var a=vi.f(),s=bd();return a||s}function K4(a){var s=ko(a);s!==null&&s.tag===5&&s.type==="form"?MS(s):vi.r(a)}var os=typeof document>"u"?null:document;function g1(a,s,c){var p=os;if(p&&typeof s=="string"&&s){var b=nr(s);b='link[rel="'+a+'"][href="'+b+'"]',typeof c=="string"&&(b+='[crossorigin="'+c+'"]'),v1.has(b)||(v1.add(b),a={rel:a,crossOrigin:c,href:s},p.querySelector(b)===null&&(s=p.createElement("link"),un(s,"link",a),Ft(s),p.head.appendChild(s)))}}function Y4(a){vi.D(a),g1("dns-prefetch",a,null)}function W4(a,s){vi.C(a,s),g1("preconnect",a,s)}function J4(a,s,c){vi.L(a,s,c);var p=os;if(p&&a&&s){var b='link[rel="preload"][as="'+nr(s)+'"]';s==="image"&&c&&c.imageSrcSet?(b+='[imagesrcset="'+nr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(b+='[imagesizes="'+nr(c.imageSizes)+'"]')):b+='[href="'+nr(a)+'"]';var w=b;switch(s){case"style":w=ss(a);break;case"script":w=ls(a)}cr.has(w)||(a=m({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:a,as:s},c),cr.set(w,a),p.querySelector(b)!==null||s==="style"&&p.querySelector(eu(w))||s==="script"&&p.querySelector(tu(w))||(s=p.createElement("link"),un(s,"link",a),Ft(s),p.head.appendChild(s)))}}function X4(a,s){vi.m(a,s);var c=os;if(c&&a){var p=s&&typeof s.as=="string"?s.as:"script",b='link[rel="modulepreload"][as="'+nr(p)+'"][href="'+nr(a)+'"]',w=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=ls(a)}if(!cr.has(w)&&(a=m({rel:"modulepreload",href:a},s),cr.set(w,a),c.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(tu(w)))return}p=c.createElement("link"),un(p,"link",a),Ft(p),c.head.appendChild(p)}}}function Z4(a,s,c){vi.S(a,s,c);var p=os;if(p&&a){var b=No(p).hoistableStyles,w=ss(a);s=s||"default";var k=b.get(w);if(!k){var O={loading:0,preload:null};if(k=p.querySelector(eu(w)))O.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":s},c),(c=cr.get(w))&&Lv(a,c);var U=k=p.createElement("link");Ft(U),un(U,"link",a),U._p=new Promise(function(G,X){U.onload=G,U.onerror=X}),U.addEventListener("load",function(){O.loading|=1}),U.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Nd(k,s,p)}k={type:"stylesheet",instance:k,count:1,state:O},b.set(w,k)}}}function Q4(a,s){vi.X(a,s);var c=os;if(c&&a){var p=No(c).hoistableScripts,b=ls(a),w=p.get(b);w||(w=c.querySelector(tu(b)),w||(a=m({src:a,async:!0},s),(s=cr.get(b))&&jv(a,s),w=c.createElement("script"),Ft(w),un(w,"link",a),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(b,w))}}function e3(a,s){vi.M(a,s);var c=os;if(c&&a){var p=No(c).hoistableScripts,b=ls(a),w=p.get(b);w||(w=c.querySelector(tu(b)),w||(a=m({src:a,async:!0,type:"module"},s),(s=cr.get(b))&&jv(a,s),w=c.createElement("script"),Ft(w),un(w,"link",a),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(b,w))}}function y1(a,s,c,p){var b=(b=Ae.current)?kd(b):null;if(!b)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=ss(c.href),c=No(b).hoistableStyles,p=c.get(s),p||(p={type:"style",instance:null,count:0,state:null},c.set(s,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=ss(c.href);var w=No(b).hoistableStyles,k=w.get(a);if(k||(b=b.ownerDocument||b,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(a,k),(w=b.querySelector(eu(a)))&&!w._p&&(k.instance=w,k.state.loading=5),cr.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},cr.set(a,c),w||t3(b,a,c,k.state))),s&&p===null)throw Error(r(528,""));return k}if(s&&p!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ls(c),c=No(b).hoistableScripts,p=c.get(s),p||(p={type:"script",instance:null,count:0,state:null},c.set(s,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function ss(a){return'href="'+nr(a)+'"'}function eu(a){return'link[rel="stylesheet"]['+a+"]"}function b1(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function t3(a,s,c,p){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?p.loading=1:(s=a.createElement("link"),p.preload=s,s.addEventListener("load",function(){return p.loading|=1}),s.addEventListener("error",function(){return p.loading|=2}),un(s,"link",c),Ft(s),a.head.appendChild(s))}function ls(a){return'[src="'+nr(a)+'"]'}function tu(a){return"script[async]"+a}function x1(a,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var p=a.querySelector('style[data-href~="'+nr(c.href)+'"]');if(p)return s.instance=p,Ft(p),p;var b=m({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),Ft(p),un(p,"style",b),Nd(p,c.precedence,a),s.instance=p;case"stylesheet":b=ss(c.href);var w=a.querySelector(eu(b));if(w)return s.state.loading|=4,s.instance=w,Ft(w),w;p=b1(c),(b=cr.get(b))&&Lv(p,b),w=(a.ownerDocument||a).createElement("link"),Ft(w);var k=w;return k._p=new Promise(function(O,U){k.onload=O,k.onerror=U}),un(w,"link",p),s.state.loading|=4,Nd(w,c.precedence,a),s.instance=w;case"script":return w=ls(c.src),(b=a.querySelector(tu(w)))?(s.instance=b,Ft(b),b):(p=c,(b=cr.get(w))&&(p=m({},c),jv(p,b)),a=a.ownerDocument||a,b=a.createElement("script"),Ft(b),un(b,"link",p),a.head.appendChild(b),s.instance=b);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(p=s.instance,s.state.loading|=4,Nd(p,c.precedence,a));return s.instance}function Nd(a,s,c){for(var p=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,w=b,k=0;k<p.length;k++){var O=p[k];if(O.dataset.precedence===s)w=O;else if(w!==b)break}w?w.parentNode.insertBefore(a,w.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(a,s.firstChild))}function Lv(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function jv(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var Pd=null;function w1(a,s,c){if(Pd===null){var p=new Map,b=Pd=new Map;b.set(c,p)}else b=Pd,p=b.get(c),p||(p=new Map,b.set(c,p));if(p.has(a))return p;for(p.set(a,null),c=c.getElementsByTagName(a),b=0;b<c.length;b++){var w=c[b];if(!(w[gl]||w[an]||a==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var k=w.getAttribute(s)||"";k=a+k;var O=p.get(k);O?O.push(w):p.set(k,[w])}}return p}function _1(a,s,c){a=a.ownerDocument||a,a.head.insertBefore(c,s==="title"?a.querySelector("head > title"):null)}function n3(a,s,c){if(c===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function S1(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function r3(a,s,c,p){if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var b=ss(p.href),w=s.querySelector(eu(b));if(w){s=w._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=Rd.bind(a),s.then(a,a)),c.state.loading|=4,c.instance=w,Ft(w);return}w=s.ownerDocument||s,p=b1(p),(b=cr.get(b))&&Lv(p,b),w=w.createElement("link"),Ft(w);var k=w;k._p=new Promise(function(O,U){k.onload=O,k.onerror=U}),un(w,"link",p),c.instance=w}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=Rd.bind(a),s.addEventListener("load",c),s.addEventListener("error",c))}}var Bv=0;function i3(a,s){return a.stylesheets&&a.count===0&&Md(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var p=setTimeout(function(){if(a.stylesheets&&Md(a,a.stylesheets),a.unsuspend){var w=a.unsuspend;a.unsuspend=null,w()}},6e4+s);0<a.imgBytes&&Bv===0&&(Bv=62500*j4());var b=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Md(a,a.stylesheets),a.unsuspend)){var w=a.unsuspend;a.unsuspend=null,w()}},(a.imgBytes>Bv?50:800)+s);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(p),clearTimeout(b)}}:null}function Rd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Md(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Od=null;function Md(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Od=new Map,s.forEach(a3,a),Od=null,Rd.call(a))}function a3(a,s){if(!(s.state.loading&4)){var c=Od.get(a);if(c)var p=c.get(null);else{c=new Map,Od.set(a,c);for(var b=a.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<b.length;w++){var k=b[w];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(c.set(k.dataset.precedence,k),p=k)}p&&c.set(null,p)}b=s.instance,k=b.getAttribute("data-precedence"),w=c.get(k)||p,w===p&&c.set(null,b),c.set(k,b),this.count++,p=Rd.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),w?w.parentNode.insertBefore(b,w.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(b,a.firstChild)),s.state.loading|=4}}var nu={$$typeof:N,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function o3(a,s,c,p,b,w,k,O,U){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ip(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ip(0),this.hiddenUpdates=Ip(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=w,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function E1(a,s,c,p,b,w,k,O,U,G,X,te){return a=new o3(a,s,c,k,U,G,X,te,O),s=1,w===!0&&(s|=24),w=qn(3,null,null,s),a.current=w,w.stateNode=a,s=ym(),s.refCount++,a.pooledCache=s,s.refCount++,w.memoizedState={element:p,isDehydrated:c,cache:s},_m(w),a}function T1(a){return a?(a=Bo,a):Bo}function A1(a,s,c,p,b,w){b=T1(b),p.context===null?p.context=b:p.pendingContext=b,p=Zi(s),p.payload={element:c},w=w===void 0?null:w,w!==null&&(p.callback=w),c=Qi(a,p,s),c!==null&&(On(c,a,s),Il(c,a,s))}function C1(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<s?c:s}}function zv(a,s){C1(a,s),(a=a.alternate)&&C1(a,s)}function k1(a){if(a.tag===13||a.tag===31){var s=Da(a,67108864);s!==null&&On(s,a,67108864),zv(a,67108864)}}function N1(a){if(a.tag===13||a.tag===31){var s=Kn();s=Dp(s);var c=Da(a,s);c!==null&&On(c,a,s),zv(a,s)}}var Id=!0;function s3(a,s,c,p){var b=j.T;j.T=null;var w=Y.p;try{Y.p=2,$v(a,s,c,p)}finally{Y.p=w,j.T=b}}function l3(a,s,c,p){var b=j.T;j.T=null;var w=Y.p;try{Y.p=8,$v(a,s,c,p)}finally{Y.p=w,j.T=b}}function $v(a,s,c,p){if(Id){var b=qv(p);if(b===null)Cv(a,s,p,Dd,c),R1(a,p);else if(c3(b,a,s,c,p))p.stopPropagation();else if(R1(a,p),s&4&&-1<u3.indexOf(a)){for(;b!==null;){var w=ko(b);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var k=Pa(w.pendingLanes);if(k!==0){var O=w;for(O.pendingLanes|=2,O.entangledLanes|=2;k;){var U=1<<31-zn(k);O.entanglements[1]|=U,k&=~U}Hr(w),(Ke&6)===0&&(gd=jn()+500,Jl(0))}}break;case 31:case 13:O=Da(w,2),O!==null&&On(O,w,2),bd(),zv(w,2)}if(w=qv(p),w===null&&Cv(a,s,p,Dd,c),w===b)break;b=w}b!==null&&p.stopPropagation()}else Cv(a,s,p,null,c)}}function qv(a){return a=Gp(a),Hv(a)}var Dd=null;function Hv(a){if(Dd=null,a=Co(a),a!==null){var s=o(a);if(s===null)a=null;else{var c=s.tag;if(c===13){if(a=l(s),a!==null)return a;a=null}else if(c===31){if(a=u(s),a!==null)return a;a=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return Dd=a,null}function P1(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(YL()){case jw:return 2;case Bw:return 8;case Ec:case WL:return 32;case zw:return 268435456;default:return 32}default:return 32}}var Gv=!1,ca=null,da=null,fa=null,ru=new Map,iu=new Map,ha=[],u3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R1(a,s){switch(a){case"focusin":case"focusout":ca=null;break;case"dragenter":case"dragleave":da=null;break;case"mouseover":case"mouseout":fa=null;break;case"pointerover":case"pointerout":ru.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":iu.delete(s.pointerId)}}function au(a,s,c,p,b,w){return a===null||a.nativeEvent!==w?(a={blockedOn:s,domEventName:c,eventSystemFlags:p,nativeEvent:w,targetContainers:[b]},s!==null&&(s=ko(s),s!==null&&k1(s)),a):(a.eventSystemFlags|=p,s=a.targetContainers,b!==null&&s.indexOf(b)===-1&&s.push(b),a)}function c3(a,s,c,p,b){switch(s){case"focusin":return ca=au(ca,a,s,c,p,b),!0;case"dragenter":return da=au(da,a,s,c,p,b),!0;case"mouseover":return fa=au(fa,a,s,c,p,b),!0;case"pointerover":var w=b.pointerId;return ru.set(w,au(ru.get(w)||null,a,s,c,p,b)),!0;case"gotpointercapture":return w=b.pointerId,iu.set(w,au(iu.get(w)||null,a,s,c,p,b)),!0}return!1}function O1(a){var s=Co(a.target);if(s!==null){var c=o(s);if(c!==null){if(s=c.tag,s===13){if(s=l(c),s!==null){a.blockedOn=s,Fw(a.priority,function(){N1(c)});return}}else if(s===31){if(s=u(c),s!==null){a.blockedOn=s,Fw(a.priority,function(){N1(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Ud(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var c=qv(a.nativeEvent);if(c===null){c=a.nativeEvent;var p=new c.constructor(c.type,c);Hp=p,c.target.dispatchEvent(p),Hp=null}else return s=ko(c),s!==null&&k1(s),a.blockedOn=c,!1;s.shift()}return!0}function M1(a,s,c){Ud(a)&&c.delete(s)}function d3(){Gv=!1,ca!==null&&Ud(ca)&&(ca=null),da!==null&&Ud(da)&&(da=null),fa!==null&&Ud(fa)&&(fa=null),ru.forEach(M1),iu.forEach(M1)}function Ld(a,s){a.blockedOn===s&&(a.blockedOn=null,Gv||(Gv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,d3)))}var jd=null;function I1(a){jd!==a&&(jd=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){jd===a&&(jd=null);for(var s=0;s<a.length;s+=3){var c=a[s],p=a[s+1],b=a[s+2];if(typeof p!="function"){if(Hv(p||c)===null)continue;break}var w=ko(c);w!==null&&(a.splice(s,3),s-=3,qm(w,{pending:!0,data:b,method:c.method,action:p},p,b))}}))}function us(a){function s(U){return Ld(U,a)}ca!==null&&Ld(ca,a),da!==null&&Ld(da,a),fa!==null&&Ld(fa,a),ru.forEach(s),iu.forEach(s);for(var c=0;c<ha.length;c++){var p=ha[c];p.blockedOn===a&&(p.blockedOn=null)}for(;0<ha.length&&(c=ha[0],c.blockedOn===null);)O1(c),c.blockedOn===null&&ha.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(p=0;p<c.length;p+=3){var b=c[p],w=c[p+1],k=b[An]||null;if(typeof w=="function")k||I1(c);else if(k){var O=null;if(w&&w.hasAttribute("formAction")){if(b=w,k=w[An]||null)O=k.formAction;else if(Hv(b)!==null)continue}else O=k.action;typeof O=="function"?c[p+1]=O:(c.splice(p,3),p-=3),I1(c)}}}function D1(){function a(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(k){return b=k})},focusReset:"manual",scroll:"manual"})}function s(){b!==null&&(b(),b=null),p||setTimeout(c,20)}function c(){if(!p&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,b=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){p=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),b!==null&&(b(),b=null)}}}function Vv(a){this._internalRoot=a}Bd.prototype.render=Vv.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,p=Kn();A1(c,p,a,s,null,null)},Bd.prototype.unmount=Vv.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;A1(a.current,2,null,a,null,null),bd(),s[Ao]=null}};function Bd(a){this._internalRoot=a}Bd.prototype.unstable_scheduleHydration=function(a){if(a){var s=Vw();a={blockedOn:null,target:a,priority:s};for(var c=0;c<ha.length&&s!==0&&s<ha[c].priority;c++);ha.splice(c,0,a),c===0&&O1(a)}};var U1=t.version;if(U1!=="19.2.3")throw Error(r(527,U1,"19.2.3"));Y.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(s),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var f3={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zd.isDisabled&&zd.supportsFiber)try{pl=zd.inject(f3),Bn=zd}catch{}}return su.createRoot=function(a,s){if(!i(a))throw Error(r(299));var c=!1,p="",b=HS,w=GS,k=VS;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(b=s.onUncaughtError),s.onCaughtError!==void 0&&(w=s.onCaughtError),s.onRecoverableError!==void 0&&(k=s.onRecoverableError)),s=E1(a,1,!1,null,null,c,p,null,b,w,k,D1),a[Ao]=s.current,Av(a),new Vv(s)},su.hydrateRoot=function(a,s,c){if(!i(a))throw Error(r(299));var p=!1,b="",w=HS,k=GS,O=VS,U=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(k=c.onCaughtError),c.onRecoverableError!==void 0&&(O=c.onRecoverableError),c.formState!==void 0&&(U=c.formState)),s=E1(a,1,!0,s,c??null,p,b,U,w,k,O,D1),s.context=T1(null),c=s.current,p=Kn(),p=Dp(p),b=Zi(p),b.callback=null,Qi(c,b,p),c=p,s.current.lanes=c,vl(s,c),Hr(s),a[Ao]=s.current,Av(a),new Bd(s)},su.version="19.2.3",su}var F1;function T3(){if(F1)return Wv.exports;F1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Wv.exports=E3(),Wv.exports}var A3=T3();const C3=br(A3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),N3=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),K1=e=>{const t=N3(e);return t.charAt(0).toUpperCase()+t.slice(1)},aO=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),P3=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var R3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=A.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...u},d)=>A.createElement("svg",{ref:d,...R3,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:aO("lucide",i),...!o&&!P3(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,h])=>A.createElement(f,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(e,t)=>{const n=A.forwardRef(({className:r,...i},o)=>A.createElement(O3,{ref:o,iconNode:t,className:aO(`lucide-${k3(K1(e))}`,`lucide-${e}`,r),...i}));return n.displayName=K1(e),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Y1=_e("activity",M3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],oO=_e("arrow-left",I3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],sO=_e("arrow-right",D3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],L3=_e("award",U3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],B3=_e("bookmark",j3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],$3=_e("brain",z3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],lO=_e("briefcase",q3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],G3=_e("calendar",H3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],gf=_e("check",V3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],K3=_e("chevron-right",F3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],uO=_e("circle-alert",Y3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],J3=_e("circle-check-big",W3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Z3=_e("circle-play",X3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],e5=_e("clipboard-check",Q3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cO=_e("clock",t5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],e0=_e("coins",n5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],yf=_e("credit-card",r5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Rr=_e("crown",i5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],o5=_e("external-link",a5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],l5=_e("eye-off",s5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],c5=_e("eye",u5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],f5=_e("gift",d5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=[["circle",{cx:"6",cy:"15",r:"4",key:"vux9w4"}],["circle",{cx:"18",cy:"15",r:"4",key:"18o8ve"}],["path",{d:"M14 15a2 2 0 0 0-2-2 2 2 0 0 0-2 2",key:"1ag4bs"}],["path",{d:"M2.5 13 5 7c.7-1.3 1.4-2 3-2",key:"1hm1gs"}],["path",{d:"M21.5 13 19 7c-.7-1.3-1.5-2-3-2",key:"1r31ai"}]],dO=_e("glasses",h5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],m5=_e("heart",p5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],g5=_e("house",v5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],fO=_e("loader-circle",y5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Bs=_e("lock",b5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],hO=_e("log-out",x5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],_5=_e("mail",w5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],E5=_e("map",S5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],A5=_e("message-circle",T5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],t0=_e("moon",C5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],N5=_e("pen",k5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],pO=_e("plus",P5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Rb=_e("refresh-cw",R5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],mO=_e("save",O5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],I5=_e("search",M5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],U5=_e("settings",D5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],j5=_e("shield",L5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],vO=_e("shopping-bag",B5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],kh=_e("sparkles",z5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],xs=_e("star",$5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],H5=_e("trash-2",q5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],n0=_e("trending-up",G5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],gO=_e("triangle-alert",V5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],yO=_e("trophy",F5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],W1=_e("upload",K5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Cu=_e("user",Y5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],r0=_e("users",W5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bO=_e("x",J5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ob=_e("zap",X5);function Nh(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Z5(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(m){l(m)}}function d(h){try{f(r.throw(h))}catch(m){l(m)}}function f(h){h.done?o(h.value):i(h.value).then(u,d)}f((r=r.apply(e,t||[])).next())})}const Q5=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Mb extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class eB extends Mb{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class J1 extends Mb{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class X1 extends Mb{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var i0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(i0||(i0={}));class tB{constructor(t,{headers:n={},customFetch:r,region:i=i0.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=Q5(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Z5(this,arguments,void 0,function*(n,r={}){var i;let o,l;try{const{headers:u,method:d,body:f,signal:h,timeout:m}=r;let g={},{region:x}=r;x||(x=this.region);const S=new URL(`${this.url}/${n}`);x&&x!=="any"&&(g["x-region"]=x,S.searchParams.set("forceFunctionRegion",x));let E;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",E=f):typeof f=="string"?(g["Content-Type"]="text/plain",E=f):typeof FormData<"u"&&f instanceof FormData?E=f:(g["Content-Type"]="application/json",E=JSON.stringify(f)):E=f;let T=h;m&&(l=new AbortController,o=setTimeout(()=>l.abort(),m),h?(T=l.signal,h.addEventListener("abort",()=>l.abort())):T=l.signal);const C=yield this.fetch(S.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),u),body:E,signal:T}).catch(M=>{throw new eB(M)}),P=C.headers.get("x-relay-error");if(P&&P==="true")throw new J1(C);if(!C.ok)throw new X1(C);let N=((i=C.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),R;return N==="application/json"?R=yield C.json():N==="application/octet-stream"||N==="application/pdf"?R=yield C.blob():N==="text/event-stream"?R=C:N==="multipart/form-data"?R=yield C.formData():R=yield C.text(),{data:R,error:null,response:C}}catch(u){return{data:null,error:u,response:u instanceof X1||u instanceof J1?u.context:void 0}}finally{o&&clearTimeout(o)}})}}var nB=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},rB=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let l=null,u=null,d=null,f=o.status,h=o.statusText;if(o.ok){var m,g;if(n.method!=="HEAD"){var x;const C=await o.text();C===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((x=n.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?u=C:u=JSON.parse(C))}const E=(m=n.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),T=(g=o.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");E&&T&&T.length>1&&(d=parseInt(T[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,h="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var S;const E=await o.text();try{l=JSON.parse(E),Array.isArray(l)&&o.status===404&&(u=[],l=null,f=200,h="OK")}catch{o.status===404&&E===""?(f=204,h="No Content"):l={message:E}}if(l&&n.isMaybeSingle&&(!(l==null||(S=l.details)===null||S===void 0)&&S.includes("0 rows"))&&(l=null,f=200,h="OK"),l&&n.shouldThrowOnError)throw new nB(l)}return{error:l,data:u,count:d,status:f,statusText:h}});return this.shouldThrowOnError||(i=i.catch(o=>{var l;let u="";const d=o==null?void 0:o.cause;if(d){var f,h,m,g;const S=(f=d==null?void 0:d.message)!==null&&f!==void 0?f:"",E=(h=d==null?void 0:d.code)!==null&&h!==void 0?h:"";u=`${(m=o==null?void 0:o.name)!==null&&m!==void 0?m:"FetchError"}: ${o==null?void 0:o.message}`,u+=`

Caused by: ${(g=d==null?void 0:d.name)!==null&&g!==void 0?g:"Error"}: ${S}`,E&&(u+=` (${E})`),d!=null&&d.stack&&(u+=`
${d.stack}`)}else{var x;u=(x=o==null?void 0:o.stack)!==null&&x!==void 0?x:""}return{error:{message:`${(l=o==null?void 0:o.name)!==null&&l!==void 0?l:"FetchError"}: ${o==null?void 0:o.message}`,details:u,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},iB=class extends rB{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var l;const u=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${u};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Z1=new RegExp("[,()]");var ws=class extends iB{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Z1.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Z1.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},aB=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}select(e,t){const{head:n=!1,count:r}=t??{},i=n?"HEAD":"GET";let o=!1;const l=(e??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",l),r&&this.headers.append("Prefer",`count=${r}`),new ws({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const i="POST";if(t&&this.headers.append("Prefer",`count=${t}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new ws({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new ws({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:t}={}){var n;const r="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new ws({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new ws({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},oB=class xO{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new aB(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new xO(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:o}={}){var l;let u;const d=new URL(`${this.url}/rpc/${t}`);let f;r||i?(u=r?"HEAD":"GET",Object.entries(n).filter(([m,g])=>g!==void 0).map(([m,g])=>[m,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([m,g])=>{d.searchParams.append(m,g)})):(u="POST",f=n);const h=new Headers(this.headers);return o&&h.set("Prefer",`count=${o}`),new ws({method:u,url:d,headers:h,schema:this.schemaName,body:f,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};class sB{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const lB="2.89.0",uB=`realtime-js/${lB}`,wO="1.0.0",cB="2.0.0",Q1=wO,a0=1e4,dB=1e3,fB=100;var ma;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ma||(ma={}));var Bt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Bt||(Bt={}));var Ar;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ar||(Ar={}));var o0;(function(e){e.websocket="websocket"})(o0||(o0={}));var to;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(to||(to={}));class hB{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},l=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,n,r){var i,o;const l=t.topic,u=(i=t.ref)!==null&&i!==void 0?i:"",d=(o=t.join_ref)!==null&&o!==void 0?o:"",f=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},m=Object.keys(h).length===0?"":JSON.stringify(h);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+l.length+f.length+m.length,x=new ArrayBuffer(this.HEADER_LENGTH+g);let S=new DataView(x),E=0;S.setUint8(E++,this.KINDS.userBroadcastPush),S.setUint8(E++,d.length),S.setUint8(E++,u.length),S.setUint8(E++,l.length),S.setUint8(E++,f.length),S.setUint8(E++,m.length),S.setUint8(E++,n),Array.from(d,C=>S.setUint8(E++,C.charCodeAt(0))),Array.from(u,C=>S.setUint8(E++,C.charCodeAt(0))),Array.from(l,C=>S.setUint8(E++,C.charCodeAt(0))),Array.from(f,C=>S.setUint8(E++,C.charCodeAt(0))),Array.from(m,C=>S.setUint8(E++,C.charCodeAt(0)));var T=new Uint8Array(x.byteLength+r.byteLength);return T.set(new Uint8Array(x),0),T.set(new Uint8Array(r),x.byteLength),T.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,o,l,u,d]=r;return n({join_ref:i,ref:o,topic:l,event:u,payload:d})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),o=n.getUint8(2),l=n.getUint8(3),u=n.getUint8(4);let d=this.HEADER_LENGTH+4;const f=r.decode(t.slice(d,d+i));d=d+i;const h=r.decode(t.slice(d,d+o));d=d+o;const m=r.decode(t.slice(d,d+l));d=d+l;const g=t.slice(d,t.byteLength),x=u===this.JSON_ENCODING?JSON.parse(r.decode(g)):g,S={type:this.BROADCAST_EVENT,event:h,payload:x};return l>0&&(S.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class _O{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ot;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ot||(ot={}));const eT=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,l)=>(o[l]=pB(l,e,t,i),o),{}):{}},pB=(e,t,n,r)=>{const i=t.find(u=>u.name===e),o=i==null?void 0:i.type,l=n[e];return o&&!r.includes(o)?SO(o,l):s0(l)},SO=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return yB(t,n)}switch(e){case ot.bool:return mB(t);case ot.float4:case ot.float8:case ot.int2:case ot.int4:case ot.int8:case ot.numeric:case ot.oid:return vB(t);case ot.json:case ot.jsonb:return gB(t);case ot.timestamp:return bB(t);case ot.abstime:case ot.date:case ot.daterange:case ot.int4range:case ot.int8range:case ot.money:case ot.reltime:case ot.text:case ot.time:case ot.timestamptz:case ot.timetz:case ot.tsrange:case ot.tstzrange:return s0(t);default:return s0(t)}},s0=e=>e,mB=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},vB=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},gB=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},yB=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const l=e.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>SO(t,u))}return e},bB=e=>typeof e=="string"?e.replace(" ","T"):e,EO=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Qv{constructor(t,n,r={},i=a0){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var tT;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(tT||(tT={}));class Su{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Su.syncState(this.state,i,o,l),this.pendingDiffs.forEach(d=>{this.state=Su.syncDiff(this.state,d,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Su.syncDiff(this.state,i,o,l),u())}),this.onJoin((i,o,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:l})}),this.onLeave((i,o,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const o=this.cloneDeep(t),l=this.transformState(n),u={},d={};return this.map(o,(f,h)=>{l[f]||(d[f]=h)}),this.map(l,(f,h)=>{const m=o[f];if(m){const g=h.map(T=>T.presence_ref),x=m.map(T=>T.presence_ref),S=h.filter(T=>x.indexOf(T.presence_ref)<0),E=m.filter(T=>g.indexOf(T.presence_ref)<0);S.length>0&&(u[f]=S),E.length>0&&(d[f]=E)}else u[f]=h}),this.syncDiff(o,{joins:u,leaves:d},r,i)}static syncDiff(t,n,r,i){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(u,d)=>{var f;const h=(f=t[u])!==null&&f!==void 0?f:[];if(t[u]=this.cloneDeep(d),h.length>0){const m=t[u].map(x=>x.presence_ref),g=h.filter(x=>m.indexOf(x.presence_ref)<0);t[u].unshift(...g)}r(u,h,d)}),this.map(l,(u,d)=>{let f=t[u];if(!f)return;const h=d.map(m=>m.presence_ref);f=f.filter(m=>h.indexOf(m.presence_ref)<0),t[u]=f,i(u,f,d),f.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var nT;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(nT||(nT={}));var Eu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Eu||(Eu={}));var yi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(yi||(yi={}));class As{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Qv(this,Ar.join,this.params,this.timeout),this.rejoinTimer=new _O(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Bt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ar.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new Su(this),this.broadcastEndpointURL=EO(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Bt.closed){const{config:{broadcast:l,presence:u,private:d}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(x=>x.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[Eu.PRESENCE]&&this.bindings[Eu.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,m={},g={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(x=>t==null?void 0:t(yi.CHANNEL_ERROR,x)),this._onClose(()=>t==null?void 0:t(yi.CLOSED)),this.updateJoinPayload(Object.assign({config:g},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){t==null||t(yi.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,T=(S=E==null?void 0:E.length)!==null&&S!==void 0?S:0,C=[];for(let P=0;P<T;P++){const N=E[P],{filter:{event:R,schema:M,table:I,filter:D}}=N,F=x&&x[P];if(F&&F.event===R&&As.isFilterValueEqual(F.schema,M)&&As.isFilterValueEqual(F.table,I)&&As.isFilterValueEqual(F.filter,D))C.push(Object.assign(Object.assign({},N),{id:F.id}));else{this.unsubscribe(),this.state=Bt.errored,t==null||t(yi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(yi.SUBSCRIBED);return}}).receive("error",x=>{this.state=Bt.errored,t==null||t(yi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(yi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Bt.joined&&t===Eu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const f=await u.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:l}=t,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,d;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Bt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ar.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Qv(this,Ar.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Bt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Qv(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>fB){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;const l=t.toLocaleLowerCase(),{close:u,error:d,leave:f,join:h}=Ar;if(r&&[u,d,f,h].indexOf(l)>=0&&r!==this._joinRef())return;let g=this._onMessage(l,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var S,E,T;return((S=x.filter)===null||S===void 0?void 0:S.event)==="*"||((T=(E=x.filter)===null||E===void 0?void 0:E.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===l}).map(x=>x.callback(g,r)):(o=this.bindings[l])===null||o===void 0||o.filter(x=>{var S,E,T,C,P,N;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in x){const R=x.id,M=(S=x.filter)===null||S===void 0?void 0:S.event;return R&&((E=n.ids)===null||E===void 0?void 0:E.includes(R))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const R=(P=(C=x==null?void 0:x.filter)===null||C===void 0?void 0:C.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return R==="*"||R===((N=n==null?void 0:n.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===l}).map(x=>{if(typeof g=="object"&&"ids"in g){const S=g.data,{schema:E,table:T,commit_timestamp:C,type:P,errors:N}=S;g=Object.assign(Object.assign({},{schema:E,table:T,commit_timestamp:C,eventType:P,new:{},old:{},errors:N}),this._getPayloadRecords(S))}x.callback(g,r)})}_isClosed(){return this.state===Bt.closed}_isJoined(){return this.state===Bt.joined}_isJoining(){return this.state===Bt.joining}_isLeaving(){return this.state===Bt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&As.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ar.close,{},t)}_onError(t){this._on(Ar.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Bt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=eT(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=eT(t.columns,t.old_record)),n}}const eg=()=>{},$d={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},xB=[1e3,2e3,5e3,1e4],wB=1e4,_B=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class SB{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=a0,this.transport=null,this.heartbeatIntervalMs=$d.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=eg,this.ref=0,this.reconnectTimer=null,this.vsn=Q1,this.logger=eg,this.conn=null,this.sendBuffer=[],this.serializer=new hB,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${o0.websocket}`,this.httpEndpoint=EO(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=sB.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ma.connecting:return to.Connecting;case ma.open:return to.Open;case ma.closing:return to.Closing;default:return to.Closed}}isConnected(){return this.connectionState()===to.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new As(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:i,ref:o}=t,l=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(dB,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},$d.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:l}=n,u=l?`(${l})`:"",d=o.status||"";this.log("receive",`${d} ${r} ${i} ${u}`.trim(),o),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===ma.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ma.open||this.conn.readyState===ma.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ar.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([_B],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:uB};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Ar.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new _O(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},$d.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,l,u,d,f,h,m,g,x;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:a0,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:$d.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:eg,this.vsn=(d=t==null?void 0:t.vsn)!==null&&d!==void 0?d:Q1,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t==null?void 0:t.reconnectAfterMs)!==null&&f!==void 0?f:(S=>xB[S-1]||wB),this.vsn){case wO:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:((S,E)=>E(JSON.stringify(S))),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:((S,E)=>E(JSON.parse(S)));break;case cB:this.encode=(g=t==null?void 0:t.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(x=t==null?void 0:t.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ku=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function EB(e,t,n){const r=new URL(t,e);if(n)for(const[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function TB(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function AB(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:l}){const u=EB(e.baseUrl,r,i),d=await TB(e.auth),f=await t(u,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...d,...l},body:o?JSON.stringify(o):void 0}),h=await f.text(),m=(f.headers.get("content-type")||"").includes("application/json"),g=m&&h?JSON.parse(h):h;if(!f.ok){const x=m?g:void 0,S=x==null?void 0:x.error;throw new ku((S==null?void 0:S.message)??`Request failed with status ${f.status}`,{status:f.status,icebergType:S==null?void 0:S.type,icebergCode:S==null?void 0:S.code,details:x})}return{status:f.status,headers:f.headers,data:g}}}}function qd(e){return e.join("")}var CB=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:qd(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${qd(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qd(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${qd(e.namespace)}`}),!0}catch(t){if(t instanceof ku&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof ku&&n.status===409)return;throw n}}};function cs(e){return e.join("")}var kB=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${cs(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${cs(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${cs(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${cs(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${cs(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${cs(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof ku&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof ku&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},NB=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=AB({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new CB(this.client,t),this.tableOps=new kB(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Ph=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function mt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var PB=class extends Ph{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},l0=class extends Ph{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Ib=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),RB=()=>Response,u0=e=>{if(Array.isArray(e))return e.map(n=>u0(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=u0(r)}),t},OB=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},MB=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Nu(e){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nu(e)}function IB(e,t){if(Nu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DB(e){var t=IB(e,"string");return Nu(t)=="symbol"?t:t+""}function UB(e,t,n){return(t=DB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(n),!0).forEach(function(r){UB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const tg=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},LB=async(e,t,n)=>{e instanceof await RB()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const i=e.status||500,o=(r==null?void 0:r.statusCode)||i+"";t(new PB(tg(r),i,o))}).catch(r=>{t(new l0(tg(r),r))}):t(new l0(tg(e),e))},jB=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(OB(r)?(i.headers=Ee({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Ee(Ee({},i),n))};async function Zu(e,t,n,r,i,o){return new Promise((l,u)=>{e(n,jB(t,r,i,o)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>LB(d,u,r))})}async function Pu(e,t,n,r){return Zu(e,"GET",t,n,r)}async function Tr(e,t,n,r,i){return Zu(e,"POST",t,r,i,n)}async function c0(e,t,n,r,i){return Zu(e,"PUT",t,r,i,n)}async function BB(e,t,n,r){return Zu(e,"HEAD",t,Ee(Ee({},n),{},{noResolveJson:!0}),r)}async function Db(e,t,n,r,i){return Zu(e,"DELETE",t,r,i,n)}var zB=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(mt(t))return{data:null,error:t};throw t}}};let TO;TO=Symbol.toStringTag;var $B=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[TO]="BlobDownloadBuilder",this.promise=null}asStream(){return new zB(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(mt(t))return{data:null,error:t};throw t}}};const qB={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},iT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var HB=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=Ib(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var i=this;try{let o;const l=Ee(Ee({},iT),r);let u=Ee(Ee({},i.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",i.encodeMetadata(d)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",l.cacheControl),d&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(d))):(o=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=i.toBase64(i.encodeMetadata(d))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!l.duplex&&(l.duplex="half")),r!=null&&r.headers&&(u=Ee(Ee({},u),r.headers));const f=i._removeEmptyFolders(t),h=i._getFinalPath(f),m=await(e=="PUT"?c0:Tr)(i.fetch,`${i.url}/object/${h}`,o,Ee({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:m.Id,fullPath:m.Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(mt(o))return{data:null,error:o};throw o}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;const o=i._removeEmptyFolders(e),l=i._getFinalPath(o),u=new URL(i.url+`/object/upload/sign/${l}`);u.searchParams.set("token",t);try{let d;const f=Ee({upsert:iT.upsert},r),h=Ee(Ee({},i.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",f.cacheControl)):(d=n,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType),{data:{path:o,fullPath:(await c0(i.fetch,u.toString(),d,{headers:h})).Key},error:null}}catch(d){if(i.shouldThrowOnError)throw d;if(mt(d))return{data:null,error:d};throw d}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const i=Ee({},n.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const o=await Tr(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(n.url+o.url),u=l.searchParams.get("token");if(!u)throw new Ph("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:u},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await Tr(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}}async copy(e,t,n){var r=this;try{return{data:{path:(await Tr(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}}async createSignedUrl(e,t,n){var r=this;try{let i=r._getFinalPath(e),o=await Tr(r.fetch,`${r.url}/object/sign/${i}`,Ee({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${r.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}}async createSignedUrls(e,t,n){var r=this;try{const i=await Tr(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(l=>Ee(Ee({},l),{},{signedUrl:l.signedURL?encodeURI(`${r.url}${l.signedURL}${o}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=r?`?${r}`:"",o=this._getFinalPath(e),l=()=>Pu(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new $B(l,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:u0(await Pu(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await BB(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(mt(r)&&r instanceof l0){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&r.push(l);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}async remove(e){var t=this;try{return{data:await Db(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const i=Ee(Ee(Ee({},qB),t),{},{prefix:e||""});return{data:await Tr(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}}async listV2(e,t){var n=this;try{const r=Ee({},e);return{data:await Tr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const AO="2.89.0",CO={"X-Client-Info":`storage-js/${AO}`};var GB=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const i=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Ee(Ee({},CO),t),this.fetch=Ib(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await Pu(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Pu(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await Tr(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await c0(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await Tr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Db(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},VB=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ee(Ee({},CO),t),this.fetch=Ib(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Tr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await Pu(t.fetch,i,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Db(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!MB(e))throw new Ph("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new NB({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){const l=i[o];return typeof l!="function"?l:async(...u)=>{try{return{data:await l.apply(i,u),error:null}}catch(d){if(r)throw d;return{data:null,error:d}}}}})}};const Ub={"X-Client-Info":`storage-js/${AO}`,"Content-Type":"application/json"};var kO=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Wn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var ng=class extends kO{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},FB=class extends kO{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Lb=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),KB=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},aT=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),YB=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||r+"";t(new ng(aT(o),r,l))}).catch(()=>{const o=r+"";t(new ng(i.statusText||`HTTP ${r} error`,r,o))});else{const o=r+"";t(new ng(i.statusText||`HTTP ${r} error`,r,o))}}else t(new FB(aT(e),e))},WB=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(KB(r)?(i.headers=Ee({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,Ee(Ee({},i),n)):i};async function JB(e,t,n,r,i,o){return new Promise((l,u)=>{e(n,WB(t,r,i,o)).then(d=>{if(!d.ok)throw d;if(r!=null&&r.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>l(d)).catch(d=>YB(d,u,r))})}async function Jn(e,t,n,r,i){return JB(e,"POST",t,r,i,n)}var XB=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ee(Ee({},Ub),t),this.fetch=Lb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Jn(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await Jn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Wn(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await Jn(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await Jn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Wn(r))return{data:null,error:r};throw r}}},ZB=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ee(Ee({},Ub),t),this.fetch=Lb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Jn(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await Jn(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Jn(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await Jn(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Jn(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}}},QB=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ee(Ee({},Ub),t),this.fetch=Lb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Jn(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Jn(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await Jn(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Jn(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}}},ez=class extends QB{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new tz(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},tz=class extends XB{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,Ee(Ee({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,Ee(Ee({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new nz(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},nz=class extends ZB{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,Ee(Ee({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,Ee(Ee({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,Ee(Ee({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,Ee(Ee({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,Ee(Ee({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},rz=class extends GB{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new HB(this.url,this.headers,e,this.fetch)}get vectors(){return new ez(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new VB(this.url+"/iceberg",this.headers,this.fetch)}};const NO="2.89.0",_s=30*1e3,d0=3,rg=d0*_s,iz="http://localhost:9999",az="supabase.auth.token",oz={"X-Client-Info":`gotrue-js/${NO}`},f0="X-Supabase-Api-Version",PO={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sz=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,lz=600*1e3;class Ru extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ge(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class uz extends Ru{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function cz(e){return ge(e)&&e.name==="AuthApiError"}class no extends Ru{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ii extends Ru{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Yn extends Ii{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dz(e){return ge(e)&&e.name==="AuthSessionMissingError"}class ds extends Ii{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hd extends Ii{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Gd extends Ii{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fz(e){return ge(e)&&e.name==="AuthImplicitGrantRedirectError"}class oT extends Ii{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hz extends Ii{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class h0 extends Ii{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function ig(e){return ge(e)&&e.name==="AuthRetryableFetchError"}class sT extends Ii{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class p0 extends Ii{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Cf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),lT=` 	
\r=`.split(""),pz=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<lT.length;t+=1)e[lT[t].charCodeAt(0)]=-2;for(let t=0;t<Cf.length;t+=1)e[Cf[t].charCodeAt(0)]=t;return e})();function uT(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Cf[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Cf[r]),t.queuedBits-=6}}function RO(e,t,n){const r=pz[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function cT(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=l=>{gz(l,r,n)};for(let l=0;l<e.length;l+=1)RO(e.charCodeAt(l),i,o);return t.join("")}function mz(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function vz(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}mz(r,t)}}function gz(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Ms(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)RO(e.charCodeAt(i),n,r);return new Uint8Array(t)}function yz(e){const t=[];return vz(e,n=>t.push(n)),new Uint8Array(t)}function ro(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>uT(i,n,r)),uT(null,n,r),t.join("")}function bz(e){return Math.round(Date.now()/1e3)+e}function xz(){return Symbol("auth-callback")}const dn=()=>typeof window<"u"&&typeof document<"u",Ya={tested:!1,writable:!1},OO=()=>{if(!dn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ya.tested)return Ya.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ya.tested=!0,Ya.writable=!0}catch{Ya.tested=!0,Ya.writable=!1}return Ya.writable};function wz(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const MO=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),_z=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ss=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Wa=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},cn=async(e,t)=>{await e.removeItem(t)};class Rh{constructor(){this.promise=new Rh.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Rh.promiseConstructor=Promise;function ag(e){const t=e.split(".");if(t.length!==3)throw new p0("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!sz.test(t[r]))throw new p0("JWT not in base64url format");return{header:JSON.parse(cT(t[0])),payload:JSON.parse(cT(t[1])),signature:Ms(t[2]),raw:{header:t[0],payload:t[1]}}}async function Sz(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Ez(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!t(o,null,l)){r(l);return}}catch(l){if(!t(o,l)){i(l);return}}})()})}function Tz(e){return("0"+e.toString(16)).substr(-2)}function Az(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,Tz).join("")}async function Cz(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function kz(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Cz(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fs(e,t,n=!1){const r=Az();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Ss(e,`${t}-code-verifier`,i);const o=await kz(r);return[o,r===o?"plain":"s256"]}const Nz=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Pz(e){const t=e.headers.get(f0);if(!t||!t.match(Nz))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Rz(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Oz(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Mz=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hs(e){if(!Mz.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function og(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Iz(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function dT(e){return JSON.parse(JSON.stringify(e))}const Ja=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Dz=[502,503,504];async function fT(e){var t;if(!_z(e))throw new h0(Ja(e),0);if(Dz.includes(e.status))throw new h0(Ja(e),e.status);let n;try{n=await e.json()}catch(o){throw new no(Ja(o),o)}let r;const i=Pz(e);if(i&&i.getTime()>=PO["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new sT(Ja(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Yn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new sT(Ja(n),e.status,n.weak_password.reasons);throw new uz(Ja(n),e.status||500,r)}const Uz=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Se(e,t,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[f0]||(o[f0]=PO["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await Lz(e,t,n+u,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function Lz(e,t,n,r,i,o){const l=Uz(t,r,i,o);let u;try{u=await e(n,Object.assign({},l))}catch(d){throw console.error(d),new h0(Ja(d),0)}if(u.ok||await fT(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(d){await fT(d)}}function Er(e){var t;let n=null;zz(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=bz(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function hT(e){const t=Er(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ya(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function jz(e){return{data:e,error:null}}function Bz(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,l=Nh(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function pT(e){return e}function zz(e){return e.access_token&&e.refresh_token&&e.expires_in}const sg=["global","local","others"];class $z{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=MO(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=sg[0]){if(sg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${sg.join(", ")}`);try{return await Se(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Se(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ya})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Nh(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Bz,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ge(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Se(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ya})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},h=await Se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:pT});if(h.error)throw h.error;const m=await h.json(),g=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(d=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(S.split(";")[1].split("=")[1]);f[`${T}Page`]=E}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(ge(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){hs(t);try{return await Se(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ya})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){hs(t);try{return await Se(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ya})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){hs(t);try{return await Se(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ya})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){hs(t.userId);try{const{data:n,error:r}=await Se(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _deleteFactor(t){hs(t.userId),hs(t.id);try{return{data:await Se(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,o,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},h=await Se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:pT});if(h.error)throw h.error;const m=await h.json(),g=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(d=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(S.split(";")[1].split("=")[1]);f[`${T}Page`]=E}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(ge(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await Se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await Se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}}function mT(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const ps={debug:!!(globalThis&&OO()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class IO extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class qz extends IO{}async function Hz(e,t,n){ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ps.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new qz(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ps.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Gz(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function DO(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Vz(e){return parseInt(e,16)}function Fz(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function Kz(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:l,notBefore:u,requestId:d,resources:f,scheme:h,uri:m,version:g}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=DO(e.address),S=h?`${h}://${r}`:r,E=e.statement?`${e.statement}
`:"",T=`${S} wants you to sign in with your Ethereum account:
${x}

${E}`;let C=`URI: ${m}
Version: ${g}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(i&&(C+=`
Expiration Time: ${i.toISOString()}`),u&&(C+=`
Not Before: ${u.toISOString()}`),d&&(C+=`
Request ID: ${d}`),f){let P=`
Resources:`;for(const N of f){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);P+=`
- ${N}`}C+=P}return`${T}
${C}`}class Dt extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class kf extends Dt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function Yz({error:e,options:t}){var n,r,i;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Dt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Dt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Dt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Dt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Dt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Dt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Dt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Dt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(UO(l)){if(o.rp.id!==l)return new Dt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Dt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Dt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Wz({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Dt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Dt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(UO(r)){if(n.rpId!==r)return new Dt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Dt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Jz{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Xz=new Jz;function Zz(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=Nh(e,["challenge","user","excludeCredentials"]),o=Ms(t).buffer,l=Object.assign(Object.assign({},n),{id:Ms(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:o,user:l});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];u.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:Ms(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function Qz(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Nh(e,["challenge","allowCredentials"]),i=Ms(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.allowCredentials[l]=Object.assign(Object.assign({},u),{id:Ms(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function e$(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:ro(new Uint8Array(e.response.attestationObject)),clientDataJSON:ro(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function t$(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ro(new Uint8Array(i.authenticatorData)),clientDataJSON:ro(new Uint8Array(i.clientDataJSON)),signature:ro(new Uint8Array(i.signature)),userHandle:i.userHandle?ro(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function UO(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function vT(){var e,t;return!!(dn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function n$(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new kf("Browser returned unexpected credential type",t)}:{data:null,error:new kf("Empty credential response",t)}}catch(t){return{data:null,error:Yz({error:t,options:e})}}}async function r$(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new kf("Browser returned unexpected credential type",t)}:{data:null,error:new kf("Empty credential response",t)}}catch(t){return{data:null,error:Wz({error:t,options:e})}}}const i$={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},a$={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Nf(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const o in i){const l=i[o];if(l!==void 0)if(Array.isArray(l))r[o]=l;else if(n(l))r[o]=l;else if(t(l)){const u=r[o];t(u)?r[o]=Nf(u,l):r[o]=Nf(l)}else r[o]=l}return r}function o$(e,t){return Nf(i$,e,t||{})}function s$(e,t){return Nf(a$,e,t||{})}class l${constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},o){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:u};const d=i??Xz.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=o$(l.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:h,error:m}=await n$({publicKey:f,signal:d});return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}case"request":{const f=s$(l.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:h,error:m}=await r$(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:d}));return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}}}catch(l){return ge(l)?{data:null,error:l}:{data:null,error:new no("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Ru("rpId is required for WebAuthn authentication")};try{if(!vT())return{data:null,error:new no("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:u};const{webauthn:d}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:r,credential_response:d.credential_response}})}catch(l){return ge(l)?{data:null,error:l}:{data:null,error:new no("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Ru("rpId is required for WebAuthn registration")};try{if(!vT())return{data:null,error:new no("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(h=>{var m;return(m=h.data)===null||m===void 0?void 0:m.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:u};const{data:d,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(l){return ge(l)?{data:null,error:l}:{data:null,error:new no("Unexpected error in register",l)}}}}Gz();const u$={url:iz,storageKey:az,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:oz,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function gT(e,t,n){return await n()}const ms={};class Ou{get jwks(){var t,n;return(n=(t=ms[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ms[this.storageKey]=Object.assign(Object.assign({},ms[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ms[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ms[this.storageKey]=Object.assign(Object.assign({},ms[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},u$),t);if(this.storageKey=o.storageKey,this.instanceID=(n=Ou.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Ou.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&dn()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new $z({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=MO(o.fetch),this.lock=o.lock||gT,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&dn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Hz:this.lock=gT,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new l$(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:OO()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=mT(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=mT(this.memoryStorage)),dn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${NO}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(dn()&&(n=wz(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),dn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),fz(o)){const d=(t=o.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ge(n)?this._returnResult({error:n}):this._returnResult({error:new no("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const o=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Er}),{data:l,error:u}=o;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(o){if(ge(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var n,r,i;try{let o;if("email"in t){const{email:h,password:m,options:g}=t;let x=null,S=null;this.flowType==="pkce"&&([x,S]=await fs(this.storage,this.storageKey)),o=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:h,password:m,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:x,code_challenge_method:S},xform:Er})}else if("phone"in t){const{phone:h,password:m,options:g}=t;o=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:m,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Er})}else throw new Hd("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return await cn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(o){if(await cn(this.storage,`${this.storageKey}-code-verifier`),ge(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:l,options:u}=t;n=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:hT})}else if("phone"in t){const{phone:o,password:l,options:u}=t;n=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:hT})}else throw new Hd("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new ds;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,o,l,u,d,f,h,m,g;let x,S;if("message"in t)x=t.message,S=t.signature;else{const{chain:E,wallet:T,statement:C,options:P}=t;let N;if(dn())if(typeof T=="object")N=T;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")N=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=T}const R=new URL((n=P==null?void 0:P.url)!==null&&n!==void 0?n:window.location.href),M=await N.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=DO(M[0]);let D=(r=P==null?void 0:P.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!D){const $=await N.request({method:"eth_chainId"});D=Vz($)}const F={domain:R.host,address:I,statement:C,uri:R.href,version:"1",chainId:D,nonce:(i=P==null?void 0:P.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(o=P==null?void 0:P.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=P==null?void 0:P.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=P==null?void 0:P.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=P==null?void 0:P.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(h=P==null?void 0:P.signInWithEthereum)===null||h===void 0?void 0:h.resources};x=Kz(F),S=await N.request({method:"personal_sign",params:[Fz(x),I]})}try{const{data:E,error:T}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:S},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Er});if(T)throw T;if(!E||!E.session||!E.user){const C=new ds;return this._returnResult({data:{user:null,session:null},error:C})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:T})}catch(E){if(ge(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(t){var n,r,i,o,l,u,d,f,h,m,g,x;let S,E;if("message"in t)S=t.message,E=t.signature;else{const{chain:T,wallet:C,statement:P,options:N}=t;let R;if(dn())if(typeof C=="object")R=C;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))R=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=C}const M=new URL((n=N==null?void 0:N.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in R&&R.signIn){const I=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),P?{statement:P}:null));let D;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")D=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)D=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)S=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),E=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${M.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(i=(r=N==null?void 0:N.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=N==null?void 0:N.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((l=N==null?void 0:N.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((u=N==null?void 0:N.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((d=N==null?void 0:N.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((f=N==null?void 0:N.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((m=(h=N==null?void 0:N.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||m===void 0)&&m.length?["Resources",...N.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const I=await R.signMessage(new TextEncoder().encode(S),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=I}}try{const{data:T,error:C}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:ro(E)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Er});if(C)throw C;if(!T||!T.session||!T.user){const P=new ds;return this._returnResult({data:{user:null,session:null},error:P})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:C})}catch(T){if(ge(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(t){const n=await Wa(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new hz;const{data:o,error:l}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Er});if(await cn(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!o||!o.session||!o.user){const u=new ds;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:l})}catch(o){if(await cn(this.storage,`${this.storageKey}-code-verifier`),ge(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:o,nonce:l}=t,u=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Er}),{data:d,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const h=new ds;return this._returnResult({data:{user:null,session:null},error:h})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(n){if(ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,o,l;try{if("email"in t){const{email:u,options:d}=t;let f=null,h=null;this.flowType==="pkce"&&([f,h]=await fs(this.storage,this.storageKey));const{error:m}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:h},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:u,options:d}=t,{data:f,error:h}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},create_user:(o=d==null?void 0:d.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:h})}throw new Hd("You must provide either an email or phone number.")}catch(u){if(await cn(this.storage,`${this.storageKey}-code-verifier`),ge(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var n,r;try{let i,o;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await Se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Er});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,o,l;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await fs(this.storage,this.storageKey));const f=await Se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:jz});return!((o=f.data)===null||o===void 0)&&o.url&&dn()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(u){if(await cn(this.storage,`${this.storageKey}-code-verifier`),ge(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Yn;const{error:i}=await Se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(ge(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:o}=t,{error:l}=await Se(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:r,type:i,options:o}=t,{data:l,error:u}=await Se(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u})}throw new Hd("You must provide either an email or phone number and a type")}catch(n){if(ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Wa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<rg:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await Wa(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=og()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=Iz(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ya}):await this._useSession(async n=>{var r,i,o;const{data:l,error:u}=n;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yn}:await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:ya})})}catch(n){if(ge(n))return dz(n)&&(await this._removeSession(),await cn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new Yn;const l=i.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await fs(this.storage,this.storageKey));const{data:f,error:h}=await Se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:ya});if(h)throw h;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(r){if(await cn(this.storage,`${this.storageKey}-code-verifier`),ge(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Yn;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:l}=ag(t.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{data:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)throw d;o={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(ge(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:u}=n;if(u)throw u;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Yn;const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!dn())throw new Gd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Gd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new oT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new oT("No code detected.");const{data:P,error:N}=await this._exchangeCodeForSession(t.code);if(N)throw N;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:l,expires_in:u,expires_at:d,token_type:f}=t;if(!o||!u||!l||!f)throw new Gd("No session defined in URL");const h=Math.round(Date.now()/1e3),m=parseInt(u);let g=h+m;d&&(g=parseInt(d));const x=g-h;x*1e3<=_s&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${m}s`);const S=g-m;h-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,g,h):h-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,g,h);const{data:E,error:T}=await this._getUser(o);if(T)throw T;const C={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:m,expires_at:g,refresh_token:l,token_type:f,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:t.type},error:null})}catch(r){if(ge(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Wa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({error:o});const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(cz(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await cn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=xz(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await fs(this.storage,this.storageKey,!0));try{return await Se(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await cn(this.storage,`${this.storageKey}-code-verifier`),ge(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var l,u,d,f,h;const{data:m,error:g}=o;if(g)throw g;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Se(this.fetch,"GET",x,{headers:this.headers,jwt:(h=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return dn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ge(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:l,provider:u,token:d,access_token:f,nonce:h}=t,m=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:d,access_token:f,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Er}),{data:g,error:x}=m;return x?this._returnResult({data:{user:null,session:null},error:x}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new ds}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:x}))}catch(i){if(await cn(this.storage,`${this.storageKey}-code-verifier`),ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)throw l;return await Se(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Ez(async i=>(i>0&&await Sz(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Er})),(i,o)=>{const l=200*Math.pow(2,i);return o&&ig(o)&&Date.now()+l-r<_s})}catch(r){if(this._debug(n,"error",r),ge(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),dn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Wa(this.storage,this.storageKey);if(i&&this.userStorage){let l=await Wa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await Ss(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:og()}else if(i&&!i.user&&!i.user){const l=await Wa(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await cn(this.storage,this.storageKey+"-user"),await Ss(this.storage,this.storageKey,i)):i.user=og()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<rg;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${rg}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),ig(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(i.access_token);!u&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Yn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Rh;const{data:o,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new Yn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(i,"error",o),ge(o)){const l={data:null,error:o};return ig(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(d){o.push(d)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await cn(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Ss(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=dT(i);await Ss(this.storage,this.storageKey,o)}else{const i=dT(n);await Ss(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await cn(this.storage,this.storageKey),await cn(this.storage,this.storageKey+"-code-verifier"),await cn(this.storage,this.storageKey+"-user"),this.userStorage&&await cn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&dn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),_s);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/_s);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${_s}ms, refresh threshold is ${d0} ticks`),i<=d0&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof IO)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await fs(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await Se(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:f}=await Se(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&d.type==="totp"&&(!((i=d==null?void 0:d.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?e$(t.webauthn.credential_response):t$(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:d}=await Se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=await Se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:Zz(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:Qz(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ag(r.access_token);let l=null;o.aal&&(l=o.aal);let u=l;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const f=o.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await Se(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Yn})})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Yn});const l=await Se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&dn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Yn});const l=await Se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&dn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await Se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Yn})})}catch(t){if(ge(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await Se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Yn})})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+lz>i)return r;const{data:o,error:l}=await Se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:x,error:S}=await this.getSession();if(S||!x.session)return this._returnResult({data:null,error:S});r=x.session.access_token}const{header:i,payload:o,signature:l,raw:{header:u,payload:d}}=ag(r);n!=null&&n.allowExpired||Rz(o.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:o,header:i,signature:l},error:null}}const h=Oz(i.alg),m=await crypto.subtle.importKey("jwk",f,h,!0,["verify"]);if(!await crypto.subtle.verify(h,m,l,yz(`${u}.${d}`)))throw new p0("Invalid JWT signature");return{data:{claims:o,header:i,signature:l},error:null}}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}}Ou.nextInstanceID={};const c$=Ou,d$="2.89.0";let bu="";typeof Deno<"u"?bu="deno":typeof document<"u"?bu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bu="react-native":bu="node";const f$={"X-Client-Info":`supabase-js-${bu}/${d$}`},h$={headers:f$},p$={schema:"public"},m$={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},v$={};function Mu(e){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}function g$(e,t){if(Mu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y$(e){var t=g$(e,"string");return Mu(t)=="symbol"?t:t+""}function b$(e,t,n){return(t=y$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yT(Object(n),!0).forEach(function(r){b$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const x$=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),w$=()=>Headers,_$=(e,t,n)=>{const r=x$(n),i=w$();return async(o,l)=>{var u;const d=(u=await t())!==null&&u!==void 0?u:e;let f=new i(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(o,wt(wt({},l),{},{headers:f}))}};function S$(e){return e.endsWith("/")?e:e+"/"}function E$(e,t){var n,r;const{db:i,auth:o,realtime:l,global:u}=e,{db:d,auth:f,realtime:h,global:m}=t,g={db:wt(wt({},d),i),auth:wt(wt({},f),o),realtime:wt(wt({},h),l),storage:{},global:wt(wt(wt({},m),u),{},{headers:wt(wt({},(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}function T$(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(S$(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var A$=class extends c${constructor(e){super(e)}},C$=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;const o=T$(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:p$,realtime:v$,auth:wt(wt({},m$),{},{storageKey:l}),global:h$},d=E$(n??{},u);if(this.storageKey=(r=d.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=d.auth)!==null&&f!==void 0?f:{},this.headers,d.global.fetch)}this.fetch=_$(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(wt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new oB(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new rz(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new tB(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:l,lock:u,debug:d,throwOnError:f},h,m){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new A$({url:this.authUrl.href,headers:wt(wt({},g),h),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:l,lock:u,debug:d,throwOnError:f,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new SB(this.realtimeUrl.href,wt(wt({},e),{},{params:wt(wt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const k$=(e,t,n)=>new C$(e,t,n);function N$(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}N$()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const bT={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxtbWlkdmNubHRhY3ByenV2cWFtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYyNzE0NTEsImV4cCI6MjA4MTg0NzQ1MX0.LVNOvU0nDElR-NxM7V2EUWNlmHRd_jibAr7knkHZbEM",VITE_SUPABASE_URL:"https://lmmidvcnltacprzuvqam.supabase.co"};var xT={};const LO=e=>typeof import.meta<"u"&&bT?bT[e]||"":typeof process<"u"&&xT&&xT[e]||"",P$=typeof window<"u"&&localStorage.getItem("iroko_force_demo")==="true",bf=LO("VITE_SUPABASE_URL")||"https://lmmidvcnltacprzuvqam.supabase.co",m0=LO("VITE_SUPABASE_ANON_KEY")||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxtbWlkdmNubHRhY3ByenV2cWFtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYyNzE0NTEsImV4cCI6MjA4MTg0NzQ1MX0.LVNOvU0nDElR-NxM7V2EUWNlmHRd_jibAr7knkHZbEM",Ye=!P$&&bf&&bf.length>0&&bf.startsWith("http")&&m0&&m0.length>0,Oe=k$(bf,m0);class Cs{constructor(){this.mockParents=new Map,this.mockChildren=new Map,this.mockMissions=new Map,this.mockLogs=new Map,this.mockRewards=new Map,this.mockTransactions=[],this.paymentConfig={provider:"paystack",publicKey:"",secretKey:"",isLiveMode:!1,isEnabled:!1},Ye||(console.warn(" Supabase not configured. Using Mock Data Mode."),this.seedMockData());const t=localStorage.getItem("iroko_payment_config");t&&(this.paymentConfig=JSON.parse(t))}static getInstance(){return Cs.instance||(Cs.instance=new Cs),Cs.instance}generateAvatarUrl(t){return`https://api.dicebear.com/7.x/avataaars/svg?seed=${t}&skinColor=614335,ae5d29`}async getCurrentUser(){if(!Ye)return this.mockParents.get("user_123")||null;const{data:{user:t}}=await Oe.auth.getUser();return t?this.getParent(t.id):null}async getParent(t){if(!Ye)return this.mockParents.get(t)||null;const{data:n,error:r}=await Oe.from("profiles").select("*").eq("id",t).single();return r?(r.code==="PGRST116"||console.error("Error fetching parent:",r.message||r),null):n?{id:n.id,name:n.name,email:n.email,subscriptionTier:n.subscription_tier,locationContext:n.location_context||"home",childrenIds:[],createdAt:new Date(n.created_at).getTime()}:null}async createParent(t){if(!Ye){this.mockParents.set(t.id,t);return}await Oe.from("profiles").upsert({id:t.id,name:t.name,email:t.email,subscription_tier:t.subscriptionTier,location_context:t.locationContext})}async updateParentProfile(t,n){if(!Ye){const i=this.mockParents.get(t);i&&this.mockParents.set(t,{...i,...n});return}const r={};n.name&&(r.name=n.name),n.locationContext&&(r.location_context=n.locationContext),await Oe.from("profiles").update(r).eq("id",t)}async getChildren(t){if(!Ye)return Array.from(this.mockChildren.values()).filter(i=>i.parentId===t);const{data:n,error:r}=await Oe.from("children").select("*").eq("parent_id",t);return r||!n?[]:n.map(i=>({id:i.id,parentId:i.parent_id,name:i.name,age:i.age,gritPoints:i.grit_points,omoluabiPoints:i.omoluabi_points,currentLevel:i.current_level,avatarUrl:i.avatar_url}))}async createChild(t,n,r){const i=this.generateAvatarUrl(n);if(!Ye){const u={id:crypto.randomUUID(),parentId:t,name:n,age:r,gritPoints:0,omoluabiPoints:0,currentLevel:"Novice",avatarUrl:i};return this.mockChildren.set(u.id,u),u}const{data:o,error:l}=await Oe.from("children").insert({parent_id:t,name:n,age:r,avatar_url:i}).select().single();return l?(console.error("Error creating child",l.message||l),null):{id:o.id,parentId:o.parent_id,name:o.name,age:o.age,gritPoints:o.grit_points,omoluabiPoints:o.omoluabi_points,currentLevel:o.current_level,avatarUrl:o.avatar_url}}async deleteChild(t){if(!Ye){this.mockChildren.delete(t);return}await Oe.from("children").delete().eq("id",t)}async updateChildPoints(t,n,r){if(!Ye){const d=this.mockChildren.get(t);d&&(d.gritPoints+=n,d.omoluabiPoints+=r,d.gritPoints>1e3?d.currentLevel="Odogwu (Giant)":d.gritPoints>500?d.currentLevel="Warrior":d.gritPoints>200&&(d.currentLevel="Apprentice"),this.mockChildren.set(t,d));return}const{data:i}=await Oe.from("children").select("grit_points, omoluabi_points").eq("id",t).single();if(!i)return;const o=(i.grit_points||0)+n,l=(i.omoluabi_points||0)+r;let u="Novice";o>1e3?u="Odogwu (Giant)":o>500?u="Warrior":o>200&&(u="Apprentice"),await Oe.from("children").update({grit_points:o,omoluabi_points:l,current_level:u}).eq("id",t)}async upgradeSubscription(t){if(!Ye){const n=this.mockParents.get(t);n&&(n.subscriptionTier="Chief",this.mockParents.set(t,n),this.mockTransactions.unshift({id:`txn_${Date.now()}`,parentId:n.id,parentName:n.name,amount:24e3,currency:"NGN",status:"success",date:Date.now(),reference:`REF-${Math.floor(Math.random()*1e6)}`}));return}await Oe.from("profiles").update({subscription_tier:"Chief"}).eq("id",t)}async getMissionsByAge(t){if(!Ye)return Array.from(this.mockMissions.values()).filter(i=>i.ageCategory===t);const{data:n,error:r}=await Oe.from("missions").select("*").eq("age_category",t);return r||!n?[]:n.map(i=>({id:i.id,title:i.title,description:i.description,category:i.category,ageCategory:i.age_category,xpReward:i.xp_reward,steps:i.steps,practicalTip:i.practical_tip,isAiGenerated:i.is_ai_generated,createdAt:new Date(i.created_at).getTime(),duration:i.duration,storyOrProverb:i.story_or_proverb}))}async getRecommendedMissions(t){let n;if(Ye?(n=(await Oe.from("children").select("*").eq("id",t).single()).data,await this.checkAndSeedMissions()):n=this.mockChildren.get(t),!n)return[];let r="7-12";n.age<=6?r="3-6":n.age>=13&&(r="13-17");const i=await this.getMissionsByAge(r),o=await this.getChildProgress(t),l=new Set(o.filter(d=>d.status==="completed"||d.status==="pending").map(d=>d.missionId));return i.filter(d=>!l.has(d.id))}async getPendingApprovals(t){const n=await this.getChildren(t),r=n.map(l=>l.id);if(r.length===0)return[];let i=[];if(!Ye)i=Array.from(this.mockLogs.values()).filter(l=>r.includes(l.childId)&&l.status==="pending");else{const{data:l}=await Oe.from("progress_logs").select("*").in("child_id",r).eq("status","pending");l&&(i=l.map(u=>({id:u.id,childId:u.child_id,missionId:u.mission_id,status:u.status,proofUrl:u.proof_url,parentVerified:u.parent_verified,completedAt:new Date(u.completed_at).getTime()})))}const o=[];for(const l of i){const u=n.find(f=>f.id===l.childId);let d;if(!Ye)d=this.mockMissions.get(l.missionId);else{const{data:f}=await Oe.from("missions").select("*").eq("id",l.missionId).single();f&&(d={id:f.id,title:f.title,description:f.description,category:f.category,ageCategory:f.age_category,xpReward:f.xp_reward,steps:f.steps,practicalTip:f.practical_tip,isAiGenerated:f.is_ai_generated,createdAt:0})}u&&d&&o.push({...l,childName:u.name,avatarUrl:u.avatarUrl||"",missionTitle:d.title,xpReward:d.xpReward})}return o}async submitMission(t,n,r){if(!Ye){const o={id:crypto.randomUUID(),childId:t,missionId:n,status:"pending",parentVerified:!1,proofUrl:r,completedAt:Date.now()};this.mockLogs.set(o.id,o);return}const{error:i}=await Oe.from("progress_logs").insert({child_id:t,mission_id:n,status:"pending",parent_verified:!1,proof_url:r,completed_at:new Date().toISOString()});i&&console.error("Submit error",i)}async approveMission(t){let n,r;if(!Ye)n=this.mockLogs.get(t),n&&(n.status="completed",n.parentVerified=!0,this.mockLogs.set(t,n),r=this.mockMissions.get(n.missionId));else{const{data:i}=await Oe.from("progress_logs").select("*").eq("id",t).single();if(i){await Oe.from("progress_logs").update({status:"completed",parent_verified:!0}).eq("id",t);const{data:o}=await Oe.from("missions").select("*").eq("id",i.mission_id).single();o&&(r={id:o.id,title:o.title,description:o.description,category:o.category,ageCategory:o.age_category,xpReward:o.xp_reward,steps:o.steps,practicalTip:o.practical_tip,isAiGenerated:!1,createdAt:0},n={id:t,childId:i.child_id,missionId:i.mission_id,status:"completed",parentVerified:!0,completedAt:0})}}if(n&&r){const i=r.xpReward;let o=10;r.category==="respect"&&(o+=Math.floor(r.xpReward*.5)),await this.updateChildPoints(n.childId,i,o)}}async rejectMission(t){if(!Ye){this.mockLogs.delete(t);return}await Oe.from("progress_logs").delete().eq("id",t)}async markMissionComplete(t,n,r){return this.submitMission(t,n,r)}async getLeaderboard(){if(!Ye)return Array.from(this.mockChildren.values()).sort((i,o)=>o.gritPoints+o.omoluabiPoints-(i.gritPoints+i.omoluabiPoints)).slice(0,5);const{data:t,error:n}=await Oe.from("children").select("*").order("grit_points",{ascending:!1}).limit(10);return n||!t?[]:t.map(i=>({id:i.id,parentId:i.parent_id,name:i.name,age:i.age,gritPoints:i.grit_points,omoluabiPoints:i.omoluabi_points,currentLevel:i.current_level,avatarUrl:i.avatar_url})).sort((i,o)=>o.gritPoints+o.omoluabiPoints-(i.gritPoints+i.omoluabiPoints))}async getRewards(t){if(!Ye)return Array.from(this.mockRewards.values()).filter(i=>i.parentId===t);const{data:n,error:r}=await Oe.from("rewards").select("*").eq("parent_id",t).order("cost",{ascending:!0});return r||!n?[]:n.map(i=>({id:i.id,parentId:i.parent_id,title:i.title,cost:i.cost,emoji:i.emoji,createdAt:new Date(i.created_at).getTime()}))}async createReward(t){if(!Ye){const n={...t,id:crypto.randomUUID(),createdAt:Date.now()};this.mockRewards.set(n.id,n);return}await Oe.from("rewards").insert({parent_id:t.parentId,title:t.title,cost:t.cost,emoji:t.emoji})}async redeemReward(t,n){let r;if(!Ye){if(r=this.mockChildren.get(t),!r||r.gritPoints+r.omoluabiPoints<n.cost)return!1;const g=Math.floor(n.cost/2),x=n.cost-g;return r.gritPoints=Math.max(0,r.gritPoints-g),r.omoluabiPoints=Math.max(0,r.omoluabiPoints-x),this.mockChildren.set(t,r),!0}const{data:i}=await Oe.from("children").select("*").eq("id",t).single();if(!i)return!1;const o=i.grit_points,l=i.omoluabi_points;if(o+l<n.cost)return!1;let d=Math.floor(n.cost/2),f=n.cost-d;if(d>o){const m=d-o;d=o,f+=m}else if(f>l){const m=f-l;f=l,d+=m}const{error:h}=await Oe.from("redemptions").insert({child_id:t,reward_id:n.id,cost_at_time:n.cost});return h?!1:(await Oe.from("children").update({grit_points:o-d,omoluabi_points:l-f}).eq("id",t),!0)}async getChildProgress(t){if(!Ye)return Array.from(this.mockLogs.values()).filter(i=>i.childId===t);const{data:n,error:r}=await Oe.from("progress_logs").select("*").eq("child_id",t);return r||!n?[]:n.map(i=>({id:i.id,childId:i.child_id,missionId:i.mission_id,status:i.status,proofUrl:i.proof_url,parentVerified:i.parent_verified,completedAt:new Date(i.completed_at).getTime()}))}async uploadProof(t){if(!Ye)return"https://via.placeholder.com/300";const n=t.name.split(".").pop(),i=`${`${Math.random()}.${n}`}`,{error:o}=await Oe.storage.from("mission-proofs").upload(i,t);if(o)return console.error("Upload error",o.message||o),null;const{data:l}=Oe.storage.from("mission-proofs").getPublicUrl(i);return l.publicUrl}getDailyWisdom(){const t=[{proverb:"The river that forgets its source will dry up.",origin:"Yoruba Proverb"},{proverb:"If you want to go fast, go alone. If you want to go far, go together.",origin:"African Proverb"},{proverb:"A child who washes his hands clean eats with elders.",origin:"Igbo Proverb"},{proverb:"It takes a village to raise a child.",origin:"Igbo/Yoruba"},{proverb:"When the roots are deep, there is no reason to fear the wind.",origin:"African Proverb"},{proverb:"Knowledge is like a garden: if it is not cultivated, it cannot be harvested.",origin:"African Proverb"},{proverb:"One falsehood spoils a thousand truths.",origin:"Ashanti Proverb"}],n=new Date().getDate();return t[n%t.length]}async getAdminStats(){return Ye?{totalParents:120,totalChildren:245,totalRevenue:54e4,activeMissions:890}:{totalParents:this.mockParents.size,totalChildren:this.mockChildren.size,totalRevenue:this.mockTransactions.reduce((t,n)=>t+n.amount,0),activeMissions:this.mockLogs.size}}async getTransactions(){return Ye?[]:this.mockTransactions}async savePaymentConfig(t){this.paymentConfig=t,localStorage.setItem("iroko_payment_config",JSON.stringify(t))}getPaymentConfig(){return this.paymentConfig}async checkAndSeedMissions(){if(Ye)try{const{count:t,error:n}=await Oe.from("missions").select("*",{count:"exact",head:!0});if(n){console.warn("Could not check missions table for seeding:",n.message);return}t===0&&(console.log("Seeding Database..."),await Oe.from("missions").insert(this.getSeedMissions()))}catch(t){console.error("Seeding error:",t)}}seedMockData(){console.log(" Seeding Mock Data"),this.mockParents.set("user_123",{id:"user_123",name:"Demo Parent",email:"demo@iroko.ng",subscriptionTier:"Villager",locationContext:"home",childrenIds:["child_1"],createdAt:Date.now()});const t=this.generateAvatarUrl("Tunde");this.mockChildren.set("child_1",{id:"child_1",parentId:"user_123",name:"Tunde",age:8,gritPoints:120,omoluabiPoints:95,currentLevel:"Apprentice",avatarUrl:t}),this.mockTransactions.push({id:"txn_1",parentId:"user_123",parentName:"Demo Parent",amount:24e3,currency:"NGN",status:"success",date:Date.now()-1e5,reference:"REF-88392"},{id:"txn_2",parentId:"user_999",parentName:"Chisom Okeke",amount:24e3,currency:"NGN",status:"success",date:Date.now()-5e5,reference:"REF-11223"},{id:"txn_3",parentId:"user_888",parentName:"Fatima Musa",amount:2500,currency:"NGN",status:"failed",date:Date.now()-9e5,reference:"REF-99112"});const n={id:"r1",parentId:"user_123",title:"1 Hour TV Time",cost:150,emoji:"",createdAt:Date.now()},r={id:"r2",parentId:"user_123",title:"Chicken Republic Meal",cost:500,emoji:"",createdAt:Date.now()},i={id:"r3",parentId:"user_123",title:"New Football",cost:1e3,emoji:"",createdAt:Date.now()};this.mockRewards.set(n.id,n),this.mockRewards.set(r.id,r),this.mockRewards.set(i.id,i),this.getSeedMissions().forEach(l=>{const u={...l,ageCategory:l.age_category,xpReward:l.xp_reward,practicalTip:l.practical_tip,isAiGenerated:!1,createdAt:Date.now()};this.mockMissions.set(u.id,u)})}getSeedMissions(){return[{title:"The Market Test",description:"Go to the market with N1000. Buy ingredients for stew. Return with change.",category:"money",age_category:"7-12",xp_reward:100,steps:["Collect N1000 from parent","Navigate to the market","Buy Pepper (N200), Onions (N200)","Bring back exact change"],practical_tip:"A fool and his money are soon parted. Count your change before you leave the stall.",duration:"2 Hours"},{title:"The No-Screen Sunday",description:"24 hours without iPad/Phone. Boredom breeds creativity.",category:"grit",age_category:"7-12",xp_reward:150,steps:["Hand over devices at 8am","Find a book to read","Build something with hands"],practical_tip:"Your mind is sharper when it is not being entertained by others.",duration:"24 Hours"},{title:"The Greeting",description:"Prostrate/Kneel or properly greet 3 elders today with eye contact.",category:"respect",age_category:"7-12",xp_reward:50,steps:["Identify 3 elders","Greet properly (Good Morning Ma/Sir)","Wait for response before moving"],practical_tip:"Charisma opens doors, but character keeps them open.",duration:"1 Day"},{title:"The Savings Box",description:'Decorate a physical "Kolo" (save box). Put N50 inside.',category:"money",age_category:"7-12",xp_reward:75,steps:["Find an empty container","Seal it","Decorate it","Deposit first N50"],practical_tip:"Small drops of water make a mighty ocean.",duration:"1 Hour"},{title:"The Uncle Pitch",description:"Ask an uncle for a favor, but offer value in return (e.g., wash his car).",category:"street-smarts",age_category:"7-12",xp_reward:200,steps:["Identify a need the uncle has","Propose the trade","Execute the job well"],practical_tip:"Never beg. Trade value for value.",duration:"3 Hours"}]}}const je=Cs.getInstance(),R$=({parent:e,onViewChange:t,onTriggerPaywall:n,onRefreshProfile:r})=>{const[i,o]=A.useState(!0),[l,u]=A.useState([]),[d,f]=A.useState(null),[h,m]=A.useState([]),[g,x]=A.useState([]),[S,E]=A.useState({proverb:"The river that forgets its source will dry up.",origin:"Yoruba Proverb"}),[T,C]=A.useState([]),[P,N]=A.useState(null),[R,M]=A.useState(!1),[I,D]=A.useState(null),[F,$]=A.useState(null),Q=async()=>{const j=await je.getChildren(e.id);u(j),j.length>0&&!d&&f(j[0]);const Y=await je.getPendingApprovals(e.id);x(Y);const oe=await je.getLeaderboard();C(oe.slice(0,3)),E(je.getDailyWisdom()),o(!1)};A.useEffect(()=>{Q()},[e.id]),A.useEffect(()=>{(async()=>{if(d){const Y=await je.getRecommendedMissions(d.id);m(Y)}})()},[d,g]);const W=j=>{var oe;const Y=(oe=j.target.files)==null?void 0:oe[0];Y&&(D(Y),$(URL.createObjectURL(Y)))},ne=()=>{D(null),F&&(URL.revokeObjectURL(F),$(null))},se=async()=>{if(!d||!P)return;M(!0);let j;try{if(I){const Y=await je.uploadProof(I);Y&&(j=Y)}await je.submitMission(d.id,P,j)}catch(Y){console.error("Submission error",Y)}finally{N(null),ne(),M(!1),await Q()}},de=async j=>{await je.approveMission(j),await Q()},Te=async j=>{await je.rejectMission(j),await Q()};return i?_.jsx("div",{className:"min-h-[40vh] flex items-center justify-center text-iroko-earth/50 font-display animate-pulse",children:"Gathering the Elders..."}):d?_.jsxs("div",{className:"space-y-8 animate-fade-in relative",children:[_.jsx("section",{className:"flex flex-col gap-4",children:_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-stone-400 text-xs font-bold uppercase tracking-widest mb-1",children:"Welcome back,"}),_.jsxs("h1",{className:"text-3xl md:text-4xl font-display font-bold text-iroko-dark flex items-center gap-2",children:[e.name.split(" ")[0],e.subscriptionTier==="Chief"&&_.jsx(Rr,{size:24,className:"text-iroko-gold fill-current"})]})]}),l.length>1&&_.jsx("div",{className:"bg-white p-1 rounded-full border border-stone-200 flex shadow-sm",children:l.map(j=>_.jsx("button",{onClick:()=>f(j),className:`px-4 py-2 rounded-full text-xs font-bold transition-all ${d.id===j.id?"bg-iroko-dark text-white shadow-md":"text-stone-400 hover:text-iroko-earth"}`,children:j.name},j.id))})]})}),g.length>0&&_.jsxs("section",{className:"bg-white border-l-4 border-iroko-gold rounded-2xl shadow-xl p-6 animate-slide-up relative overflow-hidden",children:[_.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:_.jsx(e5,{size:100})}),_.jsxs("h3",{className:"text-lg font-bold text-iroko-dark mb-4 flex items-center gap-2",children:[_.jsx(Rr,{size:20,className:"text-iroko-gold fill-current"}),"Chief's Desk: Approval Needed"]}),_.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 relative z-10",children:g.map(j=>_.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl border border-stone-100",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[_.jsx("img",{src:j.avatarUrl,className:"w-8 h-8 rounded-full bg-stone-200",alt:""}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm font-bold text-iroko-dark",children:j.childName}),_.jsx("p",{className:"text-xs text-stone-500",children:"Submitted just now"})]})]}),_.jsx("p",{className:"text-sm font-medium mb-1",children:j.missionTitle}),_.jsxs("p",{className:"text-xs text-iroko-green font-bold mb-3",children:["+",j.xpReward," XP Reward"]}),j.proofUrl&&_.jsx("div",{className:"mb-3",children:_.jsxs("a",{href:j.proofUrl,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 underline flex items-center gap-1",children:[_.jsx(W1,{size:10})," View Proof"]})}),_.jsxs("div",{className:"flex gap-2 mt-2",children:[_.jsxs("button",{onClick:()=>de(j.id),className:"flex-1 bg-iroko-dark text-white py-2 rounded-lg text-xs font-bold flex items-center justify-center gap-1 hover:bg-green-700",children:[_.jsx(gf,{size:14})," Approve"]}),_.jsx("button",{onClick:()=>Te(j.id),className:"px-3 py-2 bg-white border border-stone-200 text-stone-500 rounded-lg hover:text-red-500 hover:border-red-200",children:_.jsx(bO,{size:14})})]})]},j.id))})]}),_.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[_.jsxs("div",{className:"relative w-full rounded-[2.5rem] bg-iroko-dark overflow-hidden shadow-2xl shadow-iroko-dark/30 text-white p-8 group transition-all duration-500 hover:scale-[1.01]",children:[_.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-iroko-gold rounded-full mix-blend-overlay blur-[80px] opacity-20 animate-pulse-slow"}),_.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-iroko-clay rounded-full mix-blend-overlay blur-[80px] opacity-20"}),_.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"}),_.jsxs("div",{className:"relative z-10 flex flex-col sm:flex-row items-center gap-6",children:[_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"w-20 h-20 rounded-3xl p-1 bg-gradient-to-br from-white/20 to-transparent backdrop-blur-md border border-white/20 shadow-lg rotate-3 group-hover:rotate-0 transition-transform duration-500",children:_.jsx("img",{src:d.avatarUrl,className:"w-full h-full rounded-2xl bg-stone-800 object-cover"})}),_.jsxs("div",{className:"absolute -bottom-2 -right-2 bg-iroko-gold text-iroko-dark text-[10px] font-bold px-2 py-1 rounded-full border border-iroko-dark uppercase tracking-wider",children:["Lvl ",Math.floor((d.gritPoints+d.omoluabiPoints)/100)+1]})]}),_.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[_.jsxs("div",{className:"mb-4",children:[_.jsx("p",{className:"text-white/50 text-[10px] font-bold uppercase tracking-widest mb-1",children:"Current Status"}),_.jsx("h2",{className:"text-2xl font-display font-bold text-white flex items-center justify-center sm:justify-start gap-2",children:d.currentLevel})]}),_.jsxs("div",{className:"flex gap-3 justify-center sm:justify-start",children:[_.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl px-3 py-1.5 border border-white/5",children:[_.jsx("p",{className:"text-[10px] text-white/60 uppercase font-bold",children:"Grit"}),_.jsx("p",{className:"text-lg font-bold text-white",children:d.gritPoints})]}),_.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl px-3 py-1.5 border border-white/5",children:[_.jsx("p",{className:"text-[10px] text-white/60 uppercase font-bold",children:"Culture"}),_.jsx("p",{className:"text-lg font-bold text-white",children:d.omoluabiPoints})]})]})]})]})]}),_.jsxs("div",{className:"bg-white rounded-[2.5rem] p-6 border border-stone-100 shadow-sm flex flex-col relative overflow-hidden",children:[_.jsxs("div",{className:"flex items-center justify-between mb-4 relative z-10",children:[_.jsxs("h3",{className:"font-bold text-iroko-dark flex items-center gap-2",children:[_.jsx(yO,{size:18,className:"text-iroko-gold"}),"Village Leaders"]}),_.jsx("button",{onClick:()=>t("progress"),className:"text-xs font-bold text-stone-400 hover:text-iroko-earth",children:"See All"})]}),_.jsx("div",{className:"space-y-3 relative z-10",children:T.map((j,Y)=>_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsxs("span",{className:`w-5 text-center text-xs font-bold ${Y===0?"text-iroko-gold":"text-stone-400"}`,children:["#",Y+1]}),_.jsx("img",{src:j.avatarUrl,className:"w-8 h-8 rounded-full bg-stone-100"}),_.jsx("span",{className:"text-sm font-medium text-iroko-dark truncate flex-1",children:j.name}),_.jsxs("span",{className:"text-xs font-bold text-stone-400",children:[j.gritPoints+j.omoluabiPoints," XP"]})]},j.id))}),_.jsx("div",{className:"absolute -bottom-4 -right-4 w-24 h-24 bg-stone-50 rounded-full z-0"})]})]}),_.jsxs("section",{className:"bg-[#FAF9F6] rounded-[2rem] p-6 border border-[#EBE5DA] shadow-sm relative overflow-hidden flex items-start gap-4",children:[_.jsx("div",{className:"mt-1 bg-iroko-gold/10 p-2 rounded-full text-iroko-gold",children:_.jsx(xs,{size:18,fill:"currentColor"})}),_.jsxs("div",{className:"flex-1",children:[_.jsxs("p",{className:"font-serif italic text-lg text-iroko-dark leading-relaxed mb-2",children:['"',S.proverb,'"']}),_.jsxs("p",{className:"text-xs font-bold text-iroko-clay uppercase tracking-widest",children:[" ",S.origin]})]})]}),_.jsxs("section",{children:[_.jsxs("div",{className:"flex items-center justify-between mb-4 px-2",children:[_.jsx("h3",{className:"font-display font-bold text-xl text-iroko-dark",children:"Mission Board"}),e.subscriptionTier==="Villager"&&_.jsx("button",{onClick:n,className:"text-[10px] font-bold bg-iroko-gold text-white px-3 py-1 rounded-full animate-pulse shadow-lg shadow-iroko-gold/30 hover:scale-105 transition-transform",children:"UPGRADE TO CHIEF"})]}),_.jsx("div",{className:"space-y-6",children:h.length>0?h.map((j,Y)=>{const oe=e.subscriptionTier==="Villager"&&Y>0,ue=g.some(ce=>ce.childId===d.id&&ce.missionId===j.id);return _.jsxs("div",{className:"relative group",children:[_.jsx("div",{className:`bg-white rounded-[2.5rem] shadow-xl shadow-stone-200/50 overflow-hidden border border-stone-100 transition-all duration-300 ${oe?"blur-[2px] opacity-80 pointer-events-none":""}`,children:_.jsxs("div",{className:"p-8",children:[_.jsxs("div",{className:"flex justify-between items-start mb-4",children:[_.jsx("span",{className:"bg-iroko-green/10 text-iroko-green px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider border border-iroko-green/20",children:j.category}),_.jsxs("span",{className:"text-sm font-bold text-iroko-earth flex items-center gap-1",children:[_.jsx(Ob,{size:16,fill:"currentColor"})," +",j.xpReward," XP"]})]}),_.jsx("h3",{className:"text-2xl font-display font-bold text-iroko-dark mb-2 leading-tight",children:j.title}),_.jsx("p",{className:"text-stone-500 text-lg leading-relaxed mb-6 font-light",children:j.description}),!oe&&(ue?_.jsxs("div",{className:"w-full py-4 bg-amber-50 text-amber-600 rounded-2xl font-bold text-lg flex items-center justify-center gap-3 border border-amber-100",children:[_.jsx(cO,{size:24})," Pending Approval"]}):P===j.id?_.jsx("div",{className:"bg-stone-50 p-6 rounded-2xl border-2 border-dashed border-stone-200 animate-fade-in",children:_.jsxs("div",{className:"flex flex-col gap-4",children:[_.jsx("div",{className:"relative",children:F?_.jsxs("div",{className:"relative h-48 w-full rounded-xl overflow-hidden border border-stone-200 group bg-white",children:[_.jsx("img",{src:F,alt:"Proof",className:"w-full h-full object-cover"}),_.jsx("button",{onClick:ne,className:"absolute top-2 right-2 p-2 bg-black/50 hover:bg-red-500 text-white rounded-full transition-colors",children:_.jsx(H5,{size:16})}),_.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/60 text-white text-xs p-2 truncate",children:I==null?void 0:I.name})]}):_.jsxs("label",{className:"flex flex-col items-center justify-center h-32 bg-white rounded-xl border border-stone-200 cursor-pointer hover:border-iroko-earth transition-colors relative overflow-hidden group",children:[_.jsx("div",{className:"absolute inset-0 bg-stone-50/50 group-hover:bg-transparent transition-colors"}),_.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[_.jsx("div",{className:"w-10 h-10 rounded-full bg-stone-100 flex items-center justify-center mb-2 group-hover:bg-iroko-earth/10 group-hover:text-iroko-earth transition-colors",children:_.jsx(W1,{size:18,className:"text-stone-400 group-hover:text-iroko-earth"})}),_.jsx("span",{className:"text-xs font-bold text-stone-400 uppercase group-hover:text-iroko-dark transition-colors",children:"Upload Photo Proof (Optional)"})]}),_.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:W})]})}),_.jsxs("div",{className:"flex gap-2",children:[_.jsxs("button",{onClick:se,disabled:R,className:"flex-1 bg-iroko-dark text-white py-3 rounded-xl font-bold text-sm flex items-center justify-center gap-2 hover:bg-iroko-earth transition-colors disabled:opacity-70 disabled:cursor-not-allowed",children:[R?_.jsx(fO,{className:"animate-spin"}):_.jsx(gf,{})," ",R?I?"Uploading...":"Submitting...":"Submit for Approval"]}),_.jsx("button",{onClick:()=>{N(null),ne()},className:"px-4 py-3 bg-white border border-stone-200 rounded-xl font-bold text-stone-500 text-sm hover:text-iroko-dark hover:border-iroko-dark transition-colors",children:"Cancel"})]})]})}):_.jsxs("button",{onClick:()=>N(j.id),className:"w-full py-4 bg-iroko-dark text-white rounded-2xl font-bold text-lg flex items-center justify-center gap-3 hover:bg-iroko-earth transition-colors shadow-lg shadow-iroko-dark/20",children:[_.jsx(Z3,{size:24})," Start Mission"]}))]})}),oe&&_.jsx("div",{onClick:n,className:"absolute inset-0 z-20 flex flex-col items-center justify-center cursor-pointer hover:bg-black/5 transition-colors rounded-[2.5rem]",children:_.jsxs("div",{className:"bg-iroko-dark text-white px-6 py-4 rounded-2xl shadow-2xl flex items-center gap-3 animate-float border border-white/10",children:[_.jsx(Bs,{size:20,className:"text-iroko-gold"}),_.jsxs("div",{children:[_.jsx("p",{className:"font-bold text-sm",children:"Premium Mission"}),_.jsx("p",{className:"text-[10px] text-stone-400",children:"Chief Access Only"})]})]})})]},j.id)}):_.jsxs("div",{className:"bg-white rounded-[2.5rem] p-12 text-center border border-dashed border-stone-200",children:[_.jsx("div",{className:"w-16 h-16 bg-green-50 text-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:_.jsx(gf,{size:32,strokeWidth:3})}),_.jsx("h3",{className:"text-xl font-bold text-iroko-dark",children:"All Caught Up!"}),_.jsx("p",{className:"text-stone-400 mb-6 text-sm",children:"You are raising a giant. Rest now."}),_.jsx("button",{onClick:()=>t("curriculum"),className:"text-iroko-earth font-bold text-sm hover:underline",children:"Generate Custom Lesson "})]})})]})]}):_.jsx("div",{className:"text-center p-10 text-gray-500",children:"Please add a child in your account settings."})};var O$={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let M$,I$;function D$(){return{geminiUrl:M$,vertexUrl:I$}}function U$(e,t,n,r){var i,o;if(!(e!=null&&e.baseUrl)){const l=D$();return t?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(o=l.geminiUrl)!==null&&o!==void 0?o:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Di{}function le(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const o=t[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function y(e,t,n){for(let o=0;o<t.length-1;o++){const l=t[o];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[u])){const d=e[u];if(Array.isArray(n))for(let f=0;f<d.length;f++){const h=d[f];y(h,t.slice(o+1),n[f])}else for(const f of d)y(f,t.slice(o+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in e||(e[u]=[{}]);const d=e[u];y(d[0],t.slice(o+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function v(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const i=t[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in e){const l=e[o];return Array.isArray(l)?l.map(u=>v(u,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function L$(e,t){for(const[n,r]of Object.entries(t)){const i=n.split("."),o=r.split("."),l=new Set;let u=-1;for(let d=0;d<i.length;d++)if(i[d]==="*"){u=d;break}if(u!==-1&&o.length>u)for(let d=u;d<o.length;d++){const f=o[d];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&l.add(f)}v0(e,i,o,0,l)}}function v0(e,t,n,r,i){if(r>=t.length||typeof e!="object"||e===null)return;const o=t[r];if(o.endsWith("[]")){const l=o.slice(0,-2),u=e;if(l in u&&Array.isArray(u[l]))for(const d of u[l])v0(d,t,n,r+1,i)}else if(o==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,u=Object.keys(l).filter(f=>!f.startsWith("_")&&!i.has(f)),d={};for(const f of u)d[f]=l[f];for(const[f,h]of Object.entries(d)){const m=[];for(const g of n.slice(r))g==="*"?m.push(f):m.push(g);y(l,m,h)}for(const f of u)delete l[f]}}else{const l=e;o in l&&v0(l[o],t,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jb(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function j$(e){const t={},n=v(e,["operationName"]);n!=null&&y(t,["operationName"],n);const r=v(e,["resourceName"]);return r!=null&&y(t,["_url","resourceName"],r),t}function B$(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=v(e,["done"]);i!=null&&y(t,["done"],i);const o=v(e,["error"]);o!=null&&y(t,["error"],o);const l=v(e,["response","generateVideoResponse"]);return l!=null&&y(t,["response"],$$(l)),t}function z$(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=v(e,["done"]);i!=null&&y(t,["done"],i);const o=v(e,["error"]);o!=null&&y(t,["error"],o);const l=v(e,["response"]);return l!=null&&y(t,["response"],q$(l)),t}function $$(e){const t={},n=v(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>H$(l))),y(t,["generatedVideos"],o)}const r=v(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const i=v(e,["raiMediaFilteredReasons"]);return i!=null&&y(t,["raiMediaFilteredReasons"],i),t}function q$(e){const t={},n=v(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>G$(l))),y(t,["generatedVideos"],o)}const r=v(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const i=v(e,["raiMediaFilteredReasons"]);return i!=null&&y(t,["raiMediaFilteredReasons"],i),t}function H$(e){const t={},n=v(e,["video"]);return n!=null&&y(t,["video"],J$(n)),t}function G$(e){const t={},n=v(e,["_self"]);return n!=null&&y(t,["video"],X$(n)),t}function V$(e){const t={},n=v(e,["operationName"]);return n!=null&&y(t,["_url","operationName"],n),t}function F$(e){const t={},n=v(e,["operationName"]);return n!=null&&y(t,["_url","operationName"],n),t}function K$(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=v(e,["done"]);i!=null&&y(t,["done"],i);const o=v(e,["error"]);o!=null&&y(t,["error"],o);const l=v(e,["response"]);return l!=null&&y(t,["response"],Y$(l)),t}function Y$(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["parent"]);r!=null&&y(t,["parent"],r);const i=v(e,["documentName"]);return i!=null&&y(t,["documentName"],i),t}function jO(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=v(e,["done"]);i!=null&&y(t,["done"],i);const o=v(e,["error"]);o!=null&&y(t,["error"],o);const l=v(e,["response"]);return l!=null&&y(t,["response"],W$(l)),t}function W$(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["parent"]);r!=null&&y(t,["parent"],r);const i=v(e,["documentName"]);return i!=null&&y(t,["documentName"],i),t}function J$(e){const t={},n=v(e,["uri"]);n!=null&&y(t,["uri"],n);const r=v(e,["encodedVideo"]);r!=null&&y(t,["videoBytes"],jb(r));const i=v(e,["encoding"]);return i!=null&&y(t,["mimeType"],i),t}function X$(e){const t={},n=v(e,["gcsUri"]);n!=null&&y(t,["uri"],n);const r=v(e,["bytesBase64Encoded"]);r!=null&&y(t,["videoBytes"],jb(r));const i=v(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var wT;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(wT||(wT={}));var _T;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(_T||(_T={}));var ST;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(ST||(ST={}));var xa;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(xa||(xa={}));var ET;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(ET||(ET={}));var TT;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(TT||(TT={}));var AT;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(AT||(AT={}));var CT;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(CT||(CT={}));var kT;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(kT||(kT={}));var NT;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(NT||(NT={}));var PT;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(PT||(PT={}));var RT;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(RT||(RT={}));var OT;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(OT||(OT={}));var MT;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(MT||(MT={}));var IT;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(IT||(IT={}));var DT;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(DT||(DT={}));var UT;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(UT||(UT={}));var LT;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(LT||(LT={}));var jT;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(jT||(jT={}));var Pf;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Pf||(Pf={}));var BT;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(BT||(BT={}));var zT;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(zT||(zT={}));var $T;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})($T||($T={}));var g0;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(g0||(g0={}));var qT;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(qT||(qT={}));var HT;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(HT||(HT={}));var GT;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(GT||(GT={}));var VT;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(VT||(VT={}));var FT;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(FT||(FT={}));var KT;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(KT||(KT={}));var YT;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(YT||(YT={}));var WT;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(WT||(WT={}));var JT;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(JT||(JT={}));var XT;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(XT||(XT={}));var ZT;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ZT||(ZT={}));var QT;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(QT||(QT={}));var eA;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(eA||(eA={}));var tA;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(tA||(tA={}));var nA;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(nA||(nA={}));var rA;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(rA||(rA={}));var iA;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(iA||(iA={}));var aA;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(aA||(aA={}));var oA;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(oA||(oA={}));var sA;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(sA||(sA={}));var lA;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(lA||(lA={}));var uA;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(uA||(uA={}));var cA;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(cA||(cA={}));var dA;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(dA||(dA={}));var fA;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(fA||(fA={}));var hA;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(hA||(hA={}));var pA;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(pA||(pA={}));var mA;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(mA||(mA={}));var vA;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(vA||(vA={}));var gA;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(gA||(gA={}));var yA;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(yA||(yA={}));var ks;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(ks||(ks={}));class y0{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class lu{get text(){var t,n,r,i,o,l,u,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const m=[];for(const g of(d=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[x,S]of Object.entries(g))x!=="text"&&x!=="thought"&&x!=="thoughtSignature"&&(S!==null||S!==void 0)&&m.push(x);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;h=!0,f+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var t,n,r,i,o,l,u,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const m of(d=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[g,x]of Object.entries(m))g!=="inlineData"&&(x!==null||x!==void 0)&&h.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(f+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var t,n,r,i,o,l,u,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(d=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var t,n,r,i,o,l,u,d,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(d=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var t,n,r,i,o,l,u,d,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(d=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class bA{}class xA{}class Z${}class Q${}class eq{}class tq{}class wA{}class _A{}class SA{}class nq{}class Rf{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Rf;let i;const o=t;return n?i=z$(o):i=B$(o),Object.assign(r,i),r}}class EA{}class TA{}class AA{}class CA{}class rq{}class iq{}class aq{}class Bb{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Bb,o=K$(t);return Object.assign(r,o),r}}class oq{}class sq{}class lq{}class kA{}class uq{get text(){var t,n,r;let i="",o=!1;const l=[];for(const u of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[d,f]of Object.entries(u))d!=="text"&&d!=="thought"&&f!==null&&l.push(d);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,i+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var t,n,r;let i="";const o=[];for(const l of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,d]of Object.entries(l))u!=="inlineData"&&d!==null&&o.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class cq{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class zb{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new zb,o=jO(t);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ve(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function BO(e,t){const n=Ve(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function zO(e){return Array.isArray(e)?e.map(t=>Of(t)):[Of(e)]}function Of(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function $O(e){const t=Of(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function qO(e){const t=Of(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function NA(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function HO(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>NA(t)):[NA(e)]}function b0(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function PA(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function RA(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function gn(e){if(e==null)throw new Error("ContentUnion is required");return b0(e)?e:{role:"user",parts:HO(e)}}function $b(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=gn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=gn(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>gn(n)):[gn(t)]}function mr(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(PA(e)||RA(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[gn(e)]}const t=[],n=[],r=b0(e[0]);for(const i of e){const o=b0(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)t.push(i);else{if(PA(i)||RA(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:HO(n)}),t}function dq(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(xa).includes(n[0].toUpperCase())?n[0].toUpperCase():xa.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(xa).includes(r.toUpperCase())?r.toUpperCase():xa.TYPE_UNSPECIFIED})}}function Is(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=e.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(t.nullable=!0,e=o[1]):o[1].type==="null"&&(t.nullable=!0,e=o[0])),e.type instanceof Array&&dq(e.type,t);for(const[l,u]of Object.entries(e))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(xa).includes(u.toUpperCase())?u.toUpperCase():xa.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=Is(u);else if(r.includes(l)){const d=[];for(const f of u){if(f.type=="null"){t.nullable=!0;continue}d.push(Is(f))}t[l]=d}else if(i.includes(l)){const d={};for(const[f,h]of Object.entries(u))d[f]=Is(h);t[l]=d}else{if(l==="additionalProperties")continue;t[l]=u}return t}function qb(e){return Is(e)}function Hb(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Gb(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Js(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Is(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Is(t.response));return e}function Xs(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function fq(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function Ui(e,t){if(typeof t!="string")throw new Error("name must be a string");return fq(e,t,"cachedContents")}function GO(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Ta(e){return jb(e)}function hq(e){return e!=null&&typeof e=="object"&&"name"in e}function pq(e){return e!=null&&typeof e=="object"&&"video"in e}function mq(e){return e!=null&&typeof e=="object"&&"uri"in e}function VO(e){var t;let n;if(hq(e)&&(n=e.name),!(mq(e)&&(n=e.uri,n===void 0))&&!(pq(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function FO(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function KO(e){for(const t of["models","tunedModels","publisherModels"])if(vq(e,t))return e[t];return[]}function vq(e,t){return e!==null&&typeof e=="object"&&t in e}function gq(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function yq(e,t={}){const n=[],r=new Set;for(const i of e){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const l=gq(i,t);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function YO(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function bq(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function WO(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let o=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const d=l.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){o=!0;break}}return o&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Zs(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function JO(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xq(e){const t={},n=v(e,["responsesFile"]);n!=null&&y(t,["fileName"],n);const r=v(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>e6(l))),y(t,["inlinedResponses"],o)}const i=v(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(t,["inlinedEmbedContentResponses"],o)}return t}function wq(e){const t={},n=v(e,["predictionsFormat"]);n!=null&&y(t,["format"],n);const r=v(e,["gcsDestination","outputUriPrefix"]);r!=null&&y(t,["gcsUri"],r);const i=v(e,["bigqueryDestination","outputUri"]);return i!=null&&y(t,["bigqueryUri"],i),t}function _q(e){const t={},n=v(e,["format"]);n!=null&&y(t,["predictionsFormat"],n);const r=v(e,["gcsUri"]);r!=null&&y(t,["gcsDestination","outputUriPrefix"],r);const i=v(e,["bigqueryUri"]);if(i!=null&&y(t,["bigqueryDestination","outputUri"],i),v(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(v(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function xf(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["metadata","displayName"]);r!=null&&y(t,["displayName"],r);const i=v(e,["metadata","state"]);i!=null&&y(t,["state"],JO(i));const o=v(e,["metadata","createTime"]);o!=null&&y(t,["createTime"],o);const l=v(e,["metadata","endTime"]);l!=null&&y(t,["endTime"],l);const u=v(e,["metadata","updateTime"]);u!=null&&y(t,["updateTime"],u);const d=v(e,["metadata","model"]);d!=null&&y(t,["model"],d);const f=v(e,["metadata","output"]);return f!=null&&y(t,["dest"],xq(WO(f))),t}function x0(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["displayName"]);r!=null&&y(t,["displayName"],r);const i=v(e,["state"]);i!=null&&y(t,["state"],JO(i));const o=v(e,["error"]);o!=null&&y(t,["error"],o);const l=v(e,["createTime"]);l!=null&&y(t,["createTime"],l);const u=v(e,["startTime"]);u!=null&&y(t,["startTime"],u);const d=v(e,["endTime"]);d!=null&&y(t,["endTime"],d);const f=v(e,["updateTime"]);f!=null&&y(t,["updateTime"],f);const h=v(e,["model"]);h!=null&&y(t,["model"],h);const m=v(e,["inputConfig"]);m!=null&&y(t,["src"],Sq(m));const g=v(e,["outputConfig"]);g!=null&&y(t,["dest"],wq(WO(g)));const x=v(e,["completionStats"]);return x!=null&&y(t,["completionStats"],x),t}function Sq(e){const t={},n=v(e,["instancesFormat"]);n!=null&&y(t,["format"],n);const r=v(e,["gcsSource","uris"]);r!=null&&y(t,["gcsUri"],r);const i=v(e,["bigquerySource","inputUri"]);return i!=null&&y(t,["bigqueryUri"],i),t}function Eq(e,t){const n={};if(v(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=v(t,["fileName"]);r!=null&&y(n,["fileName"],r);const i=v(t,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Qq(e,l))),y(n,["requests","requests"],o)}return n}function Tq(e){const t={},n=v(e,["format"]);n!=null&&y(t,["instancesFormat"],n);const r=v(e,["gcsUri"]);r!=null&&y(t,["gcsSource","uris"],r);const i=v(e,["bigqueryUri"]);if(i!=null&&y(t,["bigquerySource","inputUri"],i),v(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Aq(e){const t={},n=v(e,["data"]);if(n!=null&&y(t,["data"],n),v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function Cq(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],Zs(e,r)),n}function kq(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],Zs(e,r)),n}function Nq(e){const t={},n=v(e,["content"]);n!=null&&y(t,["content"],n);const r=v(e,["citationMetadata"]);r!=null&&y(t,["citationMetadata"],Pq(r));const i=v(e,["tokenCount"]);i!=null&&y(t,["tokenCount"],i);const o=v(e,["finishReason"]);o!=null&&y(t,["finishReason"],o);const l=v(e,["avgLogprobs"]);l!=null&&y(t,["avgLogprobs"],l);const u=v(e,["groundingMetadata"]);u!=null&&y(t,["groundingMetadata"],u);const d=v(e,["index"]);d!=null&&y(t,["index"],d);const f=v(e,["logprobsResult"]);f!=null&&y(t,["logprobsResult"],f);const h=v(e,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(x=>x)),y(t,["safetyRatings"],g)}const m=v(e,["urlContextMetadata"]);return m!=null&&y(t,["urlContextMetadata"],m),t}function Pq(e){const t={},n=v(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(t,["citations"],r)}return t}function XO(e){const t={},n=v(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>s6(o))),y(t,["parts"],i)}const r=v(e,["role"]);return r!=null&&y(t,["role"],r),t}function Rq(e,t){const n={},r=v(e,["displayName"]);if(t!==void 0&&r!=null&&y(t,["batch","displayName"],r),v(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Oq(e,t){const n={},r=v(e,["displayName"]);t!==void 0&&r!=null&&y(t,["displayName"],r);const i=v(e,["dest"]);return t!==void 0&&i!=null&&y(t,["outputConfig"],_q(bq(i))),n}function OA(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=v(t,["src"]);i!=null&&y(n,["batch","inputConfig"],Eq(e,YO(e,i)));const o=v(t,["config"]);return o!=null&&Rq(o,n),n}function Mq(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["model"],Ve(e,r));const i=v(t,["src"]);i!=null&&y(n,["inputConfig"],Tq(YO(e,i)));const o=v(t,["config"]);return o!=null&&Oq(o,n),n}function Iq(e,t){const n={},r=v(e,["displayName"]);return t!==void 0&&r!=null&&y(t,["batch","displayName"],r),n}function Dq(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=v(t,["src"]);i!=null&&y(n,["batch","inputConfig"],qq(e,i));const o=v(t,["config"]);return o!=null&&Iq(o,n),n}function Uq(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],Zs(e,r)),n}function Lq(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],Zs(e,r)),n}function jq(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["name"]);r!=null&&y(t,["name"],r);const i=v(e,["done"]);i!=null&&y(t,["done"],i);const o=v(e,["error"]);return o!=null&&y(t,["error"],o),t}function Bq(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["name"]);r!=null&&y(t,["name"],r);const i=v(e,["done"]);i!=null&&y(t,["done"],i);const o=v(e,["error"]);return o!=null&&y(t,["error"],o),t}function zq(e,t){const n={},r=v(t,["contents"]);if(r!=null){let o=$b(e,r);Array.isArray(o)&&(o=o.map(l=>l)),y(n,["requests[]","request","content"],o)}const i=v(t,["config"]);return i!=null&&(y(n,["_self"],$q(i,n)),L$(n,{"requests[].*":"requests[].request.*"})),n}function $q(e,t){const n={},r=v(e,["taskType"]);t!==void 0&&r!=null&&y(t,["requests[]","taskType"],r);const i=v(e,["title"]);t!==void 0&&i!=null&&y(t,["requests[]","title"],i);const o=v(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&y(t,["requests[]","outputDimensionality"],o),v(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function qq(e,t){const n={},r=v(t,["fileName"]);r!=null&&y(n,["file_name"],r);const i=v(t,["inlinedRequests"]);return i!=null&&y(n,["requests"],zq(e,i)),n}function Hq(e){const t={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function Gq(e){const t={},n=v(e,["id"]);n!=null&&y(t,["id"],n);const r=v(e,["args"]);r!=null&&y(t,["args"],r);const i=v(e,["name"]);if(i!=null&&y(t,["name"],i),v(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Vq(e){const t={},n=v(e,["mode"]);n!=null&&y(t,["mode"],n);const r=v(e,["allowedFunctionNames"]);if(r!=null&&y(t,["allowedFunctionNames"],r),v(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Fq(e,t,n){const r={},i=v(t,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],XO(gn(i)));const o=v(t,["temperature"]);o!=null&&y(r,["temperature"],o);const l=v(t,["topP"]);l!=null&&y(r,["topP"],l);const u=v(t,["topK"]);u!=null&&y(r,["topK"],u);const d=v(t,["candidateCount"]);d!=null&&y(r,["candidateCount"],d);const f=v(t,["maxOutputTokens"]);f!=null&&y(r,["maxOutputTokens"],f);const h=v(t,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=v(t,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const g=v(t,["logprobs"]);g!=null&&y(r,["logprobs"],g);const x=v(t,["presencePenalty"]);x!=null&&y(r,["presencePenalty"],x);const S=v(t,["frequencyPenalty"]);S!=null&&y(r,["frequencyPenalty"],S);const E=v(t,["seed"]);E!=null&&y(r,["seed"],E);const T=v(t,["responseMimeType"]);T!=null&&y(r,["responseMimeType"],T);const C=v(t,["responseSchema"]);C!=null&&y(r,["responseSchema"],qb(C));const P=v(t,["responseJsonSchema"]);if(P!=null&&y(r,["responseJsonSchema"],P),v(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=v(t,["safetySettings"]);if(n!==void 0&&N!=null){let se=N;Array.isArray(se)&&(se=se.map(de=>l6(de))),y(n,["safetySettings"],se)}const R=v(t,["tools"]);if(n!==void 0&&R!=null){let se=Xs(R);Array.isArray(se)&&(se=se.map(de=>c6(Js(de)))),y(n,["tools"],se)}const M=v(t,["toolConfig"]);if(n!==void 0&&M!=null&&y(n,["toolConfig"],u6(M)),v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=v(t,["cachedContent"]);n!==void 0&&I!=null&&y(n,["cachedContent"],Ui(e,I));const D=v(t,["responseModalities"]);D!=null&&y(r,["responseModalities"],D);const F=v(t,["mediaResolution"]);F!=null&&y(r,["mediaResolution"],F);const $=v(t,["speechConfig"]);if($!=null&&y(r,["speechConfig"],Hb($)),v(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Q=v(t,["thinkingConfig"]);Q!=null&&y(r,["thinkingConfig"],Q);const W=v(t,["imageConfig"]);W!=null&&y(r,["imageConfig"],Zq(W));const ne=v(t,["enableEnhancedCivicAnswers"]);return ne!=null&&y(r,["enableEnhancedCivicAnswers"],ne),r}function Kq(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>Nq(f))),y(t,["candidates"],d)}const i=v(e,["modelVersion"]);i!=null&&y(t,["modelVersion"],i);const o=v(e,["promptFeedback"]);o!=null&&y(t,["promptFeedback"],o);const l=v(e,["responseId"]);l!=null&&y(t,["responseId"],l);const u=v(e,["usageMetadata"]);return u!=null&&y(t,["usageMetadata"],u),t}function Yq(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],Zs(e,r)),n}function Wq(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],Zs(e,r)),n}function Jq(e){const t={};if(v(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function Xq(e){const t={};if(v(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function Zq(e){const t={},n=v(e,["aspectRatio"]);n!=null&&y(t,["aspectRatio"],n);const r=v(e,["imageSize"]);if(r!=null&&y(t,["imageSize"],r),v(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function Qq(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["request","model"],Ve(e,r));const i=v(t,["contents"]);if(i!=null){let u=mr(i);Array.isArray(u)&&(u=u.map(d=>XO(d))),y(n,["request","contents"],u)}const o=v(t,["metadata"]);o!=null&&y(n,["metadata"],o);const l=v(t,["config"]);return l!=null&&y(n,["request","generationConfig"],Fq(e,l,v(n,["request"],{}))),n}function e6(e){const t={},n=v(e,["response"]);n!=null&&y(t,["response"],Kq(n));const r=v(e,["error"]);return r!=null&&y(t,["error"],r),t}function t6(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);if(t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),v(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function n6(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);t!==void 0&&i!=null&&y(t,["_query","pageToken"],i);const o=v(e,["filter"]);return t!==void 0&&o!=null&&y(t,["_query","filter"],o),n}function r6(e){const t={},n=v(e,["config"]);return n!=null&&t6(n,t),t}function i6(e){const t={},n=v(e,["config"]);return n!=null&&n6(n,t),t}function a6(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=v(e,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>xf(l))),y(t,["batchJobs"],o)}return t}function o6(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=v(e,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>x0(l))),y(t,["batchJobs"],o)}return t}function s6(e){const t={},n=v(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=v(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=v(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const o=v(e,["fileData"]);o!=null&&y(t,["fileData"],Hq(o));const l=v(e,["functionCall"]);l!=null&&y(t,["functionCall"],Gq(l));const u=v(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const d=v(e,["inlineData"]);d!=null&&y(t,["inlineData"],Aq(d));const f=v(e,["text"]);f!=null&&y(t,["text"],f);const h=v(e,["thought"]);h!=null&&y(t,["thought"],h);const m=v(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const g=v(e,["videoMetadata"]);return g!=null&&y(t,["videoMetadata"],g),t}function l6(e){const t={},n=v(e,["category"]);if(n!=null&&y(t,["category"],n),v(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(e,["threshold"]);return r!=null&&y(t,["threshold"],r),t}function u6(e){const t={},n=v(e,["functionCallingConfig"]);n!=null&&y(t,["functionCallingConfig"],Vq(n));const r=v(e,["retrievalConfig"]);return r!=null&&y(t,["retrievalConfig"],r),t}function c6(e){const t={},n=v(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(e,["googleSearchRetrieval"]);r!=null&&y(t,["googleSearchRetrieval"],r);const i=v(e,["computerUse"]);i!=null&&y(t,["computerUse"],i);const o=v(e,["fileSearch"]);o!=null&&y(t,["fileSearch"],o);const l=v(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=v(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],Jq(u));const d=v(e,["googleSearch"]);d!=null&&y(t,["googleSearch"],Xq(d));const f=v(e,["urlContext"]);return f!=null&&y(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ai;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Ai||(Ai={}));class wo{constructor(t,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,o;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(o=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class d6 extends Di{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new wo(Ai.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=OA(this.apiClient,t),r=n._url,i=le("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,d=u.requests,f=[];for(const h of d){const m=Object.assign({},h);if(m.systemInstruction){const g=m.systemInstruction;delete m.systemInstruction;const x=m.request;x.systemInstruction=g,m.request=x}f.push(m)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(t),l=this.getBigqueryUri(t);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Mq(this.apiClient,t);return u=le("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>x0(h))}else{const f=OA(this.apiClient,t);return u=le("{model}:batchGenerateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>xf(h))}}async createEmbeddingsInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Dq(this.apiClient,t);return o=le("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>xf(d))}}async get(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Wq(this.apiClient,t);return u=le("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>x0(h))}else{const f=Yq(this.apiClient,t);return u=le("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>xf(h))}}async cancel(t){var n,r,i,o;let l="",u={};if(this.apiClient.isVertexAI()){const d=kq(this.apiClient,t);l=le("batchPredictionJobs/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const d=Cq(this.apiClient,t);l=le("batches/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=i6(t);return u=le("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=o6(h),g=new kA;return Object.assign(g,m),g})}else{const f=r6(t);return u=le("batches",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=a6(h),g=new kA;return Object.assign(g,m),g})}}async delete(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Lq(this.apiClient,t);return u=le("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>Bq(h))}else{const f=Uq(this.apiClient,t);return u=le("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>jq(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function f6(e){const t={},n=v(e,["data"]);if(n!=null&&y(t,["data"],n),v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function MA(e){const t={},n=v(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>D6(o))),y(t,["parts"],i)}const r=v(e,["role"]);return r!=null&&y(t,["role"],r),t}function h6(e,t){const n={},r=v(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=v(e,["expireTime"]);t!==void 0&&i!=null&&y(t,["expireTime"],i);const o=v(e,["displayName"]);t!==void 0&&o!=null&&y(t,["displayName"],o);const l=v(e,["contents"]);if(t!==void 0&&l!=null){let h=mr(l);Array.isArray(h)&&(h=h.map(m=>MA(m))),y(t,["contents"],h)}const u=v(e,["systemInstruction"]);t!==void 0&&u!=null&&y(t,["systemInstruction"],MA(gn(u)));const d=v(e,["tools"]);if(t!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(m=>L6(m))),y(t,["tools"],h)}const f=v(e,["toolConfig"]);if(t!==void 0&&f!=null&&y(t,["toolConfig"],U6(f)),v(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function p6(e,t){const n={},r=v(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=v(e,["expireTime"]);t!==void 0&&i!=null&&y(t,["expireTime"],i);const o=v(e,["displayName"]);t!==void 0&&o!=null&&y(t,["displayName"],o);const l=v(e,["contents"]);if(t!==void 0&&l!=null){let m=mr(l);Array.isArray(m)&&(m=m.map(g=>g)),y(t,["contents"],m)}const u=v(e,["systemInstruction"]);t!==void 0&&u!=null&&y(t,["systemInstruction"],gn(u));const d=v(e,["tools"]);if(t!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>j6(g))),y(t,["tools"],m)}const f=v(e,["toolConfig"]);t!==void 0&&f!=null&&y(t,["toolConfig"],f);const h=v(e,["kmsKeyName"]);return t!==void 0&&h!=null&&y(t,["encryption_spec","kmsKeyName"],h),n}function m6(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["model"],BO(e,r));const i=v(t,["config"]);return i!=null&&h6(i,n),n}function v6(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["model"],BO(e,r));const i=v(t,["config"]);return i!=null&&p6(i,n),n}function g6(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],Ui(e,r)),n}function y6(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],Ui(e,r)),n}function b6(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function x6(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function w6(e){const t={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function _6(e){const t={},n=v(e,["id"]);n!=null&&y(t,["id"],n);const r=v(e,["args"]);r!=null&&y(t,["args"],r);const i=v(e,["name"]);if(i!=null&&y(t,["name"],i),v(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function S6(e){const t={},n=v(e,["mode"]);n!=null&&y(t,["mode"],n);const r=v(e,["allowedFunctionNames"]);if(r!=null&&y(t,["allowedFunctionNames"],r),v(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function E6(e){const t={};if(v(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(e,["description"]);n!=null&&y(t,["description"],n);const r=v(e,["name"]);r!=null&&y(t,["name"],r);const i=v(e,["parameters"]);i!=null&&y(t,["parameters"],i);const o=v(e,["parametersJsonSchema"]);o!=null&&y(t,["parametersJsonSchema"],o);const l=v(e,["response"]);l!=null&&y(t,["response"],l);const u=v(e,["responseJsonSchema"]);return u!=null&&y(t,["responseJsonSchema"],u),t}function T6(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],Ui(e,r)),n}function A6(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],Ui(e,r)),n}function C6(e){const t={};if(v(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function k6(e){const t={};if(v(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function N6(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function P6(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function R6(e){const t={},n=v(e,["config"]);return n!=null&&N6(n,t),t}function O6(e){const t={},n=v(e,["config"]);return n!=null&&P6(n,t),t}function M6(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=v(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(t,["cachedContents"],o)}return t}function I6(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=v(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(t,["cachedContents"],o)}return t}function D6(e){const t={},n=v(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=v(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=v(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const o=v(e,["fileData"]);o!=null&&y(t,["fileData"],w6(o));const l=v(e,["functionCall"]);l!=null&&y(t,["functionCall"],_6(l));const u=v(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const d=v(e,["inlineData"]);d!=null&&y(t,["inlineData"],f6(d));const f=v(e,["text"]);f!=null&&y(t,["text"],f);const h=v(e,["thought"]);h!=null&&y(t,["thought"],h);const m=v(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const g=v(e,["videoMetadata"]);return g!=null&&y(t,["videoMetadata"],g),t}function U6(e){const t={},n=v(e,["functionCallingConfig"]);n!=null&&y(t,["functionCallingConfig"],S6(n));const r=v(e,["retrievalConfig"]);return r!=null&&y(t,["retrievalConfig"],r),t}function L6(e){const t={},n=v(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(e,["googleSearchRetrieval"]);r!=null&&y(t,["googleSearchRetrieval"],r);const i=v(e,["computerUse"]);i!=null&&y(t,["computerUse"],i);const o=v(e,["fileSearch"]);o!=null&&y(t,["fileSearch"],o);const l=v(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=v(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],C6(u));const d=v(e,["googleSearch"]);d!=null&&y(t,["googleSearch"],k6(d));const f=v(e,["urlContext"]);return f!=null&&y(t,["urlContext"],f),t}function j6(e){const t={},n=v(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(g=>E6(g))),y(t,["functionDeclarations"],m)}const r=v(e,["retrieval"]);r!=null&&y(t,["retrieval"],r);const i=v(e,["googleSearchRetrieval"]);i!=null&&y(t,["googleSearchRetrieval"],i);const o=v(e,["computerUse"]);if(o!=null&&y(t,["computerUse"],o),v(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=v(e,["codeExecution"]);l!=null&&y(t,["codeExecution"],l);const u=v(e,["enterpriseWebSearch"]);u!=null&&y(t,["enterpriseWebSearch"],u);const d=v(e,["googleMaps"]);d!=null&&y(t,["googleMaps"],d);const f=v(e,["googleSearch"]);f!=null&&y(t,["googleSearch"],f);const h=v(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}function B6(e,t){const n={},r=v(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=v(e,["expireTime"]);return t!==void 0&&i!=null&&y(t,["expireTime"],i),n}function z6(e,t){const n={},r=v(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=v(e,["expireTime"]);return t!==void 0&&i!=null&&y(t,["expireTime"],i),n}function $6(e,t){const n={},r=v(t,["name"]);r!=null&&y(n,["_url","name"],Ui(e,r));const i=v(t,["config"]);return i!=null&&B6(i,n),n}function q6(e,t){const n={},r=v(t,["name"]);r!=null&&y(n,["_url","name"],Ui(e,r));const i=v(t,["config"]);return i!=null&&z6(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class H6 extends Di{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new wo(Ai.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=v6(this.apiClient,t);return u=le("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const f=m6(this.apiClient,t);return u=le("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async get(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=A6(this.apiClient,t);return u=le("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const f=T6(this.apiClient,t);return u=le("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async delete(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=y6(this.apiClient,t);return u=le("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=x6(h),g=new AA;return Object.assign(g,m),g})}else{const f=g6(this.apiClient,t);return u=le("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=b6(h),g=new AA;return Object.assign(g,m),g})}}async update(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=q6(this.apiClient,t);return u=le("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const f=$6(this.apiClient,t);return u=le("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async listInternal(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=O6(t);return u=le("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=I6(h),g=new CA;return Object.assign(g,m),g})}else{const f=R6(t);return u=le("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=M6(h),g=new CA;return Object.assign(g,m),g})}}}function Mf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function IA(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ce(e){return this instanceof Ce?(this.v=e,this):new Ce(e)}function Or(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(x){return function(S){return Promise.resolve(S).then(x,m)}}function u(x,S){r[x]&&(i[x]=function(E){return new Promise(function(T,C){o.push([x,E,T,C])>1||d(x,E)})},S&&(i[x]=S(i[x])))}function d(x,S){try{f(r[x](S))}catch(E){g(o[0][3],E)}}function f(x){x.value instanceof Ce?Promise.resolve(x.value.v).then(h,m):g(o[0][2],x)}function h(x){d("next",x)}function m(x){d("throw",x)}function g(x,S){x(S),o.shift(),o.length&&d(o[0][0],o[0][1])}}function Mr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof IA=="function"?IA(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(l){return new Promise(function(u,d){l=e[o](l),i(u,d,l.done,l.value)})}}function i(o,l,u,d){Promise.resolve(d).then(function(f){o({value:f,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function G6(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:ZO(n)}function ZO(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function V6(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function DA(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const i=[];let o=!0;for(;r<n&&e[r].role==="model";)i.push(e[r]),o&&!ZO(e[r])&&(o=!1),r++;o?t.push(...i):t.pop()}return t}class F6{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new K6(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class K6{constructor(t,n,r,i={},o=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),V6(o)}async sendMessage(t){var n;await this.sendPromise;const r=gn(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,l,u;const d=await i,f=(l=(o=d.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content,h=d.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let g=[];h!=null&&(g=(u=h.slice(m))!==null&&u!==void 0?u:[]);const x=f?[f]:[];this.recordHistory(r,x,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const r=gn(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(t=!1){const n=t?DA(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return Or(this,arguments,function*(){var i,o,l,u,d,f;const h=[];try{for(var m=!0,g=Mr(t),x;x=yield Ce(g.next()),i=x.done,!i;m=!0){u=x.value,m=!1;const S=u;if(G6(S)){const E=(f=(d=S.candidates)===null||d===void 0?void 0:d[0])===null||f===void 0?void 0:f.content;E!==void 0&&h.push(E)}yield yield Ce(S)}}catch(S){o={error:S}}finally{try{!m&&!i&&(l=g.return)&&(yield Ce(l.call(g)))}finally{if(o)throw o.error}}this.recordHistory(n,h)})}recordHistory(t,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...DA(r)):this.history.push(t),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Oh extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Oh.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Y6(e){const t={},n=v(e,["file"]);return n!=null&&y(t,["file"],n),t}function W6(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function J6(e){const t={},n=v(e,["name"]);return n!=null&&y(t,["_url","file"],VO(n)),t}function X6(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function Z6(e){const t={},n=v(e,["name"]);return n!=null&&y(t,["_url","file"],VO(n)),t}function Q6(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function e8(e){const t={},n=v(e,["config"]);return n!=null&&Q6(n,t),t}function t8(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=v(e,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(t,["files"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class n8 extends Di{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new wo(Ai.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=e8(t);return o=le("files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=t8(d),h=new oq;return Object.assign(h,f),h})}}async createInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Y6(t);return o=le("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=W6(d),h=new sq;return Object.assign(h,f),h})}}async get(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Z6(t);return o=le("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=J6(t);return o=le("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=X6(d),h=new lq;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wf(e){const t={},n=v(e,["data"]);if(n!=null&&y(t,["data"],n),v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function r8(e){const t={},n=v(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>b8(o))),y(t,["parts"],i)}const r=v(e,["role"]);return r!=null&&y(t,["role"],r),t}function i8(e){const t={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function a8(e){const t={},n=v(e,["id"]);n!=null&&y(t,["id"],n);const r=v(e,["args"]);r!=null&&y(t,["args"],r);const i=v(e,["name"]);if(i!=null&&y(t,["name"],i),v(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function o8(e){const t={};if(v(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(e,["description"]);n!=null&&y(t,["description"],n);const r=v(e,["name"]);r!=null&&y(t,["name"],r);const i=v(e,["parameters"]);i!=null&&y(t,["parameters"],i);const o=v(e,["parametersJsonSchema"]);o!=null&&y(t,["parametersJsonSchema"],o);const l=v(e,["response"]);l!=null&&y(t,["response"],l);const u=v(e,["responseJsonSchema"]);return u!=null&&y(t,["responseJsonSchema"],u),t}function s8(e){const t={},n=v(e,["modelSelectionConfig"]);n!=null&&y(t,["modelConfig"],n);const r=v(e,["responseJsonSchema"]);r!=null&&y(t,["responseJsonSchema"],r);const i=v(e,["audioTimestamp"]);i!=null&&y(t,["audioTimestamp"],i);const o=v(e,["candidateCount"]);o!=null&&y(t,["candidateCount"],o);const l=v(e,["enableAffectiveDialog"]);l!=null&&y(t,["enableAffectiveDialog"],l);const u=v(e,["frequencyPenalty"]);u!=null&&y(t,["frequencyPenalty"],u);const d=v(e,["logprobs"]);d!=null&&y(t,["logprobs"],d);const f=v(e,["maxOutputTokens"]);f!=null&&y(t,["maxOutputTokens"],f);const h=v(e,["mediaResolution"]);h!=null&&y(t,["mediaResolution"],h);const m=v(e,["presencePenalty"]);m!=null&&y(t,["presencePenalty"],m);const g=v(e,["responseLogprobs"]);g!=null&&y(t,["responseLogprobs"],g);const x=v(e,["responseMimeType"]);x!=null&&y(t,["responseMimeType"],x);const S=v(e,["responseModalities"]);S!=null&&y(t,["responseModalities"],S);const E=v(e,["responseSchema"]);E!=null&&y(t,["responseSchema"],E);const T=v(e,["routingConfig"]);T!=null&&y(t,["routingConfig"],T);const C=v(e,["seed"]);C!=null&&y(t,["seed"],C);const P=v(e,["speechConfig"]);P!=null&&y(t,["speechConfig"],P);const N=v(e,["stopSequences"]);N!=null&&y(t,["stopSequences"],N);const R=v(e,["temperature"]);R!=null&&y(t,["temperature"],R);const M=v(e,["thinkingConfig"]);M!=null&&y(t,["thinkingConfig"],M);const I=v(e,["topK"]);I!=null&&y(t,["topK"],I);const D=v(e,["topP"]);if(D!=null&&y(t,["topP"],D),v(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function l8(e){const t={};if(v(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function u8(e){const t={};if(v(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function c8(e,t){const n={},r=v(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],r);const i=v(e,["responseModalities"]);t!==void 0&&i!=null&&y(t,["setup","generationConfig","responseModalities"],i);const o=v(e,["temperature"]);t!==void 0&&o!=null&&y(t,["setup","generationConfig","temperature"],o);const l=v(e,["topP"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","topP"],l);const u=v(e,["topK"]);t!==void 0&&u!=null&&y(t,["setup","generationConfig","topK"],u);const d=v(e,["maxOutputTokens"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","maxOutputTokens"],d);const f=v(e,["mediaResolution"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","mediaResolution"],f);const h=v(e,["seed"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","seed"],h);const m=v(e,["speechConfig"]);t!==void 0&&m!=null&&y(t,["setup","generationConfig","speechConfig"],Gb(m));const g=v(e,["thinkingConfig"]);t!==void 0&&g!=null&&y(t,["setup","generationConfig","thinkingConfig"],g);const x=v(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],x);const S=v(e,["systemInstruction"]);t!==void 0&&S!=null&&y(t,["setup","systemInstruction"],r8(gn(S)));const E=v(e,["tools"]);if(t!==void 0&&E!=null){let I=Xs(E);Array.isArray(I)&&(I=I.map(D=>w8(Js(D)))),y(t,["setup","tools"],I)}const T=v(e,["sessionResumption"]);t!==void 0&&T!=null&&y(t,["setup","sessionResumption"],x8(T));const C=v(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&y(t,["setup","inputAudioTranscription"],C);const P=v(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&y(t,["setup","outputAudioTranscription"],P);const N=v(e,["realtimeInputConfig"]);t!==void 0&&N!=null&&y(t,["setup","realtimeInputConfig"],N);const R=v(e,["contextWindowCompression"]);t!==void 0&&R!=null&&y(t,["setup","contextWindowCompression"],R);const M=v(e,["proactivity"]);if(t!==void 0&&M!=null&&y(t,["setup","proactivity"],M),v(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function d8(e,t){const n={},r=v(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],s8(r));const i=v(e,["responseModalities"]);t!==void 0&&i!=null&&y(t,["setup","generationConfig","responseModalities"],i);const o=v(e,["temperature"]);t!==void 0&&o!=null&&y(t,["setup","generationConfig","temperature"],o);const l=v(e,["topP"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","topP"],l);const u=v(e,["topK"]);t!==void 0&&u!=null&&y(t,["setup","generationConfig","topK"],u);const d=v(e,["maxOutputTokens"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","maxOutputTokens"],d);const f=v(e,["mediaResolution"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","mediaResolution"],f);const h=v(e,["seed"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","seed"],h);const m=v(e,["speechConfig"]);t!==void 0&&m!=null&&y(t,["setup","generationConfig","speechConfig"],Gb(m));const g=v(e,["thinkingConfig"]);t!==void 0&&g!=null&&y(t,["setup","generationConfig","thinkingConfig"],g);const x=v(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],x);const S=v(e,["systemInstruction"]);t!==void 0&&S!=null&&y(t,["setup","systemInstruction"],gn(S));const E=v(e,["tools"]);if(t!==void 0&&E!=null){let D=Xs(E);Array.isArray(D)&&(D=D.map(F=>_8(Js(F)))),y(t,["setup","tools"],D)}const T=v(e,["sessionResumption"]);t!==void 0&&T!=null&&y(t,["setup","sessionResumption"],T);const C=v(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&y(t,["setup","inputAudioTranscription"],C);const P=v(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&y(t,["setup","outputAudioTranscription"],P);const N=v(e,["realtimeInputConfig"]);t!==void 0&&N!=null&&y(t,["setup","realtimeInputConfig"],N);const R=v(e,["contextWindowCompression"]);t!==void 0&&R!=null&&y(t,["setup","contextWindowCompression"],R);const M=v(e,["proactivity"]);t!==void 0&&M!=null&&y(t,["setup","proactivity"],M);const I=v(e,["explicitVadSignal"]);return t!==void 0&&I!=null&&y(t,["setup","explicitVadSignal"],I),n}function f8(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["setup","model"],Ve(e,r));const i=v(t,["config"]);return i!=null&&y(n,["config"],c8(i,n)),n}function h8(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["setup","model"],Ve(e,r));const i=v(t,["config"]);return i!=null&&y(n,["config"],d8(i,n)),n}function p8(e){const t={},n=v(e,["musicGenerationConfig"]);return n!=null&&y(t,["musicGenerationConfig"],n),t}function m8(e){const t={},n=v(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(t,["weightedPrompts"],r)}return t}function v8(e){const t={},n=v(e,["media"]);if(n!=null){let f=zO(n);Array.isArray(f)&&(f=f.map(h=>wf(h))),y(t,["mediaChunks"],f)}const r=v(e,["audio"]);r!=null&&y(t,["audio"],wf(qO(r)));const i=v(e,["audioStreamEnd"]);i!=null&&y(t,["audioStreamEnd"],i);const o=v(e,["video"]);o!=null&&y(t,["video"],wf($O(o)));const l=v(e,["text"]);l!=null&&y(t,["text"],l);const u=v(e,["activityStart"]);u!=null&&y(t,["activityStart"],u);const d=v(e,["activityEnd"]);return d!=null&&y(t,["activityEnd"],d),t}function g8(e){const t={},n=v(e,["media"]);if(n!=null){let f=zO(n);Array.isArray(f)&&(f=f.map(h=>h)),y(t,["mediaChunks"],f)}const r=v(e,["audio"]);r!=null&&y(t,["audio"],qO(r));const i=v(e,["audioStreamEnd"]);i!=null&&y(t,["audioStreamEnd"],i);const o=v(e,["video"]);o!=null&&y(t,["video"],$O(o));const l=v(e,["text"]);l!=null&&y(t,["text"],l);const u=v(e,["activityStart"]);u!=null&&y(t,["activityStart"],u);const d=v(e,["activityEnd"]);return d!=null&&y(t,["activityEnd"],d),t}function y8(e){const t={},n=v(e,["setupComplete"]);n!=null&&y(t,["setupComplete"],n);const r=v(e,["serverContent"]);r!=null&&y(t,["serverContent"],r);const i=v(e,["toolCall"]);i!=null&&y(t,["toolCall"],i);const o=v(e,["toolCallCancellation"]);o!=null&&y(t,["toolCallCancellation"],o);const l=v(e,["usageMetadata"]);l!=null&&y(t,["usageMetadata"],S8(l));const u=v(e,["goAway"]);u!=null&&y(t,["goAway"],u);const d=v(e,["sessionResumptionUpdate"]);d!=null&&y(t,["sessionResumptionUpdate"],d);const f=v(e,["voiceActivityDetectionSignal"]);return f!=null&&y(t,["voiceActivityDetectionSignal"],f),t}function b8(e){const t={},n=v(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=v(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=v(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const o=v(e,["fileData"]);o!=null&&y(t,["fileData"],i8(o));const l=v(e,["functionCall"]);l!=null&&y(t,["functionCall"],a8(l));const u=v(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const d=v(e,["inlineData"]);d!=null&&y(t,["inlineData"],wf(d));const f=v(e,["text"]);f!=null&&y(t,["text"],f);const h=v(e,["thought"]);h!=null&&y(t,["thought"],h);const m=v(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const g=v(e,["videoMetadata"]);return g!=null&&y(t,["videoMetadata"],g),t}function x8(e){const t={},n=v(e,["handle"]);if(n!=null&&y(t,["handle"],n),v(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function w8(e){const t={},n=v(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(e,["googleSearchRetrieval"]);r!=null&&y(t,["googleSearchRetrieval"],r);const i=v(e,["computerUse"]);i!=null&&y(t,["computerUse"],i);const o=v(e,["fileSearch"]);o!=null&&y(t,["fileSearch"],o);const l=v(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=v(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],l8(u));const d=v(e,["googleSearch"]);d!=null&&y(t,["googleSearch"],u8(d));const f=v(e,["urlContext"]);return f!=null&&y(t,["urlContext"],f),t}function _8(e){const t={},n=v(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(g=>o8(g))),y(t,["functionDeclarations"],m)}const r=v(e,["retrieval"]);r!=null&&y(t,["retrieval"],r);const i=v(e,["googleSearchRetrieval"]);i!=null&&y(t,["googleSearchRetrieval"],i);const o=v(e,["computerUse"]);if(o!=null&&y(t,["computerUse"],o),v(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=v(e,["codeExecution"]);l!=null&&y(t,["codeExecution"],l);const u=v(e,["enterpriseWebSearch"]);u!=null&&y(t,["enterpriseWebSearch"],u);const d=v(e,["googleMaps"]);d!=null&&y(t,["googleMaps"],d);const f=v(e,["googleSearch"]);f!=null&&y(t,["googleSearch"],f);const h=v(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}function S8(e){const t={},n=v(e,["promptTokenCount"]);n!=null&&y(t,["promptTokenCount"],n);const r=v(e,["cachedContentTokenCount"]);r!=null&&y(t,["cachedContentTokenCount"],r);const i=v(e,["candidatesTokenCount"]);i!=null&&y(t,["responseTokenCount"],i);const o=v(e,["toolUsePromptTokenCount"]);o!=null&&y(t,["toolUsePromptTokenCount"],o);const l=v(e,["thoughtsTokenCount"]);l!=null&&y(t,["thoughtsTokenCount"],l);const u=v(e,["totalTokenCount"]);u!=null&&y(t,["totalTokenCount"],u);const d=v(e,["promptTokensDetails"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(S=>S)),y(t,["promptTokensDetails"],x)}const f=v(e,["cacheTokensDetails"]);if(f!=null){let x=f;Array.isArray(x)&&(x=x.map(S=>S)),y(t,["cacheTokensDetails"],x)}const h=v(e,["candidatesTokensDetails"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(S=>S)),y(t,["responseTokensDetails"],x)}const m=v(e,["toolUsePromptTokensDetails"]);if(m!=null){let x=m;Array.isArray(x)&&(x=x.map(S=>S)),y(t,["toolUsePromptTokensDetails"],x)}const g=v(e,["trafficType"]);return g!=null&&y(t,["trafficType"],g),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function E8(e){const t={},n=v(e,["data"]);if(n!=null&&y(t,["data"],n),v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function T8(e){const t={},n=v(e,["content"]);n!=null&&y(t,["content"],n);const r=v(e,["citationMetadata"]);r!=null&&y(t,["citationMetadata"],A8(r));const i=v(e,["tokenCount"]);i!=null&&y(t,["tokenCount"],i);const o=v(e,["finishReason"]);o!=null&&y(t,["finishReason"],o);const l=v(e,["avgLogprobs"]);l!=null&&y(t,["avgLogprobs"],l);const u=v(e,["groundingMetadata"]);u!=null&&y(t,["groundingMetadata"],u);const d=v(e,["index"]);d!=null&&y(t,["index"],d);const f=v(e,["logprobsResult"]);f!=null&&y(t,["logprobsResult"],f);const h=v(e,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(x=>x)),y(t,["safetyRatings"],g)}const m=v(e,["urlContextMetadata"]);return m!=null&&y(t,["urlContextMetadata"],m),t}function A8(e){const t={},n=v(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(t,["citations"],r)}return t}function C8(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=v(t,["contents"]);if(i!=null){let o=mr(i);Array.isArray(o)&&(o=o.map(l=>l)),y(n,["contents"],o)}return n}function k8(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),y(t,["tokensInfo"],i)}return t}function N8(e){const t={},n=v(e,["values"]);n!=null&&y(t,["values"],n);const r=v(e,["statistics"]);return r!=null&&y(t,["statistics"],P8(r)),t}function P8(e){const t={},n=v(e,["truncated"]);n!=null&&y(t,["truncated"],n);const r=v(e,["token_count"]);return r!=null&&y(t,["tokenCount"],r),t}function Mh(e){const t={},n=v(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>BH(o))),y(t,["parts"],i)}const r=v(e,["role"]);return r!=null&&y(t,["role"],r),t}function R8(e){const t={},n=v(e,["controlType"]);n!=null&&y(t,["controlType"],n);const r=v(e,["enableControlImageComputation"]);return r!=null&&y(t,["computeControl"],r),t}function O8(e){const t={};if(v(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(v(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(v(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function M8(e,t){const n={},r=v(e,["systemInstruction"]);t!==void 0&&r!=null&&y(t,["systemInstruction"],gn(r));const i=v(e,["tools"]);if(t!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>nM(u))),y(t,["tools"],l)}const o=v(e,["generationConfig"]);return t!==void 0&&o!=null&&y(t,["generationConfig"],EH(o)),n}function I8(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=v(t,["contents"]);if(i!=null){let l=mr(i);Array.isArray(l)&&(l=l.map(u=>Mh(u))),y(n,["contents"],l)}const o=v(t,["config"]);return o!=null&&O8(o),n}function D8(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=v(t,["contents"]);if(i!=null){let l=mr(i);Array.isArray(l)&&(l=l.map(u=>u)),y(n,["contents"],l)}const o=v(t,["config"]);return o!=null&&M8(o,n),n}function U8(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["totalTokens"]);r!=null&&y(t,["totalTokens"],r);const i=v(e,["cachedContentTokenCount"]);return i!=null&&y(t,["cachedContentTokenCount"],i),t}function L8(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["totalTokens"]);return r!=null&&y(t,["totalTokens"],r),t}function j8(e,t){const n={},r=v(t,["model"]);return r!=null&&y(n,["_url","name"],Ve(e,r)),n}function B8(e,t){const n={},r=v(t,["model"]);return r!=null&&y(n,["_url","name"],Ve(e,r)),n}function z8(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function $8(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function q8(e,t){const n={},r=v(e,["outputGcsUri"]);t!==void 0&&r!=null&&y(t,["parameters","storageUri"],r);const i=v(e,["negativePrompt"]);t!==void 0&&i!=null&&y(t,["parameters","negativePrompt"],i);const o=v(e,["numberOfImages"]);t!==void 0&&o!=null&&y(t,["parameters","sampleCount"],o);const l=v(e,["aspectRatio"]);t!==void 0&&l!=null&&y(t,["parameters","aspectRatio"],l);const u=v(e,["guidanceScale"]);t!==void 0&&u!=null&&y(t,["parameters","guidanceScale"],u);const d=v(e,["seed"]);t!==void 0&&d!=null&&y(t,["parameters","seed"],d);const f=v(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&y(t,["parameters","safetySetting"],f);const h=v(e,["personGeneration"]);t!==void 0&&h!=null&&y(t,["parameters","personGeneration"],h);const m=v(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&y(t,["parameters","includeSafetyAttributes"],m);const g=v(e,["includeRaiReason"]);t!==void 0&&g!=null&&y(t,["parameters","includeRaiReason"],g);const x=v(e,["language"]);t!==void 0&&x!=null&&y(t,["parameters","language"],x);const S=v(e,["outputMimeType"]);t!==void 0&&S!=null&&y(t,["parameters","outputOptions","mimeType"],S);const E=v(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&y(t,["parameters","outputOptions","compressionQuality"],E);const T=v(e,["addWatermark"]);t!==void 0&&T!=null&&y(t,["parameters","addWatermark"],T);const C=v(e,["labels"]);t!==void 0&&C!=null&&y(t,["labels"],C);const P=v(e,["editMode"]);t!==void 0&&P!=null&&y(t,["parameters","editMode"],P);const N=v(e,["baseSteps"]);return t!==void 0&&N!=null&&y(t,["parameters","editConfig","baseSteps"],N),n}function H8(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=v(t,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=v(t,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>VH(d))),y(n,["instances[0]","referenceImages"],u)}const l=v(t,["config"]);return l!=null&&q8(l,n),n}function G8(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Ih(o))),y(t,["generatedImages"],i)}return t}function V8(e,t){const n={},r=v(e,["taskType"]);t!==void 0&&r!=null&&y(t,["requests[]","taskType"],r);const i=v(e,["title"]);t!==void 0&&i!=null&&y(t,["requests[]","title"],i);const o=v(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&y(t,["requests[]","outputDimensionality"],o),v(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function F8(e,t){const n={},r=v(e,["taskType"]);t!==void 0&&r!=null&&y(t,["instances[]","task_type"],r);const i=v(e,["title"]);t!==void 0&&i!=null&&y(t,["instances[]","title"],i);const o=v(e,["outputDimensionality"]);t!==void 0&&o!=null&&y(t,["parameters","outputDimensionality"],o);const l=v(e,["mimeType"]);t!==void 0&&l!=null&&y(t,["instances[]","mimeType"],l);const u=v(e,["autoTruncate"]);return t!==void 0&&u!=null&&y(t,["parameters","autoTruncate"],u),n}function K8(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=v(t,["contents"]);if(i!=null){let u=$b(e,i);Array.isArray(u)&&(u=u.map(d=>d)),y(n,["requests[]","content"],u)}const o=v(t,["config"]);o!=null&&V8(o,n);const l=v(t,["model"]);return l!==void 0&&y(n,["requests[]","model"],Ve(e,l)),n}function Y8(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=v(t,["contents"]);if(i!=null){let l=$b(e,i);Array.isArray(l)&&(l=l.map(u=>u)),y(n,["instances[]","content"],l)}const o=v(t,["config"]);return o!=null&&F8(o,n),n}function W8(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),y(t,["embeddings"],o)}const i=v(e,["metadata"]);return i!=null&&y(t,["metadata"],i),t}function J8(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>N8(l))),y(t,["embeddings"],o)}const i=v(e,["metadata"]);return i!=null&&y(t,["metadata"],i),t}function X8(e){const t={},n=v(e,["endpoint"]);n!=null&&y(t,["name"],n);const r=v(e,["deployedModelId"]);return r!=null&&y(t,["deployedModelId"],r),t}function Z8(e){const t={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function Q8(e){const t={},n=v(e,["id"]);n!=null&&y(t,["id"],n);const r=v(e,["args"]);r!=null&&y(t,["args"],r);const i=v(e,["name"]);if(i!=null&&y(t,["name"],i),v(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function eH(e){const t={},n=v(e,["mode"]);n!=null&&y(t,["mode"],n);const r=v(e,["allowedFunctionNames"]);if(r!=null&&y(t,["allowedFunctionNames"],r),v(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function tH(e){const t={};if(v(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(e,["description"]);n!=null&&y(t,["description"],n);const r=v(e,["name"]);r!=null&&y(t,["name"],r);const i=v(e,["parameters"]);i!=null&&y(t,["parameters"],i);const o=v(e,["parametersJsonSchema"]);o!=null&&y(t,["parametersJsonSchema"],o);const l=v(e,["response"]);l!=null&&y(t,["response"],l);const u=v(e,["responseJsonSchema"]);return u!=null&&y(t,["responseJsonSchema"],u),t}function nH(e,t,n){const r={},i=v(t,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],Mh(gn(i)));const o=v(t,["temperature"]);o!=null&&y(r,["temperature"],o);const l=v(t,["topP"]);l!=null&&y(r,["topP"],l);const u=v(t,["topK"]);u!=null&&y(r,["topK"],u);const d=v(t,["candidateCount"]);d!=null&&y(r,["candidateCount"],d);const f=v(t,["maxOutputTokens"]);f!=null&&y(r,["maxOutputTokens"],f);const h=v(t,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=v(t,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const g=v(t,["logprobs"]);g!=null&&y(r,["logprobs"],g);const x=v(t,["presencePenalty"]);x!=null&&y(r,["presencePenalty"],x);const S=v(t,["frequencyPenalty"]);S!=null&&y(r,["frequencyPenalty"],S);const E=v(t,["seed"]);E!=null&&y(r,["seed"],E);const T=v(t,["responseMimeType"]);T!=null&&y(r,["responseMimeType"],T);const C=v(t,["responseSchema"]);C!=null&&y(r,["responseSchema"],qb(C));const P=v(t,["responseJsonSchema"]);if(P!=null&&y(r,["responseJsonSchema"],P),v(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=v(t,["safetySettings"]);if(n!==void 0&&N!=null){let se=N;Array.isArray(se)&&(se=se.map(de=>FH(de))),y(n,["safetySettings"],se)}const R=v(t,["tools"]);if(n!==void 0&&R!=null){let se=Xs(R);Array.isArray(se)&&(se=se.map(de=>QH(Js(de)))),y(n,["tools"],se)}const M=v(t,["toolConfig"]);if(n!==void 0&&M!=null&&y(n,["toolConfig"],ZH(M)),v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=v(t,["cachedContent"]);n!==void 0&&I!=null&&y(n,["cachedContent"],Ui(e,I));const D=v(t,["responseModalities"]);D!=null&&y(r,["responseModalities"],D);const F=v(t,["mediaResolution"]);F!=null&&y(r,["mediaResolution"],F);const $=v(t,["speechConfig"]);if($!=null&&y(r,["speechConfig"],Hb($)),v(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Q=v(t,["thinkingConfig"]);Q!=null&&y(r,["thinkingConfig"],Q);const W=v(t,["imageConfig"]);W!=null&&y(r,["imageConfig"],NH(W));const ne=v(t,["enableEnhancedCivicAnswers"]);return ne!=null&&y(r,["enableEnhancedCivicAnswers"],ne),r}function rH(e,t,n){const r={},i=v(t,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],gn(i));const o=v(t,["temperature"]);o!=null&&y(r,["temperature"],o);const l=v(t,["topP"]);l!=null&&y(r,["topP"],l);const u=v(t,["topK"]);u!=null&&y(r,["topK"],u);const d=v(t,["candidateCount"]);d!=null&&y(r,["candidateCount"],d);const f=v(t,["maxOutputTokens"]);f!=null&&y(r,["maxOutputTokens"],f);const h=v(t,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=v(t,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const g=v(t,["logprobs"]);g!=null&&y(r,["logprobs"],g);const x=v(t,["presencePenalty"]);x!=null&&y(r,["presencePenalty"],x);const S=v(t,["frequencyPenalty"]);S!=null&&y(r,["frequencyPenalty"],S);const E=v(t,["seed"]);E!=null&&y(r,["seed"],E);const T=v(t,["responseMimeType"]);T!=null&&y(r,["responseMimeType"],T);const C=v(t,["responseSchema"]);C!=null&&y(r,["responseSchema"],qb(C));const P=v(t,["responseJsonSchema"]);P!=null&&y(r,["responseJsonSchema"],P);const N=v(t,["routingConfig"]);N!=null&&y(r,["routingConfig"],N);const R=v(t,["modelSelectionConfig"]);R!=null&&y(r,["modelConfig"],R);const M=v(t,["safetySettings"]);if(n!==void 0&&M!=null){let j=M;Array.isArray(j)&&(j=j.map(Y=>Y)),y(n,["safetySettings"],j)}const I=v(t,["tools"]);if(n!==void 0&&I!=null){let j=Xs(I);Array.isArray(j)&&(j=j.map(Y=>nM(Js(Y)))),y(n,["tools"],j)}const D=v(t,["toolConfig"]);n!==void 0&&D!=null&&y(n,["toolConfig"],D);const F=v(t,["labels"]);n!==void 0&&F!=null&&y(n,["labels"],F);const $=v(t,["cachedContent"]);n!==void 0&&$!=null&&y(n,["cachedContent"],Ui(e,$));const Q=v(t,["responseModalities"]);Q!=null&&y(r,["responseModalities"],Q);const W=v(t,["mediaResolution"]);W!=null&&y(r,["mediaResolution"],W);const ne=v(t,["speechConfig"]);ne!=null&&y(r,["speechConfig"],Hb(ne));const se=v(t,["audioTimestamp"]);se!=null&&y(r,["audioTimestamp"],se);const de=v(t,["thinkingConfig"]);de!=null&&y(r,["thinkingConfig"],de);const Te=v(t,["imageConfig"]);if(Te!=null&&y(r,["imageConfig"],PH(Te)),v(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function UA(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=v(t,["contents"]);if(i!=null){let l=mr(i);Array.isArray(l)&&(l=l.map(u=>Mh(u))),y(n,["contents"],l)}const o=v(t,["config"]);return o!=null&&y(n,["generationConfig"],nH(e,o,n)),n}function LA(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=v(t,["contents"]);if(i!=null){let l=mr(i);Array.isArray(l)&&(l=l.map(u=>u)),y(n,["contents"],l)}const o=v(t,["config"]);return o!=null&&y(n,["generationConfig"],rH(e,o,n)),n}function jA(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>T8(f))),y(t,["candidates"],d)}const i=v(e,["modelVersion"]);i!=null&&y(t,["modelVersion"],i);const o=v(e,["promptFeedback"]);o!=null&&y(t,["promptFeedback"],o);const l=v(e,["responseId"]);l!=null&&y(t,["responseId"],l);const u=v(e,["usageMetadata"]);return u!=null&&y(t,["usageMetadata"],u),t}function BA(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),y(t,["candidates"],f)}const i=v(e,["createTime"]);i!=null&&y(t,["createTime"],i);const o=v(e,["modelVersion"]);o!=null&&y(t,["modelVersion"],o);const l=v(e,["promptFeedback"]);l!=null&&y(t,["promptFeedback"],l);const u=v(e,["responseId"]);u!=null&&y(t,["responseId"],u);const d=v(e,["usageMetadata"]);return d!=null&&y(t,["usageMetadata"],d),t}function iH(e,t){const n={};if(v(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=v(e,["numberOfImages"]);t!==void 0&&r!=null&&y(t,["parameters","sampleCount"],r);const i=v(e,["aspectRatio"]);t!==void 0&&i!=null&&y(t,["parameters","aspectRatio"],i);const o=v(e,["guidanceScale"]);if(t!==void 0&&o!=null&&y(t,["parameters","guidanceScale"],o),v(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=v(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&y(t,["parameters","safetySetting"],l);const u=v(e,["personGeneration"]);t!==void 0&&u!=null&&y(t,["parameters","personGeneration"],u);const d=v(e,["includeSafetyAttributes"]);t!==void 0&&d!=null&&y(t,["parameters","includeSafetyAttributes"],d);const f=v(e,["includeRaiReason"]);t!==void 0&&f!=null&&y(t,["parameters","includeRaiReason"],f);const h=v(e,["language"]);t!==void 0&&h!=null&&y(t,["parameters","language"],h);const m=v(e,["outputMimeType"]);t!==void 0&&m!=null&&y(t,["parameters","outputOptions","mimeType"],m);const g=v(e,["outputCompressionQuality"]);if(t!==void 0&&g!=null&&y(t,["parameters","outputOptions","compressionQuality"],g),v(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=v(e,["imageSize"]);if(t!==void 0&&x!=null&&y(t,["parameters","sampleImageSize"],x),v(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function aH(e,t){const n={},r=v(e,["outputGcsUri"]);t!==void 0&&r!=null&&y(t,["parameters","storageUri"],r);const i=v(e,["negativePrompt"]);t!==void 0&&i!=null&&y(t,["parameters","negativePrompt"],i);const o=v(e,["numberOfImages"]);t!==void 0&&o!=null&&y(t,["parameters","sampleCount"],o);const l=v(e,["aspectRatio"]);t!==void 0&&l!=null&&y(t,["parameters","aspectRatio"],l);const u=v(e,["guidanceScale"]);t!==void 0&&u!=null&&y(t,["parameters","guidanceScale"],u);const d=v(e,["seed"]);t!==void 0&&d!=null&&y(t,["parameters","seed"],d);const f=v(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&y(t,["parameters","safetySetting"],f);const h=v(e,["personGeneration"]);t!==void 0&&h!=null&&y(t,["parameters","personGeneration"],h);const m=v(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&y(t,["parameters","includeSafetyAttributes"],m);const g=v(e,["includeRaiReason"]);t!==void 0&&g!=null&&y(t,["parameters","includeRaiReason"],g);const x=v(e,["language"]);t!==void 0&&x!=null&&y(t,["parameters","language"],x);const S=v(e,["outputMimeType"]);t!==void 0&&S!=null&&y(t,["parameters","outputOptions","mimeType"],S);const E=v(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&y(t,["parameters","outputOptions","compressionQuality"],E);const T=v(e,["addWatermark"]);t!==void 0&&T!=null&&y(t,["parameters","addWatermark"],T);const C=v(e,["labels"]);t!==void 0&&C!=null&&y(t,["labels"],C);const P=v(e,["imageSize"]);t!==void 0&&P!=null&&y(t,["parameters","sampleImageSize"],P);const N=v(e,["enhancePrompt"]);return t!==void 0&&N!=null&&y(t,["parameters","enhancePrompt"],N),n}function oH(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=v(t,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=v(t,["config"]);return o!=null&&iH(o,n),n}function sH(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=v(t,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=v(t,["config"]);return o!=null&&aH(o,n),n}function lH(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>xH(l))),y(t,["generatedImages"],o)}const i=v(e,["positivePromptSafetyAttributes"]);return i!=null&&y(t,["positivePromptSafetyAttributes"],eM(i)),t}function uH(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Ih(l))),y(t,["generatedImages"],o)}const i=v(e,["positivePromptSafetyAttributes"]);return i!=null&&y(t,["positivePromptSafetyAttributes"],tM(i)),t}function cH(e,t){const n={},r=v(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&y(t,["parameters","sampleCount"],r),v(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=v(e,["durationSeconds"]);if(t!==void 0&&i!=null&&y(t,["parameters","durationSeconds"],i),v(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=v(e,["aspectRatio"]);t!==void 0&&o!=null&&y(t,["parameters","aspectRatio"],o);const l=v(e,["resolution"]);t!==void 0&&l!=null&&y(t,["parameters","resolution"],l);const u=v(e,["personGeneration"]);if(t!==void 0&&u!=null&&y(t,["parameters","personGeneration"],u),v(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=v(e,["negativePrompt"]);t!==void 0&&d!=null&&y(t,["parameters","negativePrompt"],d);const f=v(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&y(t,["parameters","enhancePrompt"],f),v(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=v(e,["lastFrame"]);t!==void 0&&h!=null&&y(t,["instances[0]","lastFrame"],Dh(h));const m=v(e,["referenceImages"]);if(t!==void 0&&m!=null){let g=m;Array.isArray(g)&&(g=g.map(x=>fG(x))),y(t,["instances[0]","referenceImages"],g)}if(v(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(v(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function dH(e,t){const n={},r=v(e,["numberOfVideos"]);t!==void 0&&r!=null&&y(t,["parameters","sampleCount"],r);const i=v(e,["outputGcsUri"]);t!==void 0&&i!=null&&y(t,["parameters","storageUri"],i);const o=v(e,["fps"]);t!==void 0&&o!=null&&y(t,["parameters","fps"],o);const l=v(e,["durationSeconds"]);t!==void 0&&l!=null&&y(t,["parameters","durationSeconds"],l);const u=v(e,["seed"]);t!==void 0&&u!=null&&y(t,["parameters","seed"],u);const d=v(e,["aspectRatio"]);t!==void 0&&d!=null&&y(t,["parameters","aspectRatio"],d);const f=v(e,["resolution"]);t!==void 0&&f!=null&&y(t,["parameters","resolution"],f);const h=v(e,["personGeneration"]);t!==void 0&&h!=null&&y(t,["parameters","personGeneration"],h);const m=v(e,["pubsubTopic"]);t!==void 0&&m!=null&&y(t,["parameters","pubsubTopic"],m);const g=v(e,["negativePrompt"]);t!==void 0&&g!=null&&y(t,["parameters","negativePrompt"],g);const x=v(e,["enhancePrompt"]);t!==void 0&&x!=null&&y(t,["parameters","enhancePrompt"],x);const S=v(e,["generateAudio"]);t!==void 0&&S!=null&&y(t,["parameters","generateAudio"],S);const E=v(e,["lastFrame"]);t!==void 0&&E!=null&&y(t,["instances[0]","lastFrame"],jr(E));const T=v(e,["referenceImages"]);if(t!==void 0&&T!=null){let N=T;Array.isArray(N)&&(N=N.map(R=>hG(R))),y(t,["instances[0]","referenceImages"],N)}const C=v(e,["mask"]);t!==void 0&&C!=null&&y(t,["instances[0]","mask"],dG(C));const P=v(e,["compressionQuality"]);return t!==void 0&&P!=null&&y(t,["parameters","compressionQuality"],P),n}function fH(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=v(e,["done"]);i!=null&&y(t,["done"],i);const o=v(e,["error"]);o!=null&&y(t,["error"],o);const l=v(e,["response","generateVideoResponse"]);return l!=null&&y(t,["response"],vH(l)),t}function hH(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=v(e,["done"]);i!=null&&y(t,["done"],i);const o=v(e,["error"]);o!=null&&y(t,["error"],o);const l=v(e,["response"]);return l!=null&&y(t,["response"],gH(l)),t}function pH(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=v(t,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=v(t,["image"]);o!=null&&y(n,["instances[0]","image"],Dh(o));const l=v(t,["video"]);l!=null&&y(n,["instances[0]","video"],rM(l));const u=v(t,["source"]);u!=null&&yH(u,n);const d=v(t,["config"]);return d!=null&&cH(d,n),n}function mH(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=v(t,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=v(t,["image"]);o!=null&&y(n,["instances[0]","image"],jr(o));const l=v(t,["video"]);l!=null&&y(n,["instances[0]","video"],iM(l));const u=v(t,["source"]);u!=null&&bH(u,n);const d=v(t,["config"]);return d!=null&&dH(d,n),n}function vH(e){const t={},n=v(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>_H(l))),y(t,["generatedVideos"],o)}const r=v(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const i=v(e,["raiMediaFilteredReasons"]);return i!=null&&y(t,["raiMediaFilteredReasons"],i),t}function gH(e){const t={},n=v(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>SH(l))),y(t,["generatedVideos"],o)}const r=v(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const i=v(e,["raiMediaFilteredReasons"]);return i!=null&&y(t,["raiMediaFilteredReasons"],i),t}function yH(e,t){const n={},r=v(e,["prompt"]);t!==void 0&&r!=null&&y(t,["instances[0]","prompt"],r);const i=v(e,["image"]);t!==void 0&&i!=null&&y(t,["instances[0]","image"],Dh(i));const o=v(e,["video"]);return t!==void 0&&o!=null&&y(t,["instances[0]","video"],rM(o)),n}function bH(e,t){const n={},r=v(e,["prompt"]);t!==void 0&&r!=null&&y(t,["instances[0]","prompt"],r);const i=v(e,["image"]);t!==void 0&&i!=null&&y(t,["instances[0]","image"],jr(i));const o=v(e,["video"]);return t!==void 0&&o!=null&&y(t,["instances[0]","video"],iM(o)),n}function xH(e){const t={},n=v(e,["_self"]);n!=null&&y(t,["image"],RH(n));const r=v(e,["raiFilteredReason"]);r!=null&&y(t,["raiFilteredReason"],r);const i=v(e,["_self"]);return i!=null&&y(t,["safetyAttributes"],eM(i)),t}function Ih(e){const t={},n=v(e,["_self"]);n!=null&&y(t,["image"],QO(n));const r=v(e,["raiFilteredReason"]);r!=null&&y(t,["raiFilteredReason"],r);const i=v(e,["_self"]);i!=null&&y(t,["safetyAttributes"],tM(i));const o=v(e,["prompt"]);return o!=null&&y(t,["enhancedPrompt"],o),t}function wH(e){const t={},n=v(e,["_self"]);n!=null&&y(t,["mask"],QO(n));const r=v(e,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),y(t,["labels"],i)}return t}function _H(e){const t={},n=v(e,["video"]);return n!=null&&y(t,["video"],uG(n)),t}function SH(e){const t={},n=v(e,["_self"]);return n!=null&&y(t,["video"],cG(n)),t}function EH(e){const t={},n=v(e,["modelSelectionConfig"]);n!=null&&y(t,["modelConfig"],n);const r=v(e,["responseJsonSchema"]);r!=null&&y(t,["responseJsonSchema"],r);const i=v(e,["audioTimestamp"]);i!=null&&y(t,["audioTimestamp"],i);const o=v(e,["candidateCount"]);o!=null&&y(t,["candidateCount"],o);const l=v(e,["enableAffectiveDialog"]);l!=null&&y(t,["enableAffectiveDialog"],l);const u=v(e,["frequencyPenalty"]);u!=null&&y(t,["frequencyPenalty"],u);const d=v(e,["logprobs"]);d!=null&&y(t,["logprobs"],d);const f=v(e,["maxOutputTokens"]);f!=null&&y(t,["maxOutputTokens"],f);const h=v(e,["mediaResolution"]);h!=null&&y(t,["mediaResolution"],h);const m=v(e,["presencePenalty"]);m!=null&&y(t,["presencePenalty"],m);const g=v(e,["responseLogprobs"]);g!=null&&y(t,["responseLogprobs"],g);const x=v(e,["responseMimeType"]);x!=null&&y(t,["responseMimeType"],x);const S=v(e,["responseModalities"]);S!=null&&y(t,["responseModalities"],S);const E=v(e,["responseSchema"]);E!=null&&y(t,["responseSchema"],E);const T=v(e,["routingConfig"]);T!=null&&y(t,["routingConfig"],T);const C=v(e,["seed"]);C!=null&&y(t,["seed"],C);const P=v(e,["speechConfig"]);P!=null&&y(t,["speechConfig"],P);const N=v(e,["stopSequences"]);N!=null&&y(t,["stopSequences"],N);const R=v(e,["temperature"]);R!=null&&y(t,["temperature"],R);const M=v(e,["thinkingConfig"]);M!=null&&y(t,["thinkingConfig"],M);const I=v(e,["topK"]);I!=null&&y(t,["topK"],I);const D=v(e,["topP"]);if(D!=null&&y(t,["topP"],D),v(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function TH(e,t){const n={},r=v(t,["model"]);return r!=null&&y(n,["_url","name"],Ve(e,r)),n}function AH(e,t){const n={},r=v(t,["model"]);return r!=null&&y(n,["_url","name"],Ve(e,r)),n}function CH(e){const t={};if(v(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function kH(e){const t={};if(v(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function NH(e){const t={},n=v(e,["aspectRatio"]);n!=null&&y(t,["aspectRatio"],n);const r=v(e,["imageSize"]);if(r!=null&&y(t,["imageSize"],r),v(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function PH(e){const t={},n=v(e,["aspectRatio"]);n!=null&&y(t,["aspectRatio"],n);const r=v(e,["imageSize"]);r!=null&&y(t,["imageSize"],r);const i=v(e,["outputMimeType"]);i!=null&&y(t,["imageOutputOptions","mimeType"],i);const o=v(e,["outputCompressionQuality"]);return o!=null&&y(t,["imageOutputOptions","compressionQuality"],o),t}function RH(e){const t={},n=v(e,["bytesBase64Encoded"]);n!=null&&y(t,["imageBytes"],Ta(n));const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function QO(e){const t={},n=v(e,["gcsUri"]);n!=null&&y(t,["gcsUri"],n);const r=v(e,["bytesBase64Encoded"]);r!=null&&y(t,["imageBytes"],Ta(r));const i=v(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function Dh(e){const t={};if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=v(e,["imageBytes"]);n!=null&&y(t,["bytesBase64Encoded"],Ta(n));const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function jr(e){const t={},n=v(e,["gcsUri"]);n!=null&&y(t,["gcsUri"],n);const r=v(e,["imageBytes"]);r!=null&&y(t,["bytesBase64Encoded"],Ta(r));const i=v(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function OH(e,t,n){const r={},i=v(t,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const o=v(t,["pageToken"]);n!==void 0&&o!=null&&y(n,["_query","pageToken"],o);const l=v(t,["filter"]);n!==void 0&&l!=null&&y(n,["_query","filter"],l);const u=v(t,["queryBase"]);return n!==void 0&&u!=null&&y(n,["_url","models_url"],FO(e,u)),r}function MH(e,t,n){const r={},i=v(t,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const o=v(t,["pageToken"]);n!==void 0&&o!=null&&y(n,["_query","pageToken"],o);const l=v(t,["filter"]);n!==void 0&&l!=null&&y(n,["_query","filter"],l);const u=v(t,["queryBase"]);return n!==void 0&&u!=null&&y(n,["_url","models_url"],FO(e,u)),r}function IH(e,t){const n={},r=v(t,["config"]);return r!=null&&OH(e,r,n),n}function DH(e,t){const n={},r=v(t,["config"]);return r!=null&&MH(e,r,n),n}function UH(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=v(e,["_self"]);if(i!=null){let o=KO(i);Array.isArray(o)&&(o=o.map(l=>w0(l))),y(t,["models"],o)}return t}function LH(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=v(e,["_self"]);if(i!=null){let o=KO(i);Array.isArray(o)&&(o=o.map(l=>_0(l))),y(t,["models"],o)}return t}function jH(e){const t={},n=v(e,["maskMode"]);n!=null&&y(t,["maskMode"],n);const r=v(e,["segmentationClasses"]);r!=null&&y(t,["maskClasses"],r);const i=v(e,["maskDilation"]);return i!=null&&y(t,["dilation"],i),t}function w0(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["displayName"]);r!=null&&y(t,["displayName"],r);const i=v(e,["description"]);i!=null&&y(t,["description"],i);const o=v(e,["version"]);o!=null&&y(t,["version"],o);const l=v(e,["_self"]);l!=null&&y(t,["tunedModelInfo"],eG(l));const u=v(e,["inputTokenLimit"]);u!=null&&y(t,["inputTokenLimit"],u);const d=v(e,["outputTokenLimit"]);d!=null&&y(t,["outputTokenLimit"],d);const f=v(e,["supportedGenerationMethods"]);f!=null&&y(t,["supportedActions"],f);const h=v(e,["temperature"]);h!=null&&y(t,["temperature"],h);const m=v(e,["maxTemperature"]);m!=null&&y(t,["maxTemperature"],m);const g=v(e,["topP"]);g!=null&&y(t,["topP"],g);const x=v(e,["topK"]);x!=null&&y(t,["topK"],x);const S=v(e,["thinking"]);return S!=null&&y(t,["thinking"],S),t}function _0(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["displayName"]);r!=null&&y(t,["displayName"],r);const i=v(e,["description"]);i!=null&&y(t,["description"],i);const o=v(e,["versionId"]);o!=null&&y(t,["version"],o);const l=v(e,["deployedModels"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(g=>X8(g))),y(t,["endpoints"],m)}const u=v(e,["labels"]);u!=null&&y(t,["labels"],u);const d=v(e,["_self"]);d!=null&&y(t,["tunedModelInfo"],tG(d));const f=v(e,["defaultCheckpointId"]);f!=null&&y(t,["defaultCheckpointId"],f);const h=v(e,["checkpoints"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(g=>g)),y(t,["checkpoints"],m)}return t}function BH(e){const t={},n=v(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=v(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=v(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const o=v(e,["fileData"]);o!=null&&y(t,["fileData"],Z8(o));const l=v(e,["functionCall"]);l!=null&&y(t,["functionCall"],Q8(l));const u=v(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const d=v(e,["inlineData"]);d!=null&&y(t,["inlineData"],E8(d));const f=v(e,["text"]);f!=null&&y(t,["text"],f);const h=v(e,["thought"]);h!=null&&y(t,["thought"],h);const m=v(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const g=v(e,["videoMetadata"]);return g!=null&&y(t,["videoMetadata"],g),t}function zH(e){const t={},n=v(e,["productImage"]);return n!=null&&y(t,["image"],jr(n)),t}function $H(e,t){const n={},r=v(e,["numberOfImages"]);t!==void 0&&r!=null&&y(t,["parameters","sampleCount"],r);const i=v(e,["baseSteps"]);t!==void 0&&i!=null&&y(t,["parameters","baseSteps"],i);const o=v(e,["outputGcsUri"]);t!==void 0&&o!=null&&y(t,["parameters","storageUri"],o);const l=v(e,["seed"]);t!==void 0&&l!=null&&y(t,["parameters","seed"],l);const u=v(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&y(t,["parameters","safetySetting"],u);const d=v(e,["personGeneration"]);t!==void 0&&d!=null&&y(t,["parameters","personGeneration"],d);const f=v(e,["addWatermark"]);t!==void 0&&f!=null&&y(t,["parameters","addWatermark"],f);const h=v(e,["outputMimeType"]);t!==void 0&&h!=null&&y(t,["parameters","outputOptions","mimeType"],h);const m=v(e,["outputCompressionQuality"]);t!==void 0&&m!=null&&y(t,["parameters","outputOptions","compressionQuality"],m);const g=v(e,["enhancePrompt"]);t!==void 0&&g!=null&&y(t,["parameters","enhancePrompt"],g);const x=v(e,["labels"]);return t!==void 0&&x!=null&&y(t,["labels"],x),n}function qH(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=v(t,["source"]);i!=null&&GH(i,n);const o=v(t,["config"]);return o!=null&&$H(o,n),n}function HH(e){const t={},n=v(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Ih(i))),y(t,["generatedImages"],r)}return t}function GH(e,t){const n={},r=v(e,["prompt"]);t!==void 0&&r!=null&&y(t,["instances[0]","prompt"],r);const i=v(e,["personImage"]);t!==void 0&&i!=null&&y(t,["instances[0]","personImage","image"],jr(i));const o=v(e,["productImages"]);if(t!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>zH(u))),y(t,["instances[0]","productImages"],l)}return n}function VH(e){const t={},n=v(e,["referenceImage"]);n!=null&&y(t,["referenceImage"],jr(n));const r=v(e,["referenceId"]);r!=null&&y(t,["referenceId"],r);const i=v(e,["referenceType"]);i!=null&&y(t,["referenceType"],i);const o=v(e,["maskImageConfig"]);o!=null&&y(t,["maskImageConfig"],jH(o));const l=v(e,["controlImageConfig"]);l!=null&&y(t,["controlImageConfig"],R8(l));const u=v(e,["styleImageConfig"]);u!=null&&y(t,["styleImageConfig"],u);const d=v(e,["subjectImageConfig"]);return d!=null&&y(t,["subjectImageConfig"],d),t}function eM(e){const t={},n=v(e,["safetyAttributes","categories"]);n!=null&&y(t,["categories"],n);const r=v(e,["safetyAttributes","scores"]);r!=null&&y(t,["scores"],r);const i=v(e,["contentType"]);return i!=null&&y(t,["contentType"],i),t}function tM(e){const t={},n=v(e,["safetyAttributes","categories"]);n!=null&&y(t,["categories"],n);const r=v(e,["safetyAttributes","scores"]);r!=null&&y(t,["scores"],r);const i=v(e,["contentType"]);return i!=null&&y(t,["contentType"],i),t}function FH(e){const t={},n=v(e,["category"]);if(n!=null&&y(t,["category"],n),v(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(e,["threshold"]);return r!=null&&y(t,["threshold"],r),t}function KH(e){const t={},n=v(e,["image"]);return n!=null&&y(t,["image"],jr(n)),t}function YH(e,t){const n={},r=v(e,["mode"]);t!==void 0&&r!=null&&y(t,["parameters","mode"],r);const i=v(e,["maxPredictions"]);t!==void 0&&i!=null&&y(t,["parameters","maxPredictions"],i);const o=v(e,["confidenceThreshold"]);t!==void 0&&o!=null&&y(t,["parameters","confidenceThreshold"],o);const l=v(e,["maskDilation"]);t!==void 0&&l!=null&&y(t,["parameters","maskDilation"],l);const u=v(e,["binaryColorThreshold"]);t!==void 0&&u!=null&&y(t,["parameters","binaryColorThreshold"],u);const d=v(e,["labels"]);return t!==void 0&&d!=null&&y(t,["labels"],d),n}function WH(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=v(t,["source"]);i!=null&&XH(i,n);const o=v(t,["config"]);return o!=null&&YH(o,n),n}function JH(e){const t={},n=v(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>wH(i))),y(t,["generatedMasks"],r)}return t}function XH(e,t){const n={},r=v(e,["prompt"]);t!==void 0&&r!=null&&y(t,["instances[0]","prompt"],r);const i=v(e,["image"]);t!==void 0&&i!=null&&y(t,["instances[0]","image"],jr(i));const o=v(e,["scribbleImage"]);return t!==void 0&&o!=null&&y(t,["instances[0]","scribble"],KH(o)),n}function ZH(e){const t={},n=v(e,["functionCallingConfig"]);n!=null&&y(t,["functionCallingConfig"],eH(n));const r=v(e,["retrievalConfig"]);return r!=null&&y(t,["retrievalConfig"],r),t}function QH(e){const t={},n=v(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(e,["googleSearchRetrieval"]);r!=null&&y(t,["googleSearchRetrieval"],r);const i=v(e,["computerUse"]);i!=null&&y(t,["computerUse"],i);const o=v(e,["fileSearch"]);o!=null&&y(t,["fileSearch"],o);const l=v(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=v(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],CH(u));const d=v(e,["googleSearch"]);d!=null&&y(t,["googleSearch"],kH(d));const f=v(e,["urlContext"]);return f!=null&&y(t,["urlContext"],f),t}function nM(e){const t={},n=v(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(g=>tH(g))),y(t,["functionDeclarations"],m)}const r=v(e,["retrieval"]);r!=null&&y(t,["retrieval"],r);const i=v(e,["googleSearchRetrieval"]);i!=null&&y(t,["googleSearchRetrieval"],i);const o=v(e,["computerUse"]);if(o!=null&&y(t,["computerUse"],o),v(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=v(e,["codeExecution"]);l!=null&&y(t,["codeExecution"],l);const u=v(e,["enterpriseWebSearch"]);u!=null&&y(t,["enterpriseWebSearch"],u);const d=v(e,["googleMaps"]);d!=null&&y(t,["googleMaps"],d);const f=v(e,["googleSearch"]);f!=null&&y(t,["googleSearch"],f);const h=v(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}function eG(e){const t={},n=v(e,["baseModel"]);n!=null&&y(t,["baseModel"],n);const r=v(e,["createTime"]);r!=null&&y(t,["createTime"],r);const i=v(e,["updateTime"]);return i!=null&&y(t,["updateTime"],i),t}function tG(e){const t={},n=v(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&y(t,["baseModel"],n);const r=v(e,["createTime"]);r!=null&&y(t,["createTime"],r);const i=v(e,["updateTime"]);return i!=null&&y(t,["updateTime"],i),t}function nG(e,t){const n={},r=v(e,["displayName"]);t!==void 0&&r!=null&&y(t,["displayName"],r);const i=v(e,["description"]);t!==void 0&&i!=null&&y(t,["description"],i);const o=v(e,["defaultCheckpointId"]);return t!==void 0&&o!=null&&y(t,["defaultCheckpointId"],o),n}function rG(e,t){const n={},r=v(e,["displayName"]);t!==void 0&&r!=null&&y(t,["displayName"],r);const i=v(e,["description"]);t!==void 0&&i!=null&&y(t,["description"],i);const o=v(e,["defaultCheckpointId"]);return t!==void 0&&o!=null&&y(t,["defaultCheckpointId"],o),n}function iG(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","name"],Ve(e,r));const i=v(t,["config"]);return i!=null&&nG(i,n),n}function aG(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=v(t,["config"]);return i!=null&&rG(i,n),n}function oG(e,t){const n={},r=v(e,["outputGcsUri"]);t!==void 0&&r!=null&&y(t,["parameters","storageUri"],r);const i=v(e,["safetyFilterLevel"]);t!==void 0&&i!=null&&y(t,["parameters","safetySetting"],i);const o=v(e,["personGeneration"]);t!==void 0&&o!=null&&y(t,["parameters","personGeneration"],o);const l=v(e,["includeRaiReason"]);t!==void 0&&l!=null&&y(t,["parameters","includeRaiReason"],l);const u=v(e,["outputMimeType"]);t!==void 0&&u!=null&&y(t,["parameters","outputOptions","mimeType"],u);const d=v(e,["outputCompressionQuality"]);t!==void 0&&d!=null&&y(t,["parameters","outputOptions","compressionQuality"],d);const f=v(e,["enhanceInputImage"]);t!==void 0&&f!=null&&y(t,["parameters","upscaleConfig","enhanceInputImage"],f);const h=v(e,["imagePreservationFactor"]);t!==void 0&&h!=null&&y(t,["parameters","upscaleConfig","imagePreservationFactor"],h);const m=v(e,["labels"]);t!==void 0&&m!=null&&y(t,["labels"],m);const g=v(e,["numberOfImages"]);t!==void 0&&g!=null&&y(t,["parameters","sampleCount"],g);const x=v(e,["mode"]);return t!==void 0&&x!=null&&y(t,["parameters","mode"],x),n}function sG(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=v(t,["image"]);i!=null&&y(n,["instances[0]","image"],jr(i));const o=v(t,["upscaleFactor"]);o!=null&&y(n,["parameters","upscaleConfig","upscaleFactor"],o);const l=v(t,["config"]);return l!=null&&oG(l,n),n}function lG(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Ih(o))),y(t,["generatedImages"],i)}return t}function uG(e){const t={},n=v(e,["uri"]);n!=null&&y(t,["uri"],n);const r=v(e,["encodedVideo"]);r!=null&&y(t,["videoBytes"],Ta(r));const i=v(e,["encoding"]);return i!=null&&y(t,["mimeType"],i),t}function cG(e){const t={},n=v(e,["gcsUri"]);n!=null&&y(t,["uri"],n);const r=v(e,["bytesBase64Encoded"]);r!=null&&y(t,["videoBytes"],Ta(r));const i=v(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function dG(e){const t={},n=v(e,["image"]);n!=null&&y(t,["_self"],jr(n));const r=v(e,["maskMode"]);return r!=null&&y(t,["maskMode"],r),t}function fG(e){const t={},n=v(e,["image"]);n!=null&&y(t,["image"],Dh(n));const r=v(e,["referenceType"]);return r!=null&&y(t,["referenceType"],r),t}function hG(e){const t={},n=v(e,["image"]);n!=null&&y(t,["image"],jr(n));const r=v(e,["referenceType"]);return r!=null&&y(t,["referenceType"],r),t}function rM(e){const t={},n=v(e,["uri"]);n!=null&&y(t,["uri"],n);const r=v(e,["videoBytes"]);r!=null&&y(t,["encodedVideo"],Ta(r));const i=v(e,["mimeType"]);return i!=null&&y(t,["encoding"],i),t}function iM(e){const t={},n=v(e,["uri"]);n!=null&&y(t,["gcsUri"],n);const r=v(e,["videoBytes"]);r!=null&&y(t,["bytesBase64Encoded"],Ta(r));const i=v(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pG(e,t){const n={},r=v(e,["displayName"]);return t!==void 0&&r!=null&&y(t,["displayName"],r),n}function mG(e){const t={},n=v(e,["config"]);return n!=null&&pG(n,t),t}function vG(e,t){const n={},r=v(e,["force"]);return t!==void 0&&r!=null&&y(t,["_query","force"],r),n}function gG(e){const t={},n=v(e,["name"]);n!=null&&y(t,["_url","name"],n);const r=v(e,["config"]);return r!=null&&vG(r,t),t}function yG(e){const t={},n=v(e,["name"]);return n!=null&&y(t,["_url","name"],n),t}function bG(e,t){const n={},r=v(e,["customMetadata"]);if(t!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),y(t,["customMetadata"],o)}const i=v(e,["chunkingConfig"]);return t!==void 0&&i!=null&&y(t,["chunkingConfig"],i),n}function xG(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=v(e,["done"]);i!=null&&y(t,["done"],i);const o=v(e,["error"]);o!=null&&y(t,["error"],o);const l=v(e,["response"]);return l!=null&&y(t,["response"],_G(l)),t}function wG(e){const t={},n=v(e,["fileSearchStoreName"]);n!=null&&y(t,["_url","file_search_store_name"],n);const r=v(e,["fileName"]);r!=null&&y(t,["fileName"],r);const i=v(e,["config"]);return i!=null&&bG(i,t),t}function _G(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["parent"]);r!=null&&y(t,["parent"],r);const i=v(e,["documentName"]);return i!=null&&y(t,["documentName"],i),t}function SG(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function EG(e){const t={},n=v(e,["config"]);return n!=null&&SG(n,t),t}function TG(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=v(e,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(t,["fileSearchStores"],o)}return t}function aM(e,t){const n={},r=v(e,["mimeType"]);t!==void 0&&r!=null&&y(t,["mimeType"],r);const i=v(e,["displayName"]);t!==void 0&&i!=null&&y(t,["displayName"],i);const o=v(e,["customMetadata"]);if(t!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>d)),y(t,["customMetadata"],u)}const l=v(e,["chunkingConfig"]);return t!==void 0&&l!=null&&y(t,["chunkingConfig"],l),n}function AG(e){const t={},n=v(e,["fileSearchStoreName"]);n!=null&&y(t,["_url","file_search_store_name"],n);const r=v(e,["config"]);return r!=null&&aM(r,t),t}function CG(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kG="Content-Type",NG="X-Server-Timeout",PG="User-Agent",S0="x-goog-api-client",RG="1.34.0",OG=`google-genai-sdk/${RG}`,MG="v1beta1",IG="v1beta";class DG{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:MG,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:IG,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[l,u]of Object.entries(t.queryParams))i.searchParams.append(l,String(u));let o={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=t.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.unaryApiCall(i,o,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=t.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.streamApiCall(i,o,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,i){if(n&&n.timeout||i){const o=new AbortController,l=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>o.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),t.signal=l}return n&&n.extraBody!==null&&UG(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await zA(i),new y0(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await zA(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){return Or(this,arguments,function*(){var r;const i=(r=t==null?void 0:t.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";const u="data:",d=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:h}=yield Ce(i.read());if(f){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=o.decode(h,{stream:!0});try{const S=JSON.parse(m);if("error"in S){const E=JSON.parse(JSON.stringify(S.error)),T=E.status,C=E.code,P=`got status: ${T}. ${JSON.stringify(S)}`;if(C>=400&&C<600)throw new Oh({message:P,status:C})}}catch(S){if(S.name==="ApiError")throw S}l+=m;let g=-1,x=0;for(;;){g=-1,x=0;for(const T of d){const C=l.indexOf(T);C!==-1&&(g===-1||C<g)&&(g=C,x=T.length)}if(g===-1)break;const S=l.substring(0,g);l=l.substring(g+x);const E=S.trim();if(E.startsWith(u)){const T=E.substring(u.length).trim();try{const C=new Response(T,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Ce(new y0(C))}catch(C){throw new Error(`exception parsing stream chunk ${T}. ${C}`)}}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=OG+" "+this.clientOptions.userAgentExtra;return t[PG]=n,t[S0]=n,t[kG]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[i,o]of Object.entries(t.headers))r.append(i,o);t.timeout&&t.timeout>0&&r.append(NG,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,l=await o.stat(t);i.sizeBytes=String(l.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const d={file:i},f=this.getFileName(t),h=le("upload/v1beta/files",d._url),m=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,f,d,n==null?void 0:n.httpOptions);return o.upload(t,m,this)}async uploadFileToFileSearchStore(t,n,r){var i;const o=this.clientOptions.uploader,l=await o.stat(n),u=String(l.size),d=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:l.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${t}:uploadToFileSearchStore`,h=this.getFileName(n),m={};r!=null&&aM(r,m);const g=await this.fetchUploadUrl(f,u,d,h,m,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,g,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,i,o,l){var u;let d={};l?d=l:d={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:t,body:JSON.stringify(o),httpMethod:"POST",httpOptions:d});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=f==null?void 0:f.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function zA(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Oh({message:i,status:n}):new Error(i)}}function UG(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const o=JSON.parse(e.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,l){const u=Object.assign({},o);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d)){const f=l[d],h=u[d];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?u[d]=r(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),u[d]=f)}return u}const i=r(n,t);e.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LG="mcp_used/unknown";let jG=!1;function oM(e){for(const t of e)if(BG(t)||typeof t=="object"&&"inputSchema"in t)return!0;return jG}function sM(e){var t;const n=(t=e[S0])!==null&&t!==void 0?t:"";e[S0]=(n+` ${LG}`).trimStart()}function BG(e){return e!==null&&typeof e=="object"&&e instanceof Vb}function zG(e){return Or(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const l=yield Ce(n.listTools({cursor:i}));for(const u of l.tools)yield yield Ce(u),o++;if(!l.nextCursor)break;i=l.nextCursor}})}class Vb{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Vb(t,n)}async initialize(){var t,n,r,i;if(this.mcpTools.length>0)return;const o={},l=[];for(const h of this.mcpClients)try{for(var u=!0,d=(n=void 0,Mr(zG(h))),f;f=await d.next(),t=f.done,!t;u=!0){i=f.value,u=!1;const m=i;l.push(m);const g=m.name;if(o[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);o[g]=h}}catch(m){n={error:m}}finally{try{!u&&!t&&(r=d.return)&&await r.call(d)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),yq(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function $G(e,t,n){const r=new cq;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),t(r)}class qG{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),l=VG(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),d=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const h=new Promise(N=>{f=N}),m=t.callbacks,g=function(){f({})},x=this.apiClient,S={onopen:g,onmessage:N=>{$G(x,m.onmessage,N)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(N){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(N){}},E=this.webSocketFactory.create(d,GG(l),S);E.connect(),await h;const P={setup:{model:Ve(this.apiClient,t.model)}};return E.send(JSON.stringify(P)),new HG(E,this.apiClient)}}class HG{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=m8(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=p8(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ks.PLAY)}pause(){this.sendPlaybackControl(ks.PAUSE)}stop(){this.sendPlaybackControl(ks.STOP)}resetContext(){this.sendPlaybackControl(ks.RESET_CONTEXT)}close(){this.conn.close()}}function GG(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function VG(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FG="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function KG(e,t,n){const r=new uq;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(e.isVertexAI()){const l=y8(o);Object.assign(r,l)}else Object.assign(r,o);t(r)}class YG{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new qG(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,i,o,l,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const m=this.apiClient.getHeaders();t.config&&t.config.tools&&oM(t.config.tools)&&sM(m);const g=ZG(m);if(this.apiClient.isVertexAI())h=`${d}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,h);else{const $=this.apiClient.getApiKey();let Q="BidiGenerateContent",W="key";$!=null&&$.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Q="BidiGenerateContentConstrained",W="access_token"),h=`${d}/ws/google.ai.generativelanguage.${f}.GenerativeService.${Q}?${W}=${$}`}let x=()=>{};const S=new Promise($=>{x=$}),E=t.callbacks,T=function(){var $;($=E==null?void 0:E.onopen)===null||$===void 0||$.call(E),x({})},C=this.apiClient,P={onopen:T,onmessage:$=>{KG(C,E.onmessage,$)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function($){},onclose:(r=E==null?void 0:E.onclose)!==null&&r!==void 0?r:function($){}},N=this.webSocketFactory.create(h,XG(g),P);N.connect(),await S;let R=Ve(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&R.startsWith("publishers/")){const $=this.apiClient.getProject(),Q=this.apiClient.getLocation();R=`projects/${$}/locations/${Q}/`+R}let M={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Pf.AUDIO]}:t.config.responseModalities=[Pf.AUDIO]),!((o=t.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const I=(u=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],D=[];for(const $ of I)if(this.isCallableTool($)){const Q=$;D.push(await Q.tool())}else D.push($);D.length>0&&(t.config.tools=D);const F={model:R,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?M=h8(this.apiClient,F):M=f8(this.apiClient,F),delete M.config,N.send(JSON.stringify(M)),new JG(N,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const WG={turnComplete:!0};class JG{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=mr(n.turns),t.isVertexAI()||(r=r.map(i=>Mh(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!t.isVertexAI()&&!("id"in o))throw new Error(FG)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},WG),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:g8(t)}:n={realtimeInput:v8(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function XG(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function ZG(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $A=10;function qA(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const l of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(Ds(l)){i=!0;break}if(!i)return!0;const o=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Ds(e){return"callTool"in e&&typeof e.callTool=="function"}function QG(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>Ds(i)))!==null&&r!==void 0?r:!1}function HA(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,i)=>{if(Ds(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function GA(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eV extends Di{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,i,o,l,u;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!QG(n)||qA(n.config))return await this.generateContentInternal(d);const f=HA(n);if(f.length>0){const E=f.map(T=>`tools[${T}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let h,m;const g=mr(d.contents),x=(o=(i=(r=d.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:$A;let S=0;for(;S<x&&(h=await this.generateContentInternal(d),!(!h.functionCalls||h.functionCalls.length===0));){const E=h.candidates[0].content,T=[];for(const C of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(Ds(C)){const N=await C.callTool(h.functionCalls);T.push(...N)}S++,m={role:"user",parts:T},d.contents=mr(d.contents),d.contents.push(E),d.contents.push(m),GA(d.config)&&(g.push(E),g.push(m))}return GA(d.config)&&(h.automaticFunctionCallingHistory=g),h},this.generateContentStream=async n=>{var r,i,o,l,u;if(this.maybeMoveToResponseJsonSchem(n),qA(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const d=HA(n);if(d.length>0){const m=d.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,h=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(f&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const l=[];if(r!=null&&r.generatedImages)for(const d of r.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((i=d==null?void 0:d.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=d==null?void 0:d.safetyAttributes:l.push(d);let u;return o?u={generatedImages:l,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new wo(Ai.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,l,u,d;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(o=n.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.uri&&(!((d=(u=n.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,i;const o=(n=t.config)===null||n===void 0?void 0:n.tools;if(!o)return t;const l=await Promise.all(o.map(async d=>Ds(d)?await d.tool():d)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:l})};if(u.config.tools=l,t.config&&t.config.tools&&oM(t.config.tools)){const d=(i=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},d);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),sM(f),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(t){var n,r,i;const o=new Map;for(const l of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Ds(l)){const u=l,d=await u.tool();for(const f of(i=d.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,u)}}return o}async processAfcStream(t){var n,r,i;const o=(i=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:$A;let l=!1,u=0;const d=await this.initAfcToolsMap(t);return(function(f,h,m){return Or(this,arguments,function*(){for(var g,x,S,E,T,C;u<o;){l&&(u++,l=!1);const M=yield Ce(f.processParamsMaybeAddMcpUsage(m)),I=yield Ce(f.generateContentStreamInternal(M)),D=[],F=[];try{for(var P=!0,N=(x=void 0,Mr(I)),R;R=yield Ce(N.next()),g=R.done,!g;P=!0){E=R.value,P=!1;const $=E;if(yield yield Ce($),$.candidates&&(!((T=$.candidates[0])===null||T===void 0)&&T.content)){F.push($.candidates[0].content);for(const Q of(C=$.candidates[0].content.parts)!==null&&C!==void 0?C:[])if(u<o&&Q.functionCall){if(!Q.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(Q.functionCall.name)){const W=yield Ce(h.get(Q.functionCall.name).callTool([Q.functionCall]));D.push(...W)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${Q.functionCall.name}`)}}}}catch($){x={error:$}}finally{try{!P&&!g&&(S=N.return)&&(yield Ce(S.call(N)))}finally{if(x)throw x.error}}if(D.length>0){l=!0;const $=new lu;$.candidates=[{content:{role:"user",parts:D}}],yield yield Ce($);const Q=[];Q.push(...F),Q.push({role:"user",parts:D});const W=mr(m.contents).concat(Q);m.contents=W}else break}})})(this,d,t)}async generateContentInternal(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=LA(this.apiClient,t);return u=le("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=BA(h),g=new lu;return Object.assign(g,m),g})}else{const f=UA(this.apiClient,t);return u=le("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=jA(h),g=new lu;return Object.assign(g,m),g})}}async generateContentStreamInternal(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=LA(this.apiClient,t);return u=le("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(m){return Or(this,arguments,function*(){var g,x,S,E;try{for(var T=!0,C=Mr(m),P;P=yield Ce(C.next()),g=P.done,!g;T=!0){E=P.value,T=!1;const N=E,R=BA(yield Ce(N.json()));R.sdkHttpResponse={headers:N.headers};const M=new lu;Object.assign(M,R),yield yield Ce(M)}}catch(N){x={error:N}}finally{try{!T&&!g&&(S=C.return)&&(yield Ce(S.call(C)))}finally{if(x)throw x.error}}})})}else{const f=UA(this.apiClient,t);return u=le("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(m){return Or(this,arguments,function*(){var g,x,S,E;try{for(var T=!0,C=Mr(m),P;P=yield Ce(C.next()),g=P.done,!g;T=!0){E=P.value,T=!1;const N=E,R=jA(yield Ce(N.json()));R.sdkHttpResponse={headers:N.headers};const M=new lu;Object.assign(M,R),yield yield Ce(M)}}catch(N){x={error:N}}finally{try{!T&&!g&&(S=C.return)&&(yield Ce(S.call(C)))}finally{if(x)throw x.error}}})})}}async embedContent(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Y8(this.apiClient,t);return u=le("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=J8(h),g=new bA;return Object.assign(g,m),g})}else{const f=K8(this.apiClient,t);return u=le("{model}:batchEmbedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=W8(h),g=new bA;return Object.assign(g,m),g})}}async generateImagesInternal(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=sH(this.apiClient,t);return u=le("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=uH(h),g=new xA;return Object.assign(g,m),g})}else{const f=oH(this.apiClient,t);return u=le("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=lH(h),g=new xA;return Object.assign(g,m),g})}}async editImageInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=H8(this.apiClient,t);return o=le("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=G8(d),h=new Z$;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=sG(this.apiClient,t);return o=le("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=lG(d),h=new Q$;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=qH(this.apiClient,t);return o=le("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=HH(d),h=new eq;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=WH(this.apiClient,t);return o=le("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=JH(d),h=new tq;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=AH(this.apiClient,t);return u=le("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>_0(h))}else{const f=TH(this.apiClient,t);return u=le("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>w0(h))}}async listInternal(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=DH(this.apiClient,t);return u=le("{models_url}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=LH(h),g=new wA;return Object.assign(g,m),g})}else{const f=IH(this.apiClient,t);return u=le("{models_url}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=UH(h),g=new wA;return Object.assign(g,m),g})}}async update(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=aG(this.apiClient,t);return u=le("{model}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>_0(h))}else{const f=iG(this.apiClient,t);return u=le("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>w0(h))}}async delete(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=B8(this.apiClient,t);return u=le("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=$8(h),g=new _A;return Object.assign(g,m),g})}else{const f=j8(this.apiClient,t);return u=le("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=z8(h),g=new _A;return Object.assign(g,m),g})}}async countTokens(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=D8(this.apiClient,t);return u=le("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=L8(h),g=new SA;return Object.assign(g,m),g})}else{const f=I8(this.apiClient,t);return u=le("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=U8(h),g=new SA;return Object.assign(g,m),g})}}async computeTokens(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=C8(this.apiClient,t);return o=le("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=k8(d),h=new nq;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=mH(this.apiClient,t);return u=le("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>{const m=hH(h),g=new Rf;return Object.assign(g,m),g})}else{const f=pH(this.apiClient,t);return u=le("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>{const m=fH(h),g=new Rf;return Object.assign(g,m),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tV extends Di{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=F$(t);return u=le("{operationName}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l}else{const f=V$(t);return u=le("{operationName}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l}}async fetchPredictVideosOperationInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=j$(t);return o=le("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nV(e){const t={},n=v(e,["data"]);if(n!=null&&y(t,["data"],n),v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function rV(e){const t={},n=v(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>fV(o))),y(t,["parts"],i)}const r=v(e,["role"]);return r!=null&&y(t,["role"],r),t}function iV(e,t,n){const r={},i=v(t,["expireTime"]);n!==void 0&&i!=null&&y(n,["expireTime"],i);const o=v(t,["newSessionExpireTime"]);n!==void 0&&o!=null&&y(n,["newSessionExpireTime"],o);const l=v(t,["uses"]);n!==void 0&&l!=null&&y(n,["uses"],l);const u=v(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&y(n,["bidiGenerateContentSetup"],dV(e,u));const d=v(t,["lockAdditionalFields"]);return n!==void 0&&d!=null&&y(n,["fieldMask"],d),r}function aV(e,t){const n={},r=v(t,["config"]);return r!=null&&y(n,["config"],iV(e,r,n)),n}function oV(e){const t={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function sV(e){const t={},n=v(e,["id"]);n!=null&&y(t,["id"],n);const r=v(e,["args"]);r!=null&&y(t,["args"],r);const i=v(e,["name"]);if(i!=null&&y(t,["name"],i),v(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function lV(e){const t={};if(v(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function uV(e){const t={};if(v(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function cV(e,t){const n={},r=v(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],r);const i=v(e,["responseModalities"]);t!==void 0&&i!=null&&y(t,["setup","generationConfig","responseModalities"],i);const o=v(e,["temperature"]);t!==void 0&&o!=null&&y(t,["setup","generationConfig","temperature"],o);const l=v(e,["topP"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","topP"],l);const u=v(e,["topK"]);t!==void 0&&u!=null&&y(t,["setup","generationConfig","topK"],u);const d=v(e,["maxOutputTokens"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","maxOutputTokens"],d);const f=v(e,["mediaResolution"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","mediaResolution"],f);const h=v(e,["seed"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","seed"],h);const m=v(e,["speechConfig"]);t!==void 0&&m!=null&&y(t,["setup","generationConfig","speechConfig"],Gb(m));const g=v(e,["thinkingConfig"]);t!==void 0&&g!=null&&y(t,["setup","generationConfig","thinkingConfig"],g);const x=v(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],x);const S=v(e,["systemInstruction"]);t!==void 0&&S!=null&&y(t,["setup","systemInstruction"],rV(gn(S)));const E=v(e,["tools"]);if(t!==void 0&&E!=null){let I=Xs(E);Array.isArray(I)&&(I=I.map(D=>pV(Js(D)))),y(t,["setup","tools"],I)}const T=v(e,["sessionResumption"]);t!==void 0&&T!=null&&y(t,["setup","sessionResumption"],hV(T));const C=v(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&y(t,["setup","inputAudioTranscription"],C);const P=v(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&y(t,["setup","outputAudioTranscription"],P);const N=v(e,["realtimeInputConfig"]);t!==void 0&&N!=null&&y(t,["setup","realtimeInputConfig"],N);const R=v(e,["contextWindowCompression"]);t!==void 0&&R!=null&&y(t,["setup","contextWindowCompression"],R);const M=v(e,["proactivity"]);if(t!==void 0&&M!=null&&y(t,["setup","proactivity"],M),v(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function dV(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["setup","model"],Ve(e,r));const i=v(t,["config"]);return i!=null&&y(n,["config"],cV(i,n)),n}function fV(e){const t={},n=v(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=v(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=v(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const o=v(e,["fileData"]);o!=null&&y(t,["fileData"],oV(o));const l=v(e,["functionCall"]);l!=null&&y(t,["functionCall"],sV(l));const u=v(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const d=v(e,["inlineData"]);d!=null&&y(t,["inlineData"],nV(d));const f=v(e,["text"]);f!=null&&y(t,["text"],f);const h=v(e,["thought"]);h!=null&&y(t,["thought"],h);const m=v(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const g=v(e,["videoMetadata"]);return g!=null&&y(t,["videoMetadata"],g),t}function hV(e){const t={},n=v(e,["handle"]);if(n!=null&&y(t,["handle"],n),v(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function pV(e){const t={},n=v(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(e,["googleSearchRetrieval"]);r!=null&&y(t,["googleSearchRetrieval"],r);const i=v(e,["computerUse"]);i!=null&&y(t,["computerUse"],i);const o=v(e,["fileSearch"]);o!=null&&y(t,["fileSearch"],o);const l=v(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=v(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],lV(u));const d=v(e,["googleSearch"]);d!=null&&y(t,["googleSearch"],uV(d));const f=v(e,["urlContext"]);return f!=null&&y(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mV(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);t.push(...i)}else t.push(n)}return t.join(",")}function vV(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(e.bidiGenerateContentSetup=o,n=o):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const o=mV(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)o?e.fieldMask=o:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(f=>l.includes(f)?`generationConfig.${f}`:f));const d=[];o&&d.push(o),u.length>0&&d.push(...u),d.length>0?e.fieldMask=d.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class gV extends Di{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=aV(this.apiClient,t);o=le("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const d=vV(u,t.config);return i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yV(e,t){const n={},r=v(e,["force"]);return t!==void 0&&r!=null&&y(t,["_query","force"],r),n}function bV(e){const t={},n=v(e,["name"]);n!=null&&y(t,["_url","name"],n);const r=v(e,["config"]);return r!=null&&yV(r,t),t}function xV(e){const t={},n=v(e,["name"]);return n!=null&&y(t,["_url","name"],n),t}function wV(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function _V(e){const t={},n=v(e,["parent"]);n!=null&&y(t,["_url","parent"],n);const r=v(e,["config"]);return r!=null&&wV(r,t),t}function SV(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=v(e,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(t,["documents"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EV extends Di{constructor(t){super(),this.apiClient=t,this.list=async n=>new wo(Ai.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=xV(t);return o=le("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(t){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=bV(t);i=le("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=_V(t);return o=le("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=SV(d),h=new rq;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TV extends Di{constructor(t,n=new EV(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new wo(Ai.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=mG(t);return o=le("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async get(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=yG(t);return o=le("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(t){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=gG(t);i=le("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=EG(t);return o=le("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=TG(d),h=new iq;return Object.assign(h,f),h})}}async uploadToFileSearchStoreInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=AG(t);return o=le("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=CG(d),h=new aq;return Object.assign(h,f),h})}}async importFile(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=wG(t);return o=le("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=xG(d),h=new Bb;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let lM=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return lM=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const AV=()=>lM();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function E0(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const T0=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vr extends Error{}class Sn extends vr{constructor(t,n,r,i){super(`${Sn.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.error=n}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t||!i)return new Uh({message:r,cause:T0(n)});const o=n;return t===400?new cM(t,o,r,i):t===401?new dM(t,o,r,i):t===403?new fM(t,o,r,i):t===404?new hM(t,o,r,i):t===409?new pM(t,o,r,i):t===422?new mM(t,o,r,i):t===429?new vM(t,o,r,i):t>=500?new gM(t,o,r,i):new Sn(t,o,r,i)}}class A0 extends Sn{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Uh extends Sn{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class uM extends Uh{constructor({message:t}={}){super({message:t??"Request timed out."})}}class cM extends Sn{}class dM extends Sn{}class fM extends Sn{}class hM extends Sn{}class pM extends Sn{}class mM extends Sn{}class vM extends Sn{}class gM extends Sn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CV=/^[a-z][a-z0-9+.-]*:/i,kV=e=>CV.test(e);let C0=e=>(C0=Array.isArray,C0(e));const NV=C0;let PV=NV;const VA=PV;function RV(e){if(!e)return!0;for(const t in e)return!1;return!0}function OV(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const MV=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new vr(`${e} must be an integer`);if(t<0)throw new vr(`${e} must be a positive integer`);return t},IV=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DV=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Es="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UV(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const LV=()=>{var e,t,n,r,i;const o=UV();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Es,"X-Stainless-OS":KA(Deno.build.os),"X-Stainless-Arch":FA(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Es,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Es,"X-Stainless-OS":KA((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":FA((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const l=jV();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Es,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Es,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function jV(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,l=r[3]||0;return{browser:t,version:`${i}.${o}.${l}`}}}return null}const FA=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",KA=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Vd;const BV=()=>Vd??(Vd=LV());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zV(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function yM(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function $V(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return yM({start(){},async pull(n){const{done:r,value:i}=await t.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function bM(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function qV(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const r=e.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HV=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xM=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function lg(e,t,n){return xM(),new File(e,t??"unknown_file",n)}function GV(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const VV=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wM=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",FV=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&wM(e),KV=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function YV(e,t,n){if(xM(),e=await e,FV(e))return e instanceof File?e:lg([await e.arrayBuffer()],e.name);if(KV(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),lg(await k0(i),t,n)}const r=await k0(e);if(t||(t=GV(e)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return lg(r,t,n)}async function k0(e){var t,n,r,i,o;let l=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)l.push(e);else if(wM(e))l.push(e instanceof Blob?e:await e.arrayBuffer());else if(VV(e))try{for(var u=!0,d=Mr(e),f;f=await d.next(),t=f.done,!t;u=!0){i=f.value,u=!1;const h=i;l.push(...await k0(h))}}catch(h){n={error:h}}finally{try{!u&&!t&&(r=d.return)&&await r.call(d)}finally{if(n)throw n.error}}else{const h=(o=e==null?void 0:e.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof e}${h?`; constructor: ${h}`:""}${WV(e)}`)}return l}function WV(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _M{constructor(t){this._client=t}}_M._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SM(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const YA=Object.freeze(Object.create(null)),JV=(e=SM)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],l=n.reduce((h,m,g)=>{var x,S,E;/[?#]/.test(m)&&(i=!0);const T=r[g];let C=(i?encodeURIComponent:e)(""+T);return g!==r.length&&(T==null||typeof T=="object"&&T.toString===((E=Object.getPrototypeOf((S=Object.getPrototypeOf((x=T.hasOwnProperty)!==null&&x!==void 0?x:YA))!==null&&S!==void 0?S:YA))===null||E===void 0?void 0:E.toString))&&(C=T+"",o.push({start:h.length+m.length,length:C.length,error:`Value of type ${Object.prototype.toString.call(T).slice(8,-1)} is not a valid path parameter`})),h+m+(g===r.length?"":C)},""),u=l.split(/[?#]/,1)[0],d=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=d.exec(u))!==null;)o.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(o.sort((h,m)=>h.start-m.start),o.length>0){let h=0;const m=o.reduce((g,x)=>{const S=" ".repeat(x.start-h),E="^".repeat(x.length);return h=x.start+x.length,g+S+E},"");throw new vr(`Path parameters result in path with invalid segments:
${o.map(g=>g.error).join(`
`)}
${l}
${m}`)}return l}),Fd=JV(SM);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EM extends _M{create(t,n){var r;const{api_version:i=this._client.apiVersion}=t,o=Mf(t,["api_version"]);if("model"in o&&"agent_config"in o)throw new vr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new vr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Fd`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=t.stream)!==null&&r!==void 0?r:!1}))}delete(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Fd`/${i}/interactions/${t}`,r)}cancel(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Fd`/${i}/interactions/${t}/cancel`,r)}get(t,n={},r){var i;const o=n??{},{api_version:l=this._client.apiVersion}=o,u=Mf(o,["api_version"]);return this._client.get(Fd`/${l}/interactions/${t}`,Object.assign(Object.assign({query:u},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}EM._key=Object.freeze(["interactions"]);class TM extends EM{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XV(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}let Kd;function Fb(e){let t;return(Kd??(t=new globalThis.TextEncoder,Kd=t.encode.bind(t)))(e)}let Yd;function WA(e){let t;return(Yd??(t=new globalThis.TextDecoder,Yd=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lh{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Fb(t):t;this.buffer=XV([this.buffer,n]);const r=[];let i;for(;(i=ZV(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(WA(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,l=WA(this.buffer.subarray(0,o));r.push(l),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Lh.NEWLINE_CHARS=new Set([`
`,"\r"]);Lh.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function ZV(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function QV(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const If={off:0,error:200,warn:300,info:400,debug:500},JA=(e,t,n)=>{if(e){if(OV(If,e))return e;xn(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(If))}`)}};function xu(){}function Wd(e,t,n){return!t||If[e]>If[n]?xu:t[e].bind(t)}const eF={error:xu,warn:xu,info:xu,debug:xu};let XA=new WeakMap;function xn(e){var t;const n=e.logger,r=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return eF;const i=XA.get(n);if(i&&i[0]===r)return i[1];const o={error:Wd("error",n,r),warn:Wd("warn",n,r),info:Wd("info",n,r),debug:Wd("debug",n,r)};return XA.set(n,[r,o]),o}const Xa=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ns{constructor(t,n,r){this.iterator=t,this.controller=n,this.client=r}static fromSSEResponse(t,n,r){let i=!1;const o=r?xn(r):console;function l(){return Or(this,arguments,function*(){var d,f,h,m;if(i)throw new vr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var x=!0,S=Mr(tF(t,n)),E;E=yield Ce(S.next()),d=E.done,!d;x=!0){m=E.value,x=!1;const T=m;if(!g)if(T.data.startsWith("[DONE]")){g=!0;continue}else try{yield yield Ce(JSON.parse(T.data))}catch(C){throw o.error("Could not parse message into JSON:",T.data),o.error("From chunk:",T.raw),C}}}catch(T){f={error:T}}finally{try{!x&&!d&&(h=S.return)&&(yield Ce(h.call(S)))}finally{if(f)throw f.error}}g=!0}catch(T){if(E0(T))return yield Ce(void 0);throw T}finally{g||n.abort()}})}return new Ns(l,n,r)}static fromReadableStream(t,n,r){let i=!1;function o(){return Or(this,arguments,function*(){var d,f,h,m;const g=new Lh,x=bM(t);try{for(var S=!0,E=Mr(x),T;T=yield Ce(E.next()),d=T.done,!d;S=!0){m=T.value,S=!1;const C=m;for(const P of g.decode(C))yield yield Ce(P)}}catch(C){f={error:C}}finally{try{!S&&!d&&(h=E.return)&&(yield Ce(h.call(E)))}finally{if(f)throw f.error}}for(const C of g.flush())yield yield Ce(C)})}function l(){return Or(this,arguments,function*(){var d,f,h,m;if(i)throw new vr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var x=!0,S=Mr(o()),E;E=yield Ce(S.next()),d=E.done,!d;x=!0){m=E.value,x=!1;const T=m;g||T&&(yield yield Ce(JSON.parse(T)))}}catch(T){f={error:T}}finally{try{!x&&!d&&(h=S.return)&&(yield Ce(h.call(S)))}finally{if(f)throw f.error}}g=!0}catch(T){if(E0(T))return yield Ce(void 0);throw T}finally{g||n.abort()}})}return new Ns(l,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const l=r.next();t.push(l),n.push(l)}return o.shift()}});return[new Ns(()=>i(t),this.controller,this.client),new Ns(()=>i(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return yM({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const l=Fb(JSON.stringify(i)+`
`);r.enqueue(l)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function tF(e,t){return Or(this,arguments,function*(){var r,i,o,l;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new vr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new vr("Attempted to iterate over a response with no body");const u=new rF,d=new Lh,f=bM(e.body);try{for(var h=!0,m=Mr(nF(f)),g;g=yield Ce(m.next()),r=g.done,!r;h=!0){l=g.value,h=!1;const x=l;for(const S of d.decode(x)){const E=u.decode(S);E&&(yield yield Ce(E))}}}catch(x){i={error:x}}finally{try{!h&&!r&&(o=m.return)&&(yield Ce(o.call(m)))}finally{if(i)throw i.error}}for(const x of d.flush()){const S=u.decode(x);S&&(yield yield Ce(S))}})}function nF(e){return Or(this,arguments,function*(){var n,r,i,o;let l=new Uint8Array;try{for(var u=!0,d=Mr(e),f;f=yield Ce(d.next()),n=f.done,!n;u=!0){o=f.value,u=!1;const h=o;if(h==null)continue;const m=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?Fb(h):h;let g=new Uint8Array(l.length+m.length);g.set(l),g.set(m,l.length),l=g;let x;for(;(x=QV(l))!==-1;)yield yield Ce(l.slice(0,x)),l=l.slice(x)}}catch(h){r={error:h}}finally{try{!u&&!n&&(i=d.return)&&(yield Ce(i.call(d)))}finally{if(r)throw r.error}}l.length>0&&(yield yield Ce(l))})}class rF{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,i]=iF(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function iF(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function aF(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=t,l=await(async()=>{var u;if(t.options.stream)return xn(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):Ns.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const d=n.headers.get("content-type"),f=(u=d==null?void 0:d.split(";")[0])===null||u===void 0?void 0:u.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?await n.json():await n.text()})();return xn(e).debug(`[${r}] response parsed`,Xa({retryOfRequestLogID:i,url:n.url,status:n.status,body:l,durationMs:Date.now()-o})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kb extends Promise{constructor(t,n,r=aF){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=t}_thenUnwrap(t){return new Kb(this.client,this.responsePromise,async(n,r)=>t(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AM=Symbol("brand.privateNullableHeaders");function*oF(e){if(!e)return;if(AM in e){const{values:r,nulls:i}=e;yield*r.entries();for(const o of i)yield[o,null];return}let t=!1,n;e instanceof Headers?n=e.entries():VA(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=VA(r[1])?r[1]:[r[1]];let l=!1;for(const u of o)u!==void 0&&(t&&!l&&(l=!0,yield[i,null]),yield[i,u])}}const uu=e=>{const t=new Headers,n=new Set;for(const r of e){const i=new Set;for(const[o,l]of oF(r)){const u=o.toLowerCase();i.has(u)||(t.delete(o),i.add(u)),l===null?(t.delete(o),n.add(u)):(t.append(o,l),n.delete(u))}}return{[AM]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ug=e=>{var t,n,r,i,o,l;if(typeof globalThis.process<"u")return(r=(n=(t=O$)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(l=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,e))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var CM;class jh{constructor(t){var n,r,i,o,l,u,d,{baseURL:f=ug("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=ug("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:m="v1beta"}=t,g=Mf(t,["baseURL","apiKey","apiVersion"]);const x=Object.assign(Object.assign({apiKey:h,apiVersion:m},g),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=x.baseURL,this.timeout=(r=x.timeout)!==null&&r!==void 0?r:jh.DEFAULT_TIMEOUT,this.logger=(i=x.logger)!==null&&i!==void 0?i:console;const S="warn";this.logLevel=S,this.logLevel=(l=(o=JA(x.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:JA(ug("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:S,this.fetchOptions=x.fetchOptions,this.maxRetries=(u=x.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(d=x.fetch)!==null&&d!==void 0?d:zV(),this.encoder=HV,this._options=x,this.apiKey=h,this.apiVersion=m,this.clientAdapter=x.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=uu([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return uu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return uu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new vr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Es}`}defaultIdempotencyKey(){return`stainless-node-retry-${AV()}`}makeStatusError(t,n,r,i){return Sn.generate(t,n,r,i)}buildURL(t,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=kV(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),l=this.defaultQuery();return RV(l)||(n=Object.assign(Object.assign({},l),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:t,path:n},i)))}request(t,n=null){return new Kb(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var i,o,l;const u=await t,d=(i=u.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=d),await this.prepareOptions(u);const{req:f,url:h,timeout:m}=await this.buildRequest(u,{retryCount:d-n});await this.prepareRequest(f,{url:h,options:u});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),x=r===void 0?"":`, retryOf: ${r}`,S=Date.now();if(xn(this).debug(`[${g}] sending request`,Xa({retryOfRequestLogID:r,method:u.method,url:h,options:u,headers:f.headers})),!((o=u.signal)===null||o===void 0)&&o.aborted)throw new A0;const E=new AbortController,T=await this.fetchWithTimeout(h,f,m,E).catch(T0),C=Date.now();if(T instanceof globalThis.Error){const N=`retrying, ${n} attempts remaining`;if(!((l=u.signal)===null||l===void 0)&&l.aborted)throw new A0;const R=E0(T)||/timed? ?out/i.test(String(T)+("cause"in T?String(T.cause):""));if(n)return xn(this).info(`[${g}] connection ${R?"timed out":"failed"} - ${N}`),xn(this).debug(`[${g}] connection ${R?"timed out":"failed"} (${N})`,Xa({retryOfRequestLogID:r,url:h,durationMs:C-S,message:T.message})),this.retryRequest(u,n,r??g);throw xn(this).info(`[${g}] connection ${R?"timed out":"failed"} - error; no more retries left`),xn(this).debug(`[${g}] connection ${R?"timed out":"failed"} (error; no more retries left)`,Xa({retryOfRequestLogID:r,url:h,durationMs:C-S,message:T.message})),R?new uM:new Uh({cause:T})}const P=`[${g}${x}] ${f.method} ${h} ${T.ok?"succeeded":"failed"} with status ${T.status} in ${C-S}ms`;if(!T.ok){const N=await this.shouldRetry(T);if(n&&N){const $=`retrying, ${n} attempts remaining`;return await qV(T.body),xn(this).info(`${P} - ${$}`),xn(this).debug(`[${g}] response error (${$})`,Xa({retryOfRequestLogID:r,url:T.url,status:T.status,headers:T.headers,durationMs:C-S})),this.retryRequest(u,n,r??g,T.headers)}const R=N?"error; no more retries left":"error; not retryable";xn(this).info(`${P} - ${R}`);const M=await T.text().catch($=>T0($).message),I=IV(M),D=I?void 0:M;throw xn(this).debug(`[${g}] response error (${R})`,Xa({retryOfRequestLogID:r,url:T.url,status:T.status,headers:T.headers,message:D,durationMs:Date.now()-S})),this.makeStatusError(T.status,I,D,T.headers)}return xn(this).info(P),xn(this).debug(`[${g}] response start`,Xa({retryOfRequestLogID:r,url:T.url,status:T.status,headers:T.headers,durationMs:C-S})),{response:T,options:u,controller:E,requestLogID:g,retryOfRequestLogID:r,startTime:S}}async fetchWithTimeout(t,n,r,i){const o=n||{},{signal:l,method:u}=o,d=Mf(o,["signal","method"]);l&&l.addEventListener("abort",()=>i.abort());const f=setTimeout(()=>i.abort(),r),h=globalThis.ReadableStream&&d.body instanceof globalThis.ReadableStream||typeof d.body=="object"&&d.body!==null&&Symbol.asyncIterator in d.body,m=Object.assign(Object.assign(Object.assign({signal:i.signal},h?{duplex:"half"}:{}),{method:"GET"}),d);u&&(m.method=u.toUpperCase());try{return await this.fetch.call(void 0,t,m)}finally{clearTimeout(f)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,i){var o;let l;const u=i==null?void 0:i.get("retry-after-ms");if(u){const f=parseFloat(u);Number.isNaN(f)||(l=f)}const d=i==null?void 0:i.get("retry-after");if(d&&!l){const f=parseFloat(d);Number.isNaN(f)?l=Date.parse(d)-Date.now():l=f*1e3}if(!(l&&0<=l&&l<60*1e3)){const f=(o=t.maxRetries)!==null&&o!==void 0?o:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,f)}return await DV(l),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const o=n-t,l=Math.min(.5*Math.pow(2,o),8),u=1-Math.random()*.25;return l*u*1e3}async buildRequest(t,{retryCount:n=0}={}){var r,i,o;const l=Object.assign({},t),{method:u,path:d,query:f,defaultBaseURL:h}=l,m=this.buildURL(d,f,h);"timeout"in l&&MV("timeout",l.timeout),l.timeout=(r=l.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:g,body:x}=this.buildBody({options:l}),S=await this.buildHeaders({options:t,method:u,bodyHeaders:g,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:S},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&x instanceof globalThis.ReadableStream&&{duplex:"half"}),x&&{body:x}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=l.fetchOptions)!==null&&o!==void 0?o:{}),url:m,timeout:l.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=t.idempotencyKey);const l=await this.authHeaders(t);let u=uu([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),BV()),this._options.defaultHeaders,r,t.headers,l]);return this.validateHeaders(u),u.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=uu([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:$V(t)}:this.encoder({body:t,headers:r})}}jh.DEFAULT_TIMEOUT=6e4;class Xt extends jh{constructor(){super(...arguments),this.interactions=new TM(this)}}CM=Xt;Xt.GeminiNextGenAPIClient=CM;Xt.GeminiNextGenAPIClientError=vr;Xt.APIError=Sn;Xt.APIConnectionError=Uh;Xt.APIConnectionTimeoutError=uM;Xt.APIUserAbortError=A0;Xt.NotFoundError=hM;Xt.ConflictError=pM;Xt.RateLimitError=vM;Xt.BadRequestError=cM;Xt.AuthenticationError=dM;Xt.InternalServerError=gM;Xt.PermissionDeniedError=fM;Xt.UnprocessableEntityError=mM;Xt.toFile=YV;Xt.Interactions=TM;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sF(e,t){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function lF(e,t){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function uF(e,t){const n={},r=v(e,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function cF(e,t){const n={},r=v(e,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function dF(e,t,n){const r={};if(v(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=v(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&y(t,["displayName"],i),v(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=v(e,["epochCount"]);t!==void 0&&o!=null&&y(t,["tuningTask","hyperparameters","epochCount"],o);const l=v(e,["learningRateMultiplier"]);if(l!=null&&y(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),v(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(v(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(v(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=v(e,["batchSize"]);t!==void 0&&u!=null&&y(t,["tuningTask","hyperparameters","batchSize"],u);const d=v(e,["learningRate"]);if(t!==void 0&&d!=null&&y(t,["tuningTask","hyperparameters","learningRate"],d),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(v(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function fF(e,t,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const x=v(e,["validationDataset"]);t!==void 0&&x!=null&&y(t,["supervisedTuningSpec"],ZA(x))}else if(i==="PREFERENCE_TUNING"){const x=v(e,["validationDataset"]);t!==void 0&&x!=null&&y(t,["preferenceOptimizationSpec"],ZA(x))}const o=v(e,["tunedModelDisplayName"]);t!==void 0&&o!=null&&y(t,["tunedModelDisplayName"],o);const l=v(e,["description"]);t!==void 0&&l!=null&&y(t,["description"],l);let u=v(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const x=v(e,["epochCount"]);t!==void 0&&x!=null&&y(t,["supervisedTuningSpec","hyperParameters","epochCount"],x)}else if(u==="PREFERENCE_TUNING"){const x=v(e,["epochCount"]);t!==void 0&&x!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],x)}let d=v(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const x=v(e,["learningRateMultiplier"]);t!==void 0&&x!=null&&y(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x)}else if(d==="PREFERENCE_TUNING"){const x=v(e,["learningRateMultiplier"]);t!==void 0&&x!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],x)}let f=v(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const x=v(e,["exportLastCheckpointOnly"]);t!==void 0&&x!=null&&y(t,["supervisedTuningSpec","exportLastCheckpointOnly"],x)}else if(f==="PREFERENCE_TUNING"){const x=v(e,["exportLastCheckpointOnly"]);t!==void 0&&x!=null&&y(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],x)}let h=v(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const x=v(e,["adapterSize"]);t!==void 0&&x!=null&&y(t,["supervisedTuningSpec","hyperParameters","adapterSize"],x)}else if(h==="PREFERENCE_TUNING"){const x=v(e,["adapterSize"]);t!==void 0&&x!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],x)}if(v(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(v(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=v(e,["labels"]);t!==void 0&&m!=null&&y(t,["labels"],m);const g=v(e,["beta"]);return t!==void 0&&g!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","beta"],g),r}function hF(e,t){const n={},r=v(e,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=v(e,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const o=v(e,["trainingDataset"]);o!=null&&EF(o);const l=v(e,["config"]);return l!=null&&dF(l,n),n}function pF(e,t){const n={},r=v(e,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=v(e,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const o=v(e,["trainingDataset"]);o!=null&&TF(o,n,t);const l=v(e,["config"]);return l!=null&&fF(l,n,t),n}function mF(e,t){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function vF(e,t){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function gF(e,t,n){const r={},i=v(e,["pageSize"]);t!==void 0&&i!=null&&y(t,["_query","pageSize"],i);const o=v(e,["pageToken"]);t!==void 0&&o!=null&&y(t,["_query","pageToken"],o);const l=v(e,["filter"]);return t!==void 0&&l!=null&&y(t,["_query","filter"],l),r}function yF(e,t,n){const r={},i=v(e,["pageSize"]);t!==void 0&&i!=null&&y(t,["_query","pageSize"],i);const o=v(e,["pageToken"]);t!==void 0&&o!=null&&y(t,["_query","pageToken"],o);const l=v(e,["filter"]);return t!==void 0&&l!=null&&y(t,["_query","filter"],l),r}function bF(e,t){const n={},r=v(e,["config"]);return r!=null&&gF(r,n),n}function xF(e,t){const n={},r=v(e,["config"]);return r!=null&&yF(r,n),n}function wF(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(e,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const o=v(e,["tunedModels"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>kM(u))),y(n,["tuningJobs"],l)}return n}function _F(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(e,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const o=v(e,["tuningJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>N0(u))),y(n,["tuningJobs"],l)}return n}function SF(e,t){const n={},r=v(e,["name"]);r!=null&&y(n,["model"],r);const i=v(e,["name"]);return i!=null&&y(n,["endpoint"],i),n}function EF(e,t){const n={};if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=v(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),y(n,["examples","examples"],i)}return n}function TF(e,t,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=v(e,["gcsUri"]);t!==void 0&&l!=null&&y(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=v(e,["gcsUri"]);t!==void 0&&l!=null&&y(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let o=v(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const l=v(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&y(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(o==="PREFERENCE_TUNING"){const l=v(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&y(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(v(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function kM(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(e,["name"]);i!=null&&y(n,["name"],i);const o=v(e,["state"]);o!=null&&y(n,["state"],GO(o));const l=v(e,["createTime"]);l!=null&&y(n,["createTime"],l);const u=v(e,["tuningTask","startTime"]);u!=null&&y(n,["startTime"],u);const d=v(e,["tuningTask","completeTime"]);d!=null&&y(n,["endTime"],d);const f=v(e,["updateTime"]);f!=null&&y(n,["updateTime"],f);const h=v(e,["description"]);h!=null&&y(n,["description"],h);const m=v(e,["baseModel"]);m!=null&&y(n,["baseModel"],m);const g=v(e,["_self"]);return g!=null&&y(n,["tunedModel"],SF(g)),n}function N0(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(e,["name"]);i!=null&&y(n,["name"],i);const o=v(e,["state"]);o!=null&&y(n,["state"],GO(o));const l=v(e,["createTime"]);l!=null&&y(n,["createTime"],l);const u=v(e,["startTime"]);u!=null&&y(n,["startTime"],u);const d=v(e,["endTime"]);d!=null&&y(n,["endTime"],d);const f=v(e,["updateTime"]);f!=null&&y(n,["updateTime"],f);const h=v(e,["error"]);h!=null&&y(n,["error"],h);const m=v(e,["description"]);m!=null&&y(n,["description"],m);const g=v(e,["baseModel"]);g!=null&&y(n,["baseModel"],g);const x=v(e,["tunedModel"]);x!=null&&y(n,["tunedModel"],x);const S=v(e,["preTunedModel"]);S!=null&&y(n,["preTunedModel"],S);const E=v(e,["supervisedTuningSpec"]);E!=null&&y(n,["supervisedTuningSpec"],E);const T=v(e,["preferenceOptimizationSpec"]);T!=null&&y(n,["preferenceOptimizationSpec"],T);const C=v(e,["tuningDataStats"]);C!=null&&y(n,["tuningDataStats"],C);const P=v(e,["encryptionSpec"]);P!=null&&y(n,["encryptionSpec"],P);const N=v(e,["partnerModelTuningSpec"]);N!=null&&y(n,["partnerModelTuningSpec"],N);const R=v(e,["customBaseModel"]);R!=null&&y(n,["customBaseModel"],R);const M=v(e,["experiment"]);M!=null&&y(n,["experiment"],M);const I=v(e,["labels"]);I!=null&&y(n,["labels"],I);const D=v(e,["outputUri"]);D!=null&&y(n,["outputUri"],D);const F=v(e,["pipelineJob"]);F!=null&&y(n,["pipelineJob"],F);const $=v(e,["serviceAccount"]);$!=null&&y(n,["serviceAccount"],$);const Q=v(e,["tunedModelDisplayName"]);Q!=null&&y(n,["tunedModelDisplayName"],Q);const W=v(e,["veoTuningSpec"]);return W!=null&&y(n,["veoTuningSpec"],W),n}function AF(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(e,["name"]);i!=null&&y(n,["name"],i);const o=v(e,["metadata"]);o!=null&&y(n,["metadata"],o);const l=v(e,["done"]);l!=null&&y(n,["done"],l);const u=v(e,["error"]);return u!=null&&y(n,["error"],u),n}function ZA(e,t){const n={},r=v(e,["gcsUri"]);r!=null&&y(n,["validationDatasetUri"],r);const i=v(e,["vertexDatasetResource"]);return i!=null&&y(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CF extends Di{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new wo(Ai.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let l="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?l=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(l=o.name.split("/operations/")[0]),{name:l,state:g0.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=vF(t);return u=le("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>N0(h))}else{const f=mF(t);return u=le("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>kM(h))}}async listInternal(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=xF(t);return u=le("tuningJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=_F(h),g=new EA;return Object.assign(g,m),g})}else{const f=bF(t);return u=le("tunedModels",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=wF(h),g=new EA;return Object.assign(g,m),g})}}async cancel(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=lF(t);return u=le("{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=cF(h),g=new TA;return Object.assign(g,m),g})}else{const f=sF(t);return u=le("{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=uF(h),g=new TA;return Object.assign(g,m),g})}}async tuneInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=pF(t,t);return o=le("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>N0(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=hF(t);return o=le("tunedModels",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>AF(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kF{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const NF=1024*1024*8,PF=3,RF=1e3,OF=2,Df="x-goog-upload-status";async function MF(e,t,n){var r;const i=await NM(e,t,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Df])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function IF(e,t,n){var r;const i=await NM(e,t,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Df])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=jO(o),u=new zb;return Object.assign(u,l),u}async function NM(e,t,n){var r,i;let o=0,l=0,u=new y0(new Response),d="upload";for(o=e.size;l<o;){const f=Math.min(NF,o-l),h=e.slice(l,l+f);l+f>=o&&(d+=", finalize");let m=0,g=RF;for(;m<PF&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(l),"Content-Length":String(f)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[Df]));)m++,await UF(g),g=g*OF;if(l+=f,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[Df])!=="active")break;if(o<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function DF(e){return{size:e.size,type:e.type}}function UF(e){return new Promise(t=>setTimeout(t,e))}class LF{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await MF(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await IF(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await DF(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jF{create(t,n,r){return new BF(t,n,r)}}class BF{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QA="x-goog-api-key";class zF{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(QA)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(QA,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $F="gl-node/";class qF{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Xt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=U$(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const i=new zF(this.apiKey);this.apiClient=new DG({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:$F+"web",uploader:new LF,downloader:new kF}),this.models=new eV(this.apiClient),this.live=new YG(this.apiClient,i,new jF),this.batches=new d6(this.apiClient),this.chats=new F6(this.models,this.apiClient),this.caches=new H6(this.apiClient),this.files=new n8(this.apiClient),this.operations=new tV(this.apiClient),this.authTokens=new gV(this.apiClient),this.tunings=new CF(this.apiClient),this.fileSearchStores=new TV(this.apiClient)}}new qF({apiKey:void 0});const HF=async(e,t,n,r="elder",i="home")=>(console.warn("No API Key provided. Returning mock data."),VF(e,r,i)),GF=async(e,t,n,r="home")=>FF(e,n,r),VF=(e,t,n)=>({title:`The Way of ${e}`,duration:"15 mins",objective:"To understand the value of patience.",storyOrProverb:t==="uncle"?"Lagos no be for sleeping bike. But rush and crash is not the way.":"The patient dog eats the fattest bone.",discussionPoints:["Why do we wait?","What happens when you rush?"],practicalActivity:{name:n==="diaspora"?"The 'No' Challenge (Supermarket)":"The Market Bargain",instructions:["Wait before asking.","Count to ten."]},streetSmartTip:t==="auntie"?"Fix your collar before you step out.":"Shine your eyes."}),FF=(e,t,n)=>({situation:n==="diaspora"?"You are at school and your friends are laughing at your Nigerian lunch.":"You are at the market and the seller gives you N200 extra change by mistake.",options:[{id:"A",text:n==="diaspora"?"Throw the food away.":"Keep the money.",outcome:"Ah! Never deny your heritage.",score:0},{id:"B",text:n==="diaspora"?"Share it and explain it's delicious.":"Return the money.",outcome:"You have done well. Pride in who you are.",score:100},{id:"C",text:n==="diaspora"?"Eat silently.":"Tell your mummy.",outcome:"Okay, but stand tall.",score:50}]}),wa=[{id:"grit",label:"Grit & Hustle",color:"#C27856"},{id:"money",label:"Money Sense",color:"#3A5F45"},{id:"respect",label:"Respect & Culture",color:"#8B5A2B"},{id:"street-smarts",label:"Street Smarts",color:"#2C241B"}],eC=({id:e,active:t})=>{const n=t?"text-white":"text-iroko-dark/50";switch(e){case"grit":return _.jsx($3,{className:n});case"money":return _.jsx(e0,{className:n});case"respect":return _.jsx(m5,{className:n});case"street-smarts":return _.jsx(E5,{className:n});default:return _.jsx(kh,{className:n})}},cu=[{id:"elder",name:"Baba Iroko",role:"The Wise Elder",icon:Cu,color:"bg-iroko-earth",desc:"Patient wisdom, proverbs, and deep roots.",premium:!1},{id:"auntie",name:"Auntie Nkechi",role:"The Disciplinarian",icon:dO,color:"bg-iroko-clay",desc:"Strict on manners, hygiene, and respect.",premium:!0},{id:"uncle",name:"Uncle Femi",role:"Lagos Hustler",icon:lO,color:"bg-iroko-dark",desc:"Street smarts, money moves, and ambition.",premium:!0}],KF=({parent:e,onTriggerPaywall:t})=>{var T,C,P,N;const[n,r]=A.useState("input"),[i,o]=A.useState(""),[l,u]=A.useState(8),[d,f]=A.useState(wa[0].id),[h,m]=A.useState("elder"),[g,x]=A.useState(null),S=R=>{if(R.premium&&e.subscriptionTier!=="Chief"){t();return}m(R.id)},E=async()=>{if(i.trim()){r("loading");try{const R=await HF(`${d} - ${i}`,l,"Parent wants to teach a lesson today.",h,e.locationContext);x(R),r("result")}catch(R){console.error(R),r("input"),alert("We couldn't reach the Council of Elders just now. Please try again.")}}};if(n==="loading"){const R=cu.find(M=>M.id===h);return _.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center space-y-8 animate-fade-in max-w-md mx-auto",children:[_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:`w-24 h-24 border-4 border-opacity-20 rounded-full animate-spin border-t-current text-${R==null?void 0:R.color.replace("bg-","")}`}),_.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-4xl animate-pulse",children:[h==="elder"&&"",h==="auntie"&&"",h==="uncle"&&""]})]}),_.jsxs("div",{children:[_.jsxs("h3",{className:"text-2xl font-display font-bold text-iroko-dark mb-2",children:[R==null?void 0:R.name," is thinking..."]}),_.jsxs("p",{className:"text-stone-500 font-light",children:["Crafting a lesson on ",(T=wa.find(M=>M.id===d))==null?void 0:T.label,"."]})]})]})}if(n==="result"&&g){const R=cu.find(M=>M.id===h);return _.jsxs("div",{className:"max-w-3xl mx-auto pb-12 animate-slide-up",children:[_.jsxs("button",{onClick:()=>r("input"),className:"mb-8 group flex items-center gap-2 text-stone-500 hover:text-iroko-dark transition-colors px-4 py-2",children:[_.jsx("div",{className:"w-8 h-8 rounded-full bg-white border border-stone-200 flex items-center justify-center group-hover:border-iroko-dark transition-colors",children:_.jsx(oO,{size:16})}),_.jsx("span",{className:"font-medium",children:"Create New Lesson"})]}),_.jsxs("div",{className:"bg-[#FFFCF8] rounded-[3rem] shadow-2xl shadow-stone-300/50 overflow-hidden relative border border-stone-100",children:[_.jsx("div",{className:"absolute inset-0 opacity-40 mix-blend-multiply bg-[url('https://www.transparenttextures.com/patterns/cream-paper.png')] pointer-events-none"}),_.jsxs("div",{className:"p-8 md:p-12 border-b border-stone-100/50 relative z-10",children:[_.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[_.jsxs("div",{className:"flex gap-2",children:[_.jsxs("span",{className:"inline-flex items-center gap-2 bg-iroko-earth text-white px-4 py-2 rounded-full text-xs font-bold uppercase tracking-wider shadow-md shadow-iroko-earth/20",children:[_.jsx(eC,{id:d,active:!0}),(C=wa.find(M=>M.id===d))==null?void 0:C.label]}),_.jsx("span",{className:`inline-flex items-center gap-2 ${R==null?void 0:R.color} text-white px-4 py-2 rounded-full text-xs font-bold uppercase tracking-wider shadow-md`,children:R==null?void 0:R.name})]}),_.jsxs("span",{className:"inline-flex items-center gap-2 text-stone-500 font-medium text-sm bg-white/50 px-3 py-1 rounded-full border border-stone-100",children:[_.jsx(cO,{size:14})," ",g.duration," Activity"]})]}),_.jsx("h2",{className:"text-3xl md:text-5xl font-display font-bold text-iroko-dark mb-4 leading-[1.1]",children:g.title}),_.jsxs("p",{className:"text-xl text-stone-600 font-serif italic border-l-2 border-iroko-gold pl-4",children:['"Goal: ',g.objective,'"']})]}),_.jsxs("div",{className:"p-8 md:p-12 space-y-10 relative z-10 bg-gradient-to-b from-transparent to-[#F9F6F0]/50",children:[_.jsxs("section",{className:"bg-white rounded-[2rem] p-8 shadow-sm border border-stone-50",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[_.jsx("span",{className:"text-2xl",children:""}),_.jsx("h3",{className:"font-bold text-iroko-dark text-sm uppercase tracking-widest",children:h==="elder"?"The Ancient Wisdom":h==="uncle"?"The Street Code":"The Golden Rule"})]}),_.jsxs("p",{className:"text-lg md:text-xl text-iroko-dark/80 leading-relaxed font-serif",children:['"',g.storyOrProverb,'"']})]}),_.jsxs("section",{children:[_.jsxs("div",{className:"flex items-center gap-3 mb-6 pl-2",children:[_.jsx("div",{className:"w-8 h-8 rounded-full bg-iroko-green/10 flex items-center justify-center text-iroko-green",children:_.jsx(A5,{size:16})}),_.jsx("h3",{className:"font-bold text-iroko-dark text-sm uppercase tracking-widest",children:"Ask Your Child"})]}),_.jsx("div",{className:"grid gap-4",children:g.discussionPoints.map((M,I)=>_.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-stone-100 shadow-sm hover:shadow-md transition-shadow flex gap-5 items-start",children:[_.jsxs("span",{className:"text-iroko-green/40 font-bold text-2xl font-display leading-none",children:["0",I+1]}),_.jsx("span",{className:"text-stone-700 font-medium text-lg leading-snug",children:M})]},I))})]}),_.jsxs("section",{className:"bg-iroko-clay/5 rounded-[2.5rem] p-8 md:p-10 border border-iroko-clay/10 relative overflow-hidden",children:[_.jsx("div",{className:"absolute -right-10 -top-10 w-40 h-40 bg-iroko-clay/10 rounded-full blur-3xl"}),_.jsxs("h3",{className:"relative z-10 font-bold text-iroko-dark text-sm uppercase tracking-widest mb-6 flex items-center gap-2",children:[_.jsx("span",{className:"text-xl",children:""})," Action: ",g.practicalActivity.name]}),_.jsx("div",{className:"relative z-10 space-y-4",children:g.practicalActivity.instructions.map((M,I)=>_.jsxs("div",{className:"flex gap-4 items-start",children:[_.jsx("div",{className:"mt-2 w-2 h-2 rounded-full bg-iroko-clay shrink-0"}),_.jsx("span",{className:"text-iroko-dark/90 text-lg leading-relaxed",children:M})]},I))})]}),_.jsxs("section",{className:`p-8 md:p-10 rounded-[2.5rem] text-center relative overflow-hidden shadow-xl text-white ${R==null?void 0:R.color}`,children:[_.jsx("div",{className:"absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"}),_.jsxs("div",{className:"relative z-10",children:[_.jsxs("h4",{className:"text-white/70 text-[10px] font-bold uppercase tracking-widest mb-4",children:[R==null?void 0:R.name,"'s Final Word"]}),_.jsxs("p",{className:"text-xl md:text-2xl font-display font-bold leading-tight",children:['"',g.streetSmartTip,'"']})]})]}),_.jsxs("button",{className:"w-full py-5 rounded-2xl border-2 border-iroko-dark text-iroko-dark font-bold text-lg hover:bg-iroko-dark hover:text-white transition-all flex items-center justify-center gap-2 group",children:[_.jsx(B3,{size:20,className:"group-hover:fill-current"})," Save Lesson to Journal"]})]})]})]})}return _.jsxs("div",{className:"max-w-xl mx-auto py-8",children:[_.jsxs("div",{className:"text-center mb-10",children:[_.jsx("h2",{className:"text-4xl font-display font-bold text-iroko-dark mb-3",children:"Council of Elders"}),_.jsx("p",{className:"text-stone-500 text-lg font-light",children:"Who should teach this lesson?"})]}),_.jsxs("div",{className:"space-y-8",children:[_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:cu.map(R=>{const M=R.premium&&e.subscriptionTier!=="Chief";return _.jsxs("button",{onClick:()=>S(R),className:`relative p-4 rounded-2xl border-2 transition-all duration-300 flex flex-col items-center text-center gap-2 overflow-hidden group
                   ${h===R.id?`border-${R.color.replace("bg-","")} bg-stone-50 scale-105 shadow-lg`:"border-transparent bg-white hover:bg-stone-50"}`,children:[R.premium&&_.jsxs("div",{className:`absolute top-0 right-0 px-2 py-1 rounded-bl-xl text-[9px] font-bold uppercase tracking-wider flex items-center gap-1
                      ${M?"bg-stone-200 text-stone-500":"bg-iroko-gold text-white"}`,children:[M?_.jsx(Bs,{size:8}):_.jsx(Rr,{size:8,fill:"currentColor"}),M?"Locked":"Chief"]}),_.jsx("div",{className:`w-12 h-12 rounded-full ${R.color} flex items-center justify-center text-white shadow-md mt-2 ${M?"grayscale opacity-70":""}`,children:_.jsx(R.icon,{size:20})}),_.jsxs("div",{className:M?"opacity-60":"",children:[_.jsx("h3",{className:`font-bold text-sm ${h===R.id?"text-iroko-dark":"text-stone-500"}`,children:R.name}),_.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-stone-400",children:R.role})]}),h===R.id&&!M&&_.jsx("div",{className:"absolute top-2 left-2 bg-green-500 text-white p-1 rounded-full shadow-sm",children:_.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),M&&_.jsx("div",{className:"absolute inset-0 bg-white/50 backdrop-blur-[1px] opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:_.jsx("span",{className:"bg-iroko-dark text-white text-[10px] font-bold px-2 py-1 rounded-full shadow-lg",children:"Upgrade to Unlock"})})]},R.id)})}),_.jsx("div",{className:"bg-stone-50 p-4 rounded-xl text-xs text-stone-500 text-center leading-relaxed border border-stone-100",children:(P=cu.find(R=>R.id===h))==null?void 0:P.desc}),_.jsxs("div",{className:"bg-white p-6 rounded-[2rem] shadow-sm border border-stone-100",children:[_.jsxs("label",{className:"flex items-center justify-between text-sm font-bold text-stone-400 uppercase tracking-wide mb-6",children:[_.jsx("span",{children:"Child's Age"}),_.jsxs("span",{className:"text-iroko-dark bg-stone-100 px-3 py-1 rounded-full",children:[l," years"]})]}),_.jsx("input",{type:"range",min:"4",max:"16",value:l,onChange:R=>u(parseInt(R.target.value)),className:"w-full h-4 bg-stone-100 rounded-lg appearance-none cursor-pointer accent-iroko-earth hover:accent-iroko-dark transition-all"}),_.jsxs("div",{className:"flex justify-between mt-3 text-xs font-medium text-stone-400",children:[_.jsx("span",{children:"Young Child"}),_.jsx("span",{children:"Teenager"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-bold text-stone-400 uppercase tracking-wide mb-4 pl-4",children:"What does this teach?"}),_.jsx("div",{className:"grid grid-cols-2 gap-4",children:wa.map(R=>_.jsxs("button",{onClick:()=>f(R.id),className:`p-5 rounded-[1.5rem] text-left transition-all duration-300 relative overflow-hidden group
                  ${d===R.id?"bg-iroko-dark text-white shadow-xl shadow-iroko-dark/20 scale-[1.02]":"bg-white text-stone-500 hover:bg-stone-50 border border-stone-100"}`,children:[_.jsx("div",{className:"flex items-center gap-3 mb-2",children:_.jsx(eC,{id:R.id,active:d===R.id})}),_.jsx("span",{className:"block font-bold text-lg",children:R.label})]},R.id))})]}),_.jsx("div",{className:"bg-white p-2 rounded-[2rem] shadow-sm border border-stone-100 focus-within:ring-2 focus-within:ring-iroko-earth/10 focus-within:border-iroko-earth transition-all",children:_.jsx("textarea",{value:i,onChange:R=>o(R.target.value),placeholder:"e.g. Tunde lied about breaking the plate...",className:"w-full p-6 rounded-[1.8rem] bg-stone-50/50 border-none outline-none min-h-[160px] resize-none text-xl text-iroko-dark placeholder:text-stone-300 transition-all font-medium"})}),_.jsxs("button",{onClick:E,disabled:!i.trim(),className:"w-full py-6 bg-iroko-dark text-white rounded-[1.8rem] font-bold text-xl flex items-center justify-center gap-3 hover:bg-iroko-earth transition-all shadow-xl shadow-iroko-dark/20 disabled:opacity-50 disabled:shadow-none hover:scale-[1.02] active:scale-95",children:[_.jsx(kh,{size:24,className:i.trim()?"animate-pulse":""}),"Ask ",(N=cu.find(R=>R.id===h))==null?void 0:N.name.split(" ")[0]]})]})]})};function PM(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=PM(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function $e(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=PM(e))&&(r&&(r+=" "),r+=t);return r}var YF=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Yb(e){if(typeof e!="string")return!1;var t=YF;return t.includes(e)}var WF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],JF=new Set(WF);function RM(e){return typeof e!="string"?!1:JF.has(e)}function OM(e){return typeof e=="string"&&e.startsWith("data-")}function Nt(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(RM(n)||OM(n))&&(t[n]=e[n]);return t}function Qs(e){if(e==null)return null;if(A.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Nt(t)}return typeof e=="object"&&!Array.isArray(e)?Nt(e):null}function $t(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(RM(n)||OM(n)||Yb(n))&&(t[n]=e[n]);return t}function XF(e){return e==null?null:A.isValidElement(e)?$t(e.props):typeof e=="object"&&!Array.isArray(e)?$t(e):null}var ZF=["children","width","height","viewBox","className","style","title","desc"];function P0(){return P0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P0.apply(null,arguments)}function QF(e,t){if(e==null)return{};var n,r,i=e9(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function e9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var MM=A.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:o,className:l,style:u,title:d,desc:f}=e,h=QF(e,ZF),m=o||{width:r,height:i,x:0,y:0},g=$e("recharts-surface",l);return A.createElement("svg",P0({},$t(h),{className:g,width:r,height:i,style:u,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),A.createElement("title",null,d),A.createElement("desc",null,f),n)}),t9=["children","className"];function R0(){return R0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R0.apply(null,arguments)}function n9(e,t){if(e==null)return{};var n,r,i=r9(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function r9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var qt=A.forwardRef((e,t)=>{var{children:n,className:r}=e,i=n9(e,t9),o=$e("recharts-layer",r);return A.createElement("g",R0({className:o},$t(i),{ref:t}),n)}),IM=iO(),i9=A.createContext(null);function st(e){return function(){return e}}const DM=Math.cos,Uf=Math.sin,Br=Math.sqrt,Lf=Math.PI,Bh=2*Lf,O0=Math.PI,M0=2*O0,Za=1e-6,a9=M0-Za;function UM(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function o9(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return UM;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class s9{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?UM:o9(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,u=this._y1,d=r-t,f=i-n,h=l-t,m=u-n,g=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>Za)if(!(Math.abs(m*d-f*h)>Za)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let x=r-l,S=i-u,E=d*d+f*f,T=x*x+S*S,C=Math.sqrt(E),P=Math.sqrt(g),N=o*Math.tan((O0-Math.acos((E+g-T)/(2*C*P)))/2),R=N/P,M=N/C;Math.abs(R-1)>Za&&this._append`L${t+R*h},${n+R*m}`,this._append`A${o},${o},0,0,${+(m*x>h*S)},${this._x1=t+M*d},${this._y1=n+M*f}`}}arc(t,n,r,i,o,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),d=r*Math.sin(i),f=t+u,h=n+d,m=1^l,g=l?i-o:o-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Za||Math.abs(this._y1-h)>Za)&&this._append`L${f},${h}`,r&&(g<0&&(g=g%M0+M0),g>a9?this._append`A${r},${r},0,1,${m},${t-u},${n-d}A${r},${r},0,1,${m},${this._x1=f},${this._y1=h}`:g>Za&&this._append`A${r},${r},0,${+(g>=O0)},${m},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Wb(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new s9(t)}function Jb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function LM(e){this._context=e}LM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function zh(e){return new LM(e)}function jM(e){return e[0]}function BM(e){return e[1]}function zM(e,t){var n=st(!0),r=null,i=zh,o=null,l=Wb(u);e=typeof e=="function"?e:e===void 0?jM:st(e),t=typeof t=="function"?t:t===void 0?BM:st(t);function u(d){var f,h=(d=Jb(d)).length,m,g=!1,x;for(r==null&&(o=i(x=l())),f=0;f<=h;++f)!(f<h&&n(m=d[f],f,d))===g&&((g=!g)?o.lineStart():o.lineEnd()),g&&o.point(+e(m,f,d),+t(m,f,d));if(x)return o=null,x+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:st(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:st(+d),u):t},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:st(!!d),u):n},u.curve=function(d){return arguments.length?(i=d,r!=null&&(o=i(r)),u):i},u.context=function(d){return arguments.length?(d==null?r=o=null:o=i(r=d),u):r},u}function Jd(e,t,n){var r=null,i=st(!0),o=null,l=zh,u=null,d=Wb(f);e=typeof e=="function"?e:e===void 0?jM:st(+e),t=typeof t=="function"?t:st(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?BM:st(+n);function f(m){var g,x,S,E=(m=Jb(m)).length,T,C=!1,P,N=new Array(E),R=new Array(E);for(o==null&&(u=l(P=d())),g=0;g<=E;++g){if(!(g<E&&i(T=m[g],g,m))===C)if(C=!C)x=g,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=g-1;S>=x;--S)u.point(N[S],R[S]);u.lineEnd(),u.areaEnd()}C&&(N[g]=+e(T,g,m),R[g]=+t(T,g,m),u.point(r?+r(T,g,m):N[g],n?+n(T,g,m):R[g]))}if(P)return u=null,P+""||null}function h(){return zM().defined(i).curve(l).context(o)}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:st(+m),r=null,f):e},f.x0=function(m){return arguments.length?(e=typeof m=="function"?m:st(+m),f):e},f.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:st(+m),f):r},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:st(+m),n=null,f):t},f.y0=function(m){return arguments.length?(t=typeof m=="function"?m:st(+m),f):t},f.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:st(+m),f):n},f.lineX0=f.lineY0=function(){return h().x(e).y(t)},f.lineY1=function(){return h().x(e).y(n)},f.lineX1=function(){return h().x(r).y(t)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:st(!!m),f):i},f.curve=function(m){return arguments.length?(l=m,o!=null&&(u=l(o)),f):l},f.context=function(m){return arguments.length?(m==null?o=u=null:u=l(o=m),f):o},f}class $M{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function l9(e){return new $M(e,!0)}function u9(e){return new $M(e,!1)}const Xb={draw(e,t){const n=Br(t/Lf);e.moveTo(n,0),e.arc(0,0,n,0,Bh)}},c9={draw(e,t){const n=Br(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},qM=Br(1/3),d9=qM*2,f9={draw(e,t){const n=Br(t/d9),r=n*qM;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},h9={draw(e,t){const n=Br(t),r=-n/2;e.rect(r,r,n,n)}},p9=.8908130915292852,HM=Uf(Lf/10)/Uf(7*Lf/10),m9=Uf(Bh/10)*HM,v9=-DM(Bh/10)*HM,g9={draw(e,t){const n=Br(t*p9),r=m9*n,i=v9*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const l=Bh*o/5,u=DM(l),d=Uf(l);e.lineTo(d*n,-u*n),e.lineTo(u*r-d*i,d*r+u*i)}e.closePath()}},cg=Br(3),y9={draw(e,t){const n=-Br(t/(cg*3));e.moveTo(0,n*2),e.lineTo(-cg*n,-n),e.lineTo(cg*n,-n),e.closePath()}},dr=-.5,fr=Br(3)/2,I0=1/Br(12),b9=(I0/2+1)*3,x9={draw(e,t){const n=Br(t/b9),r=n/2,i=n*I0,o=r,l=n*I0+n,u=-o,d=l;e.moveTo(r,i),e.lineTo(o,l),e.lineTo(u,d),e.lineTo(dr*r-fr*i,fr*r+dr*i),e.lineTo(dr*o-fr*l,fr*o+dr*l),e.lineTo(dr*u-fr*d,fr*u+dr*d),e.lineTo(dr*r+fr*i,dr*i-fr*r),e.lineTo(dr*o+fr*l,dr*l-fr*o),e.lineTo(dr*u+fr*d,dr*d-fr*u),e.closePath()}};function w9(e,t){let n=null,r=Wb(i);e=typeof e=="function"?e:st(e||Xb),t=typeof t=="function"?t:st(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:st(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:st(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function jf(){}function Bf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function GM(e){this._context=e}GM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Bf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Bf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _9(e){return new GM(e)}function VM(e){this._context=e}VM.prototype={areaStart:jf,areaEnd:jf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Bf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function S9(e){return new VM(e)}function FM(e){this._context=e}FM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Bf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function E9(e){return new FM(e)}function KM(e){this._context=e}KM.prototype={areaStart:jf,areaEnd:jf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function T9(e){return new KM(e)}function tC(e){return e<0?-1:1}function nC(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),u=(o*i+l*r)/(r+i);return(tC(o)+tC(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(u))||0}function rC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function dg(e,t,n){var r=e._x0,i=e._y0,o=e._x1,l=e._y1,u=(o-r)/3;e._context.bezierCurveTo(r+u,i+u*t,o-u,l-u*n,o,l)}function zf(e){this._context=e}zf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dg(this,this._t0,rC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,dg(this,rC(this,n=nC(this,e,t)),n);break;default:dg(this,this._t0,n=nC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function YM(e){this._context=new WM(e)}(YM.prototype=Object.create(zf.prototype)).point=function(e,t){zf.prototype.point.call(this,t,e)};function WM(e){this._context=e}WM.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function A9(e){return new zf(e)}function C9(e){return new YM(e)}function JM(e){this._context=e}JM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=iC(e),i=iC(t),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function iC(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),l=new Array(n);for(i[0]=0,o[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,l[t]-=r*l[t-1];for(i[n-1]=l[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(l[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function k9(e){return new JM(e)}function $h(e,t){this._context=e,this._t=t}$h.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function N9(e){return new $h(e,.5)}function P9(e){return new $h(e,0)}function R9(e){return new $h(e,1)}function fo(e,t){if((l=e.length)>1)for(var n=1,r,i,o=e[t[0]],l,u=o.length;n<l;++n)for(i=o,o=e[t[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function D0(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function O9(e,t){return e[t]}function M9(e){const t=[];return t.key=e,t}function I9(){var e=st([]),t=D0,n=fo,r=O9;function i(o){var l=Array.from(e.apply(this,arguments),M9),u,d=l.length,f=-1,h;for(const m of o)for(u=0,++f;u<d;++u)(l[u][f]=[0,+r(m,l[u].key,f,o)]).data=m;for(u=0,h=Jb(t(l));u<d;++u)l[h[u]].index=u;return n(l,h),l}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:st(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:st(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?D0:typeof o=="function"?o:st(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??fo,i):n},i}function D9(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,l;i<o;++i){for(l=n=0;n<r;++n)l+=e[n][i][1]||0;if(l)for(n=0;n<r;++n)e[n][i][1]/=l}fo(e,t)}}function U9(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var l=0,u=0;l<i;++l)u+=e[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}fo(e,t)}}function L9(e,t){if(!(!((l=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,l;r<o;++r){for(var u=0,d=0,f=0;u<l;++u){for(var h=e[t[u]],m=h[r][1]||0,g=h[r-1][1]||0,x=(m-g)/2,S=0;S<u;++S){var E=e[t[S]],T=E[r][1]||0,C=E[r-1][1]||0;x+=T-C}d+=m,f+=x*m}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,fo(e,t)}}var fg={},hg={},aC;function j9(){return aC||(aC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(hg)),hg}var pg={},oC;function XM(){return oC||(oC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(pg)),pg}var mg={},sC;function Zb(){return sC||(sC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(mg)),mg}var vg={},gg={},lC;function B9(){return lC||(lC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(gg)),gg}var uC;function Qb(){return uC||(uC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B9(),n=Zb();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const o=[],l=i.length;if(l===0)return o;let u=0,d="",f="",h=!1;for(i.charCodeAt(0)===46&&(o.push(""),u++);u<l;){const m=i[u];f?m==="\\"&&u+1<l?(u++,d+=i[u]):m===f?f="":d+=m:h?m==='"'||m==="'"?f=m:m==="]"?(h=!1,o.push(d),d=""):d+=m:m==="["?(h=!0,d&&(o.push(d),d="")):m==="."?d&&(o.push(d),d=""):d+=m,u++}return d&&o.push(d),o}e.toPath=r})(vg)),vg}var cC;function ex(){return cC||(cC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j9(),n=XM(),r=Zb(),i=Qb();function o(u,d,f){if(u==null)return f;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return f;const h=u[d];return h===void 0?n.isDeepKey(d)?o(u,i.toPath(d),f):f:h}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const h=u[d];return h===void 0?f:h}default:{if(Array.isArray(d))return l(u,d,f);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return f;const h=u[d];return h===void 0?f:h}}}function l(u,d,f){if(d.length===0)return f;let h=u;for(let m=0;m<d.length;m++){if(h==null||t.isUnsafeProperty(d[m]))return f;h=h[d[m]]}return h===void 0?f:h}e.get=o})(fg)),fg}var yg,dC;function z9(){return dC||(dC=1,yg=ex().get),yg}var $9=z9();const zs=br($9);var q9=4;function _a(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:q9,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function vt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,o,l)=>{var u=n[l-1];return typeof u=="string"?i+u+o:u!==void 0?i+_a(u)+o:i+o},"")}var In=e=>e===0?0:e>0?1:-1,Dr=e=>typeof e=="number"&&e!=+e,Ci=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,me=e=>(typeof e=="number"||e instanceof Number)&&!Dr(e),Wr=e=>me(e)||typeof e=="string",H9=0,Iu=e=>{var t=++H9;return"".concat(e||"").concat(t)},Ur=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!me(t)&&typeof t!="string")return r;var o;if(Ci(t)){if(n==null)return r;var l=t.indexOf("%");o=n*parseFloat(t.slice(0,l))/100}else o=+t;return Dr(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},ZM=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function At(e,t,n){return me(e)&&me(t)?_a(e+n*(t-e)):t}function G9(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):zs(r,t))===n)}var Pt=e=>e===null||typeof e>"u",Qu=e=>Pt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function V9(e){return e!=null}function ec(){}var F9=["type","size","sizeType"];function U0(){return U0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U0.apply(null,arguments)}function fC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fC(Object(n),!0).forEach(function(r){K9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function K9(e,t,n){return(t=Y9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y9(e){var t=W9(e,"string");return typeof t=="symbol"?t:t+""}function W9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J9(e,t){if(e==null)return{};var n,r,i=X9(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function X9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var QM={symbolCircle:Xb,symbolCross:c9,symbolDiamond:f9,symbolSquare:h9,symbolStar:g9,symbolTriangle:y9,symbolWye:x9},Z9=Math.PI/180,Q9=e=>{var t="symbol".concat(Qu(e));return QM[t]||Xb},e7=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*Z9;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},t7=(e,t)=>{QM["symbol".concat(Qu(e))]=t},eI=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=J9(e,F9),o=hC(hC({},i),{},{type:t,size:n,sizeType:r}),l="circle";typeof t=="string"&&(l=t);var u=()=>{var g=Q9(l),x=w9().type(g).size(e7(n,r,l)),S=x();if(S!==null)return S},{className:d,cx:f,cy:h}=o,m=$t(o);return me(f)&&me(h)&&me(n)?A.createElement("path",U0({},m,{className:$e("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(h,")"),d:u()})):null};eI.registerSymbol=t7;var tI=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,tx=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(A.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Yb(i)&&(r[i]=(o=>n[i](n,o)))}),r},n7=(e,t,n)=>r=>(e(t,n,r),null),tc=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];Yb(i)&&typeof o=="function"&&(r||(r={}),r[i]=n7(o,t,n))}),r};function pC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function r7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pC(Object(n),!0).forEach(function(r){i7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i7(e,t,n){return(t=a7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a7(e){var t=o7(e,"string");return typeof t=="symbol"?t:t+""}function o7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zt(e,t){var n=r7({},e),r=t,i=Object.keys(t),o=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return o}var bg={},xg={},mC;function s7(){return mC||(mC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let o=0;o<n.length;o++){const l=n[o],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}e.uniqBy=t})(xg)),xg}var wg={},vC;function qh(){return vC||(vC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(wg)),wg}var _g={},Sg={},Eg={},gC;function l7(){return gC||(gC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Eg)),Eg}var yC;function nx(){return yC||(yC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l7();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Sg)),Sg}var Tg={},bC;function u7(){return bC||(bC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(Tg)),Tg}var xC;function c7(){return xC||(xC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nx(),n=u7();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(_g)),_g}var Ag={},Cg={},wC;function d7(){return wC||(wC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ex();function n(r){return function(i){return t.get(i,r)}}e.property=n})(Cg)),Cg}var kg={},Ng={},Pg={},Rg={},_C;function nI(){return _C||(_C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Rg)),Rg}var Og={},SC;function rI(){return SC||(SC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Og)),Og}var Mg={},EC;function iI(){return EC||(EC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(Mg)),Mg}var TC;function f7(){return TC||(TC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nI(),n=rI(),r=iI();function i(h,m,g){return typeof g!="function"?i(h,m,()=>{}):o(h,m,function x(S,E,T,C,P,N){const R=g(S,E,T,C,P,N);return R!==void 0?!!R:o(S,E,x,N)},new Map)}function o(h,m,g,x){if(m===h)return!0;switch(typeof m){case"object":return l(h,m,g,x);case"function":return Object.keys(m).length>0?o(h,{...m},g,x):r.eq(h,m);default:return t.isObject(h)?typeof m=="string"?m==="":!0:r.eq(h,m)}}function l(h,m,g,x){if(m==null)return!0;if(Array.isArray(m))return d(h,m,g,x);if(m instanceof Map)return u(h,m,g,x);if(m instanceof Set)return f(h,m,g,x);const S=Object.keys(m);if(h==null||n.isPrimitive(h))return S.length===0;if(S.length===0)return!0;if(x!=null&&x.has(m))return x.get(m)===h;x==null||x.set(m,h);try{for(let E=0;E<S.length;E++){const T=S[E];if(!n.isPrimitive(h)&&!(T in h)||m[T]===void 0&&h[T]!==void 0||m[T]===null&&h[T]!==null||!g(h[T],m[T],T,h,m,x))return!1}return!0}finally{x==null||x.delete(m)}}function u(h,m,g,x){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[S,E]of m.entries()){const T=h.get(S);if(g(T,E,S,h,m,x)===!1)return!1}return!0}function d(h,m,g,x){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const S=new Set;for(let E=0;E<m.length;E++){const T=m[E];let C=!1;for(let P=0;P<h.length;P++){if(S.has(P))continue;const N=h[P];let R=!1;if(g(N,T,E,h,m,x)&&(R=!0),R){S.add(P),C=!0;break}}if(!C)return!1}return!0}function f(h,m,g,x){return m.size===0?!0:h instanceof Set?d([...h],[...m],g,x):!1}e.isMatchWith=i,e.isSetMatch=f})(Pg)),Pg}var AC;function aI(){return AC||(AC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f7();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(Ng)),Ng}var Ig={},Dg={},Ug={},CC;function h7(){return CC||(CC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(Ug)),Ug}var Lg={},kC;function oI(){return kC||(kC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(Lg)),Lg}var jg={},NC;function sI(){return NC||(NC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",f="[object Set]",h="[object Array]",m="[object Function]",g="[object ArrayBuffer]",x="[object Object]",S="[object Error]",E="[object DataView]",T="[object Uint8Array]",C="[object Uint8ClampedArray]",P="[object Uint16Array]",N="[object Uint32Array]",R="[object BigUint64Array]",M="[object Int8Array]",I="[object Int16Array]",D="[object Int32Array]",F="[object BigInt64Array]",$="[object Float32Array]",Q="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=g,e.arrayTag=h,e.bigInt64ArrayTag=F,e.bigUint64ArrayTag=R,e.booleanTag=i,e.dataViewTag=E,e.dateTag=u,e.errorTag=S,e.float32ArrayTag=$,e.float64ArrayTag=Q,e.functionTag=m,e.int16ArrayTag=I,e.int32ArrayTag=D,e.int8ArrayTag=M,e.mapTag=d,e.numberTag=r,e.objectTag=x,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=P,e.uint32ArrayTag=N,e.uint8ArrayTag=T,e.uint8ClampedArrayTag=C})(jg)),jg}var Bg={},PC;function p7(){return PC||(PC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(Bg)),Bg}var RC;function lI(){return RC||(RC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h7(),n=oI(),r=sI(),i=rI(),o=p7();function l(h,m){return u(h,void 0,h,new Map,m)}function u(h,m,g,x=new Map,S=void 0){const E=S==null?void 0:S(h,m,g,x);if(E!==void 0)return E;if(i.isPrimitive(h))return h;if(x.has(h))return x.get(h);if(Array.isArray(h)){const T=new Array(h.length);x.set(h,T);for(let C=0;C<h.length;C++)T[C]=u(h[C],C,g,x,S);return Object.hasOwn(h,"index")&&(T.index=h.index),Object.hasOwn(h,"input")&&(T.input=h.input),T}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const T=new RegExp(h.source,h.flags);return T.lastIndex=h.lastIndex,T}if(h instanceof Map){const T=new Map;x.set(h,T);for(const[C,P]of h)T.set(C,u(P,C,g,x,S));return T}if(h instanceof Set){const T=new Set;x.set(h,T);for(const C of h)T.add(u(C,void 0,g,x,S));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(o.isTypedArray(h)){const T=new(Object.getPrototypeOf(h)).constructor(h.length);x.set(h,T);for(let C=0;C<h.length;C++)T[C]=u(h[C],C,g,x,S);return T}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const T=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return x.set(h,T),d(T,h,g,x,S),T}if(typeof File<"u"&&h instanceof File){const T=new File([h],h.name,{type:h.type});return x.set(h,T),d(T,h,g,x,S),T}if(typeof Blob<"u"&&h instanceof Blob){const T=new Blob([h],{type:h.type});return x.set(h,T),d(T,h,g,x,S),T}if(h instanceof Error){const T=new h.constructor;return x.set(h,T),T.message=h.message,T.name=h.name,T.stack=h.stack,T.cause=h.cause,d(T,h,g,x,S),T}if(h instanceof Boolean){const T=new Boolean(h.valueOf());return x.set(h,T),d(T,h,g,x,S),T}if(h instanceof Number){const T=new Number(h.valueOf());return x.set(h,T),d(T,h,g,x,S),T}if(h instanceof String){const T=new String(h.valueOf());return x.set(h,T),d(T,h,g,x,S),T}if(typeof h=="object"&&f(h)){const T=Object.create(Object.getPrototypeOf(h));return x.set(h,T),d(T,h,g,x,S),T}return h}function d(h,m,g=h,x,S){const E=[...Object.keys(m),...t.getSymbols(m)];for(let T=0;T<E.length;T++){const C=E[T],P=Object.getOwnPropertyDescriptor(h,C);(P==null||P.writable)&&(h[C]=u(m[C],C,g,x,S))}}function f(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=d})(Dg)),Dg}var OC;function m7(){return OC||(OC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lI();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(Ig)),Ig}var MC;function v7(){return MC||(MC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aI(),n=m7();function r(i){return i=n.cloneDeep(i),o=>t.isMatch(o,i)}e.matches=r})(kg)),kg}var zg={},$g={},qg={},IC;function g7(){return IC||(IC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lI(),n=sI();function r(i,o){return t.cloneDeepWith(i,(l,u,d,f)=>{const h=o==null?void 0:o(l,u,d,f);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(m,i),m}case n.argumentsTag:{const m={};return t.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}e.cloneDeepWith=r})(qg)),qg}var DC;function y7(){return DC||(DC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g7();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})($g)),$g}var Hg={},Gg={},UC;function uI(){return UC||(UC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Gg)),Gg}var Vg={},LC;function b7(){return LC||(LC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oI();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(Vg)),Vg}var jC;function x7(){return jC||(jC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XM(),n=uI(),r=b7(),i=Qb();function o(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&t.isDeepKey(u)&&(l==null?void 0:l[u])==null?d=i.toPath(u):d=[u],d.length===0)return!1;let f=l;for(let h=0;h<d.length;h++){const m=d[h];if((f==null||!Object.hasOwn(f,m))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(m)&&m<f.length))return!1;f=f[m]}return!0}e.has=o})(Hg)),Hg}var BC;function w7(){return BC||(BC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aI(),n=Zb(),r=y7(),i=ex(),o=x7();function l(u,d){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return d=r.cloneDeep(d),function(f){const h=i.get(f,u);return h===void 0?o.has(f,u):d===void 0?h===void 0:t.isMatch(h,d)}}e.matchesProperty=l})(zg)),zg}var zC;function rx(){return zC||(zC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qh(),n=d7(),r=v7(),i=w7();function o(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=o})(Ag)),Ag}var $C;function _7(){return $C||($C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s7(),n=qh(),r=c7(),i=rx();function o(l,u=n.identity){return r.isArrayLikeObject(l)?t.uniqBy(Array.from(l),i.iteratee(u)):[]}e.uniqBy=o})(bg)),bg}var Fg,qC;function S7(){return qC||(qC=1,Fg=_7().uniqBy),Fg}var E7=S7();const HC=br(E7);function T7(e,t,n){return t===!0?HC(e,n):typeof t=="function"?HC(e,t):e}var Kg={exports:{}},Yg={},Wg={exports:{}},Jg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GC;function A7(){if(GC)return Jg;GC=1;var e=Ws();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,l=e.useDebugValue;function u(m,g){var x=g(),S=r({inst:{value:x,getSnapshot:g}}),E=S[0].inst,T=S[1];return o(function(){E.value=x,E.getSnapshot=g,d(E)&&T({inst:E})},[m,x,g]),i(function(){return d(E)&&T({inst:E}),m(function(){d(E)&&T({inst:E})})},[m]),l(x),x}function d(m){var g=m.getSnapshot;m=m.value;try{var x=g();return!n(m,x)}catch{return!0}}function f(m,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return Jg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,Jg}var VC;function C7(){return VC||(VC=1,Wg.exports=A7()),Wg.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FC;function k7(){if(FC)return Yg;FC=1;var e=Ws(),t=C7();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,l=e.useEffect,u=e.useMemo,d=e.useDebugValue;return Yg.useSyncExternalStoreWithSelector=function(f,h,m,g,x){var S=o(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=u(function(){function C(I){if(!P){if(P=!0,N=I,I=g(I),x!==void 0&&E.hasValue){var D=E.value;if(x(D,I))return R=D}return R=I}if(D=R,r(N,I))return D;var F=g(I);return x!==void 0&&x(D,F)?(N=I,D):(N=I,R=F)}var P=!1,N,R,M=m===void 0?null:m;return[function(){return C(h())},M===null?void 0:function(){return C(M())}]},[h,m,g,x]);var T=i(f,S[0],S[1]);return l(function(){E.hasValue=!0,E.value=T},[T]),d(T),T},Yg}var KC;function N7(){return KC||(KC=1,Kg.exports=k7()),Kg.exports}var P7=N7(),ix=A.createContext(null),R7=e=>e,lt=()=>{var e=A.useContext(ix);return e?e.store.dispatch:R7},_f=()=>{},O7=()=>_f,M7=(e,t)=>e===t;function fe(e){var t=A.useContext(ix);return P7.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:O7,t?t.store.getState:_f,t?t.store.getState:_f,t?e:_f,M7)}function I7(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function D7(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function U7(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var YC=e=>Array.isArray(e)?e:[e];function L7(e){const t=Array.isArray(e[0])?e[0]:e;return U7(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function j7(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var B7=class{constructor(e){this.value=e}deref(){return this.value}},z7=typeof WeakRef<"u"?WeakRef:B7,$7=0,WC=1;function Xd(){return{s:$7,v:void 0,o:null,p:null}}function cI(e,t={}){let n=Xd();const{resultEqualityCheck:r}=t;let i,o=0;function l(){var m;let u=n;const{length:d}=arguments;for(let g=0,x=d;g<x;g++){const S=arguments[g];if(typeof S=="function"||typeof S=="object"&&S!==null){let E=u.o;E===null&&(u.o=E=new WeakMap);const T=E.get(S);T===void 0?(u=Xd(),E.set(S,u)):u=T}else{let E=u.p;E===null&&(u.p=E=new Map);const T=E.get(S);T===void 0?(u=Xd(),E.set(S,u)):u=T}}const f=u;let h;if(u.s===WC)h=u.v;else if(h=e.apply(null,arguments),o++,r){const g=((m=i==null?void 0:i.deref)==null?void 0:m.call(i))??i;g!=null&&r(g,h)&&(h=g,o!==0&&o--),i=typeof h=="object"&&h!==null||typeof h=="function"?new z7(h):h}return f.s=WC,f.v=h,h}return l.clearCache=()=>{n=Xd(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function q7(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,l=0,u,d={},f=i.pop();typeof f=="object"&&(d=f,f=i.pop()),I7(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...n,...d},{memoize:m,memoizeOptions:g=[],argsMemoize:x=cI,argsMemoizeOptions:S=[]}=h,E=YC(g),T=YC(S),C=L7(i),P=m(function(){return o++,f.apply(null,arguments)},...E),N=x(function(){l++;const M=j7(C,arguments);return u=P.apply(null,M),u},...T);return Object.assign(N,{resultFunc:f,memoizedResultFunc:P,dependencies:C,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:m,argsMemoize:x})};return Object.assign(r,{withTypes:()=>r}),r}var q=q7(cI),H7=Object.assign((e,t=q)=>{D7(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((l,u,d)=>(l[n[d]]=u,l),{}))},{withTypes:()=>H7}),Xg={},Zg={},Qg={},JC;function G7(){return JC||(JC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const l=t(r),u=t(i);if(l===u&&l===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-l:l-u}return 0};e.compareValues=n})(Qg)),Qg}var ey={},ty={},XC;function dI(){return XC||(XC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(ty)),ty}var ZC;function V7(){return ZC||(ZC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dI(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||l!=null&&Object.hasOwn(l,o)}e.isKey=i})(ey)),ey}var QC;function F7(){return QC||(QC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G7(),n=V7(),r=Qb();function i(o,l,u,d){if(o==null)return[];u=d?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(x=>String(x));const f=(x,S)=>{let E=x;for(let T=0;T<S.length&&E!=null;++T)E=E[S[T]];return E},h=(x,S)=>S==null||x==null?S:typeof x=="object"&&"key"in x?Object.hasOwn(S,x.key)?S[x.key]:f(S,x.path):typeof x=="function"?x(S):Array.isArray(x)?f(S,x):typeof S=="object"?S[x]:S,m=l.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||n.isKey(x)?x:{key:x,path:r.toPath(x)}));return o.map(x=>({original:x,criteria:m.map(S=>h(S,x))})).slice().sort((x,S)=>{for(let E=0;E<m.length;E++){const T=t.compareValues(x.criteria[E],S.criteria[E],u[E]);if(T!==0)return T}return 0}).map(x=>x.original)}e.orderBy=i})(Zg)),Zg}var ny={},ek;function K7(){return ek||(ek=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],o=Math.floor(r),l=(u,d)=>{for(let f=0;f<u.length;f++){const h=u[f];Array.isArray(h)&&d<o?l(h,d+1):i.push(h)}};return l(n,0),i}e.flatten=t})(ny)),ny}var ry={},tk;function fI(){return tk||(tk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uI(),n=nx(),r=nI(),i=iI();function o(l,u,d){return r.isObject(d)&&(typeof u=="number"&&n.isArrayLike(d)&&t.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?i.eq(d[u],l):!1}e.isIterateeCall=o})(ry)),ry}var nk;function Y7(){return nk||(nk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F7(),n=K7(),r=fI();function i(o,...l){const u=l.length;return u>1&&r.isIterateeCall(o,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(o,n.flatten(l),["asc"])}e.sortBy=i})(Xg)),Xg}var iy,rk;function W7(){return rk||(rk=1,iy=Y7().sortBy),iy}var J7=W7();const Hh=br(J7);var hI=e=>e.legend.settings,X7=e=>e.legend.size,Z7=e=>e.legend.payload;q([Z7,hI],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Hh(r,n):r});var Zd=1;function Q7(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=A.useState({height:0,left:0,top:0,width:0}),r=A.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-t.height)>Zd||Math.abs(l.left-t.left)>Zd||Math.abs(l.top-t.top)>Zd||Math.abs(l.width-t.width)>Zd)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function fn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var eK=typeof Symbol=="function"&&Symbol.observable||"@@observable",ik=eK,ay=()=>Math.random().toString(36).substring(7).split("").join("."),tK={INIT:`@@redux/INIT${ay()}`,REPLACE:`@@redux/REPLACE${ay()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ay()}`},$f=tK;function ax(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function pI(e,t,n){if(typeof e!="function")throw new Error(fn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(fn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(fn(1));return n(pI)(e,t)}let r=e,i=t,o=new Map,l=o,u=0,d=!1;function f(){l===o&&(l=new Map,o.forEach((T,C)=>{l.set(C,T)}))}function h(){if(d)throw new Error(fn(3));return i}function m(T){if(typeof T!="function")throw new Error(fn(4));if(d)throw new Error(fn(5));let C=!0;f();const P=u++;return l.set(P,T),function(){if(C){if(d)throw new Error(fn(6));C=!1,f(),l.delete(P),o=null}}}function g(T){if(!ax(T))throw new Error(fn(7));if(typeof T.type>"u")throw new Error(fn(8));if(typeof T.type!="string")throw new Error(fn(17));if(d)throw new Error(fn(9));try{d=!0,i=r(i,T)}finally{d=!1}return(o=l).forEach(P=>{P()}),T}function x(T){if(typeof T!="function")throw new Error(fn(10));r=T,g({type:$f.REPLACE})}function S(){const T=m;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(fn(11));function P(){const R=C;R.next&&R.next(h())}return P(),{unsubscribe:T(P)}},[ik](){return this}}}return g({type:$f.INIT}),{dispatch:g,subscribe:m,getState:h,replaceReducer:x,[ik]:S}}function nK(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:$f.INIT})>"u")throw new Error(fn(12));if(typeof n(void 0,{type:$f.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(fn(13))})}function mI(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const l=t[o];typeof e[l]=="function"&&(n[l]=e[l])}const r=Object.keys(n);let i;try{nK(n)}catch(o){i=o}return function(l={},u){if(i)throw i;let d=!1;const f={};for(let h=0;h<r.length;h++){const m=r[h],g=n[m],x=l[m],S=g(x,u);if(typeof S>"u")throw u&&u.type,new Error(fn(14));f[m]=S,d=d||S!==x}return d=d||r.length!==Object.keys(l).length,d?f:l}}function qf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function rK(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(fn(15))};const l={getState:i.getState,dispatch:(d,...f)=>o(d,...f)},u=e.map(d=>d(l));return o=qf(...u)(i.dispatch),{...i,dispatch:o}}}function vI(e){return ax(e)&&"type"in e&&typeof e.type=="string"}var gI=Symbol.for("immer-nothing"),ak=Symbol.for("immer-draftable"),En=Symbol.for("immer-state");function Cr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Zn=Object,$s=Zn.getPrototypeOf,Hf="constructor",Gh="prototype",L0="configurable",Gf="enumerable",Sf="writable",Du="value",ki=e=>!!e&&!!e[En];function Lr(e){var t;return e?yI(e)||Vh(e)||!!e[ak]||!!((t=e[Hf])!=null&&t[ak])||Fh(e)||Kh(e):!1}var iK=Zn[Gh][Hf].toString(),ok=new WeakMap;function yI(e){if(!e||!ox(e))return!1;const t=$s(e);if(t===null||t===Zn[Gh])return!0;const n=Zn.hasOwnProperty.call(t,Hf)&&t[Hf];if(n===Object)return!0;if(!Ts(n))return!1;let r=ok.get(n);return r===void 0&&(r=Function.toString.call(n),ok.set(n,r)),r===iK}function nc(e,t,n=!0){rc(e)===0?(n?Reflect.ownKeys(e):Zn.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function rc(e){const t=e[En];return t?t.type_:Vh(e)?1:Fh(e)?2:Kh(e)?3:0}var sk=(e,t,n=rc(e))=>n===2?e.has(t):Zn[Gh].hasOwnProperty.call(e,t),j0=(e,t,n=rc(e))=>n===2?e.get(t):e[t],Vf=(e,t,n,r=rc(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function aK(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Vh=Array.isArray,Fh=e=>e instanceof Map,Kh=e=>e instanceof Set,ox=e=>typeof e=="object",Ts=e=>typeof e=="function",oy=e=>typeof e=="boolean";function oK(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var bi=e=>e.copy_||e.base_,sx=e=>e.modified_?e.copy_:e.base_;function B0(e,t){if(Fh(e))return new Map(e);if(Kh(e))return new Set(e);if(Vh(e))return Array[Gh].slice.call(e);const n=yI(e);if(t===!0||t==="class_only"&&!n){const r=Zn.getOwnPropertyDescriptors(e);delete r[En];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],u=r[l];u[Sf]===!1&&(u[Sf]=!0,u[L0]=!0),(u.get||u.set)&&(r[l]={[L0]:!0,[Sf]:!0,[Gf]:u[Gf],[Du]:e[l]})}return Zn.create($s(e),r)}else{const r=$s(e);if(r!==null&&n)return{...e};const i=Zn.create(r);return Zn.assign(i,e)}}function lx(e,t=!1){return Yh(e)||ki(e)||!Lr(e)||(rc(e)>1&&Zn.defineProperties(e,{set:Qd,add:Qd,clear:Qd,delete:Qd}),Zn.freeze(e),t&&nc(e,(n,r)=>{lx(r,!0)},!1)),e}function sK(){Cr(2)}var Qd={[Du]:sK};function Yh(e){return e===null||!ox(e)?!0:Zn.isFrozen(e)}var Ff="MapSet",z0="Patches",lk="ArrayMethods",bI={};function ho(e){const t=bI[e];return t||Cr(0,e),t}var uk=e=>!!bI[e],Uu,xI=()=>Uu,lK=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:uk(Ff)?ho(Ff):void 0,arrayMethodsPlugin_:uk(lk)?ho(lk):void 0});function ck(e,t){t&&(e.patchPlugin_=ho(z0),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function $0(e){q0(e),e.drafts_.forEach(uK),e.drafts_=null}function q0(e){e===Uu&&(Uu=e.parent_)}var dk=e=>Uu=lK(Uu,e);function uK(e){const t=e[En];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function fk(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[En].modified_&&($0(t),Cr(4)),Lr(e)&&(e=hk(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[En].base_,e,t)}else e=hk(t,n);return cK(t,e,!0),$0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==gI?e:void 0}function hk(e,t){if(Yh(t))return t;const n=t[En];if(!n)return ux(t,e.handledSet_,e);if(!Wh(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);SI(n,e)}return n.copy_}function cK(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&lx(t,n)}function wI(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Wh=(e,t)=>e.scope_===t,dK=[];function _I(e,t,n,r){const i=bi(e),o=e.type_;if(r!==void 0&&j0(i,r,o)===t){Vf(i,r,n,o);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;nc(i,(d,f)=>{if(ki(f)){const h=u.get(f)||[];h.push(d),u.set(f,h)}})}const l=e.draftLocations_.get(t)??dK;for(const u of l)Vf(i,u,n,o)}function fK(e,t,n){e.callbacks_.push(function(i){var u;const o=t;if(!o||!Wh(o,i))return;(u=i.mapSetPlugin_)==null||u.fixSetContents(o);const l=sx(o);_I(e,o.draft_??o,l,n),SI(o,i)})}function SI(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const o=i.getPath(e);o&&i.generatePatches_(e,o,t)}wI(e)}}function hK(e,t,n){const{scope_:r}=e;if(ki(n)){const i=n[En];Wh(i,r)&&i.callbacks_.push(function(){Ef(e);const l=sx(i);_I(e,n,l,t)})}else Lr(n)&&e.callbacks_.push(function(){const o=bi(e);j0(o,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&ux(j0(e.copy_,t,e.type_),r.handledSet_,r)})}function ux(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||ki(e)||t.has(e)||!Lr(e)||Yh(e)||(t.add(e),nc(e,(r,i)=>{if(ki(i)){const o=i[En];if(Wh(o,n)){const l=sx(o);Vf(e,r,l,e.type_),wI(o)}}else Lr(i)&&ux(i,t,n)})),e}function pK(e,t){const n=Vh(e),r={type_:n?1:0,scope_:t?t.scope_:xI(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=cx;n&&(i=[r],o=Lu);const{revoke:l,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=l,[u,r]}var cx={get(e,t){if(t===En)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=bi(e);if(!sk(i,t,e.type_))return mK(e,i,t);const o=i[t];if(e.finalized_||!Lr(o)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&oK(t))return o;if(o===sy(e.base_,t)){Ef(e);const l=e.type_===1?+t:t,u=G0(e.scope_,o,e,l);return e.copy_[l]=u}return o},has(e,t){return t in bi(e)},ownKeys(e){return Reflect.ownKeys(bi(e))},set(e,t,n){const r=EI(bi(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=sy(bi(e),t),o=i==null?void 0:i[En];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(aK(n,i)&&(n!==void 0||sk(e.base_,t,e.type_)))return!0;Ef(e),H0(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),hK(e,t,n)),!0},deleteProperty(e,t){return Ef(e),sy(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),H0(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=bi(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Sf]:!0,[L0]:e.type_!==1||t!=="length",[Gf]:r[Gf],[Du]:n[t]}},defineProperty(){Cr(11)},getPrototypeOf(e){return $s(e.base_)},setPrototypeOf(){Cr(12)}},Lu={};nc(cx,(e,t)=>{Lu[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});Lu.deleteProperty=function(e,t){return Lu.set.call(this,e,t,void 0)};Lu.set=function(e,t,n){return cx.set.call(this,e[0],t,n,e[0])};function sy(e,t){const n=e[En];return(n?bi(n):e)[t]}function mK(e,t,n){var i;const r=EI(t,n);return r?Du in r?r[Du]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function EI(e,t){if(!(t in e))return;let n=$s(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=$s(n)}}function H0(e){e.modified_||(e.modified_=!0,e.parent_&&H0(e.parent_))}function Ef(e){e.copy_||(e.assigned_=new Map,e.copy_=B0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var vK=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Ts(n)&&!Ts(r)){const l=r;r=n;const u=this;return function(f=l,...h){return u.produce(f,m=>r.call(this,m,...h))}}Ts(r)||Cr(6),i!==void 0&&!Ts(i)&&Cr(7);let o;if(Lr(n)){const l=dk(this),u=G0(l,n,void 0);let d=!0;try{o=r(u),d=!1}finally{d?$0(l):q0(l)}return ck(l,i),fk(o,l)}else if(!n||!ox(n)){if(o=r(n),o===void 0&&(o=n),o===gI&&(o=void 0),this.autoFreeze_&&lx(o,!0),i){const l=[],u=[];ho(z0).generateReplacementPatches_(n,o,{patches_:l,inversePatches_:u}),i(l,u)}return o}else Cr(1,n)},this.produceWithPatches=(n,r)=>{if(Ts(n))return(u,...d)=>this.produceWithPatches(u,f=>n(f,...d));let i,o;return[this.produce(n,r,(u,d)=>{i=u,o=d}),i,o]},oy(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),oy(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),oy(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Lr(t)||Cr(8),ki(t)&&(t=Ir(t));const n=dk(this),r=G0(n,t,void 0);return r[En].isManual_=!0,q0(n),r}finishDraft(t,n){const r=t&&t[En];(!r||!r.isManual_)&&Cr(9);const{scope_:i}=r;return ck(i,n),fk(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}r>-1&&(n=n.slice(r+1));const i=ho(z0).applyPatches_;return ki(t)?i(t,n):this.produce(t,o=>i(o,n))}};function G0(e,t,n,r){const[i,o]=Fh(t)?ho(Ff).proxyMap_(t,n):Kh(t)?ho(Ff).proxySet_(t,n):pK(t,n);return((n==null?void 0:n.scope_)??xI()).drafts_.push(i),o.callbacks_=(n==null?void 0:n.callbacks_)??[],o.key_=r,n&&r!==void 0?fK(n,o,r):o.callbacks_.push(function(d){var h;(h=d.mapSetPlugin_)==null||h.fixSetContents(o);const{patchPlugin_:f}=d;o.modified_&&f&&f.generatePatches_(o,[],d)}),i}function Ir(e){return ki(e)||Cr(10,e),TI(e)}function TI(e){if(!Lr(e)||Yh(e))return e;const t=e[En];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=B0(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=B0(e,!0);return nc(n,(i,o)=>{Vf(n,i,TI(o))},r),t&&(t.finalized_=!1),n}var gK=new vK,AI=gK.produce;function CI(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var yK=CI(),bK=CI,xK=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?qf:qf.apply(null,arguments)};function gr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Qn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>vI(r)&&r.type===e,n}var kI=class wu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,wu.prototype)}static get[Symbol.species](){return wu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new wu(...t[0].concat(this)):new wu(...t.concat(this))}};function pk(e){return Lr(e)?AI(e,()=>{}):e}function ef(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function wK(e){return typeof e=="boolean"}var _K=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let l=new kI;return n&&(wK(n)?l.push(yK):l.push(bK(n.extraArgument))),l},NI="RTK_autoBatch",ht=()=>e=>({payload:e,meta:{[NI]:!0}}),mk=e=>t=>{setTimeout(t,e)},PI=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,l=!1;const u=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:mk(10):e.type==="callback"?e.queueNotification:mk(e.timeout),f=()=>{l=!1,o&&(o=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const m=()=>i&&h(),g=r.subscribe(m);return u.add(h),()=>{g(),u.delete(h)}},dispatch(h){var m;try{return i=!((m=h==null?void 0:h.meta)!=null&&m[NI]),o=!i,o&&(l||(l=!0,d(f))),r.dispatch(h)}finally{i=!0}}})},SK=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new kI(e);return r&&i.push(PI(typeof r=="object"?r:void 0)),i};function EK(e){const t=_K(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(ax(n))u=mI(n);else throw new Error(Qn(1));let d;typeof r=="function"?d=r(t):d=t();let f=qf;i&&(f=xK({trace:!1,...typeof i=="object"&&i}));const h=rK(...d),m=SK(h);let g=typeof l=="function"?l(m):m();const x=f(...g);return pI(u,o,x)}function RI(e){const t={},n=[];let r;const i={addCase(o,l){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(Qn(28));if(u in t)throw new Error(Qn(29));return t[u]=l,i},addAsyncThunk(o,l){return l.pending&&(t[o.pending.type]=l.pending),l.rejected&&(t[o.rejected.type]=l.rejected),l.fulfilled&&(t[o.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:o.settled,reducer:l.settled}),i},addMatcher(o,l){return n.push({matcher:o,reducer:l}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function TK(e){return typeof e=="function"}function AK(e,t){let[n,r,i]=RI(t),o;if(TK(e))o=()=>pk(e());else{const u=pk(e);o=()=>u}function l(u=o(),d){let f=[n[d.type],...r.filter(({matcher:h})=>h(d)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,m)=>{if(m)if(ki(h)){const x=m(h,d);return x===void 0?h:x}else{if(Lr(h))return AI(h,g=>m(g,d));{const g=m(h,d);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},u)}return l.getInitialState=o,l}var CK="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",kK=(e=21)=>{let t="",n=e;for(;n--;)t+=CK[Math.random()*64|0];return t},NK=Symbol.for("rtk-slice-createasyncthunk");function PK(e,t){return`${e}/${t}`}function RK({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[NK];return function(i){const{name:o,reducerPath:l=o}=i;if(!o)throw new Error(Qn(11));const u=(typeof i.reducers=="function"?i.reducers(MK()):i.reducers)||{},d=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(R,M){const I=typeof R=="string"?R:R.type;if(!I)throw new Error(Qn(12));if(I in f.sliceCaseReducersByType)throw new Error(Qn(13));return f.sliceCaseReducersByType[I]=M,h},addMatcher(R,M){return f.sliceMatchers.push({matcher:R,reducer:M}),h},exposeAction(R,M){return f.actionCreators[R]=M,h},exposeCaseReducer(R,M){return f.sliceCaseReducersByName[R]=M,h}};d.forEach(R=>{const M=u[R],I={reducerName:R,type:PK(o,R),createNotation:typeof i.reducers=="function"};DK(M)?LK(I,M,h,t):IK(I,M,h)});function m(){const[R={},M=[],I=void 0]=typeof i.extraReducers=="function"?RI(i.extraReducers):[i.extraReducers],D={...R,...f.sliceCaseReducersByType};return AK(i.initialState,F=>{for(let $ in D)F.addCase($,D[$]);for(let $ of f.sliceMatchers)F.addMatcher($.matcher,$.reducer);for(let $ of M)F.addMatcher($.matcher,$.reducer);I&&F.addDefaultCase(I)})}const g=R=>R,x=new Map,S=new WeakMap;let E;function T(R,M){return E||(E=m()),E(R,M)}function C(){return E||(E=m()),E.getInitialState()}function P(R,M=!1){function I(F){let $=F[R];return typeof $>"u"&&M&&($=ef(S,I,C)),$}function D(F=g){const $=ef(x,M,()=>new WeakMap);return ef($,F,()=>{const Q={};for(const[W,ne]of Object.entries(i.selectors??{}))Q[W]=OK(ne,F,()=>ef(S,F,C),M);return Q})}return{reducerPath:R,getSelectors:D,get selectors(){return D(I)},selectSlice:I}}const N={name:o,reducer:T,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:C,...P(l),injectInto(R,{reducerPath:M,...I}={}){const D=M??l;return R.inject({reducerPath:D,reducer:T},I),{...N,...P(D,!0)}}};return N}}function OK(e,t,n,r){function i(o,...l){let u=t(o);return typeof u>"u"&&r&&(u=n()),e(u,...l)}return i.unwrapped=e,i}var Ln=RK();function MK(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function IK({type:e,reducerName:t,createNotation:n},r,i){let o,l;if("reducer"in r){if(n&&!UK(r))throw new Error(Qn(17));o=r.reducer,l=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,l?gr(e,l):gr(e))}function DK(e){return e._reducerDefinitionType==="asyncThunk"}function UK(e){return e._reducerDefinitionType==="reducerWithPrepare"}function LK({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Qn(18));const{payloadCreator:o,fulfilled:l,pending:u,rejected:d,settled:f,options:h}=n,m=i(e,o,h);r.exposeAction(t,m),l&&r.addCase(m.fulfilled,l),u&&r.addCase(m.pending,u),d&&r.addCase(m.rejected,d),f&&r.addMatcher(m.settled,f),r.exposeCaseReducer(t,{fulfilled:l||tf,pending:u||tf,rejected:d||tf,settled:f||tf})}function tf(){}var jK="task",OI="listener",MI="completed",dx="cancelled",BK=`task-${dx}`,zK=`task-${MI}`,V0=`${OI}-${dx}`,$K=`${OI}-${MI}`,Jh=class{constructor(e){Fv(this,"name","TaskAbortError");Fv(this,"message");this.code=e,this.message=`${jK} ${dx} (reason: ${e})`}},fx=(e,t)=>{if(typeof e!="function")throw new TypeError(Qn(32))},Kf=()=>{},II=(e,t=Kf)=>(e.catch(t),e),DI=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),lo=e=>{if(e.aborted)throw new Jh(e.reason)};function UI(e,t){let n=Kf;return new Promise((r,i)=>{const o=()=>i(new Jh(e.reason));if(e.aborted){o();return}n=DI(e,o),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Kf})}var qK=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Jh?"cancelled":"rejected",error:n}}finally{t==null||t()}},Yf=e=>t=>II(UI(e,t).then(n=>(lo(e),n))),LI=e=>{const t=Yf(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Us}=Object,vk={},Xh="listenerMiddleware",HK=(e,t)=>{const n=r=>DI(e,()=>r.abort(e.reason));return(r,i)=>{fx(r);const o=new AbortController;n(o);const l=qK(async()=>{lo(e),lo(o.signal);const u=await r({pause:Yf(o.signal),delay:LI(o.signal),signal:o.signal});return lo(o.signal),u},()=>o.abort(zK));return i!=null&&i.autoJoin&&t.push(l.catch(Kf)),{result:Yf(e)(l),cancel(){o.abort(BK)}}}},GK=(e,t)=>{const n=async(r,i)=>{lo(t);let o=()=>{};const u=[new Promise((d,f)=>{let h=e({predicate:r,effect:(m,g)=>{g.unsubscribe(),d([m,g.getState(),g.getOriginalState()])}});o=()=>{h(),f()}})];i!=null&&u.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await UI(t,Promise.race(u));return lo(t),d}finally{o()}};return(r,i)=>II(n(r,i))},jI=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=gr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Qn(21));return fx(o),{predicate:i,type:t,effect:o}},BI=Us(e=>{const{type:t,predicate:n,effect:r}=jI(e);return{id:kK(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Qn(22))}}},{withTypes:()=>BI}),gk=(e,t)=>{const{type:n,effect:r,predicate:i}=jI(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},F0=e=>{e.pending.forEach(t=>{t.abort(V0)})},VK=(e,t)=>()=>{for(const n of t.keys())F0(n);e.clear()},yk=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},zI=Us(gr(`${Xh}/add`),{withTypes:()=>zI}),FK=gr(`${Xh}/removeAll`),$I=Us(gr(`${Xh}/remove`),{withTypes:()=>$I}),KK=(...e)=>{console.error(`${Xh}/error`,...e)},ic=(e={})=>{const t=new Map,n=new Map,r=x=>{const S=n.get(x)??0;n.set(x,S+1)},i=x=>{const S=n.get(x)??1;S===1?n.delete(x):n.set(x,S-1)},{extra:o,onError:l=KK}=e;fx(l);const u=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),S=>{x.unsubscribe(),S!=null&&S.cancelActive&&F0(x)}),d=x=>{const S=gk(t,x)??BI(x);return u(S)};Us(d,{withTypes:()=>d});const f=x=>{const S=gk(t,x);return S&&(S.unsubscribe(),x.cancelActive&&F0(S)),!!S};Us(f,{withTypes:()=>f});const h=async(x,S,E,T)=>{const C=new AbortController,P=GK(d,C.signal),N=[];try{x.pending.add(C),r(x),await Promise.resolve(x.effect(S,Us({},E,{getOriginalState:T,condition:(R,M)=>P(R,M).then(Boolean),take:P,delay:LI(C.signal),pause:Yf(C.signal),extra:o,signal:C.signal,fork:HK(C.signal,N),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((R,M,I)=>{R!==C&&(R.abort(V0),I.delete(R))})},cancel:()=>{C.abort(V0),x.pending.delete(C)},throwIfCancelled:()=>{lo(C.signal)}})))}catch(R){R instanceof Jh||yk(l,R,{raisedBy:"effect"})}finally{await Promise.all(N),C.abort($K),i(x),x.pending.delete(C)}},m=VK(t,n);return{middleware:x=>S=>E=>{if(!vI(E))return S(E);if(zI.match(E))return d(E.payload);if(FK.match(E)){m();return}if($I.match(E))return f(E.payload);let T=x.getState();const C=()=>{if(T===vk)throw new Error(Qn(23));return T};let P;try{if(P=S(E),t.size>0){const N=x.getState(),R=Array.from(t.values());for(const M of R){let I=!1;try{I=M.predicate(E,N,T)}catch(D){I=!1,yk(l,D,{raisedBy:"predicate"})}I&&h(M,E,x,C)}}}finally{T=vk}return P},startListening:d,stopListening:f,clearListeners:m}};function Qn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var YK={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},qI=Ln({name:"chartLayout",initialState:YK,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:WK,setLayout:JK,setChartSize:XK,setScale:ZK}=qI.actions,QK=qI.reducer;function HI(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function gt(e){return Number.isFinite(e)}function Jr(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function bk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ps(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bk(Object(n),!0).forEach(function(r){eY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eY(e,t,n){return(t=tY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tY(e){var t=nY(e,"string");return typeof t=="symbol"?t:t+""}function nY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kt(e,t,n){return Pt(e)||Pt(t)?n:Wr(t)?zs(e,t,n):typeof t=="function"?t(e):n}var rY=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&o!=="center"&&me(e[o]))return Ps(Ps({},e),{},{[o]:e[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&l!=="middle"&&me(e[l]))return Ps(Ps({},e),{},{[l]:e[l]+(i||0)})}return e},Aa=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",GI=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var i,o,l=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===n&&(o=!0),u.coordinate));return i||l.push(t),o||l.push(n),l},VI=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:o,scale:l,realScaleType:u,isCategorical:d,categoricalDomain:f,tickCount:h,ticks:m,niceTicks:g,axisType:x}=e;if(!l)return null;var S=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,E=i==="category"&&l.bandwidth?l.bandwidth()/S:0;if(E=x==="angleAxis"&&o&&o.length>=2?In(o[0]-o[1])*2*E:E,m||g){var T=(m||g||[]).map((C,P)=>{var N=r?r.indexOf(C):C;return{coordinate:l(N)+E,value:C,offset:E,index:P}});return T.filter(C=>!Dr(C.coordinate))}return d&&f?f.map((C,P)=>({coordinate:l(C)+E,value:C,index:P,offset:E})):l.ticks&&h!=null?l.ticks(h).map((C,P)=>({coordinate:l(C)+E,value:C,offset:E,index:P})):l.domain().map((C,P)=>({coordinate:l(C)+E,value:r?r[C]:C,index:P,offset:E}))},xk=1e-4,iY=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-xk,o=Math.max(r[0],r[1])+xk,l=e(t[0]),u=e(t[n-1]);(l<i||l>o||u<i||u>o)&&e.domain([t[0],t[n-1]])}},aY=(e,t)=>{if(!t||t.length!==2||!me(t[0])||!me(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!me(e[0])||e[0]<n)&&(i[0]=n),(!me(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},oY=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,l=0,u=0;u<n;++u){var d=e[u],f=d==null?void 0:d[i];if(f!=null){var h=f[1],m=f[0],g=Dr(h)?m:h;g>=0?(f[0]=o,f[1]=o+g,o=h):(f[0]=l,f[1]=l+g,l=h)}}}},sY=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,l=0;l<n;++l){var u=e[l],d=u==null?void 0:u[i];if(d!=null){var f=Dr(d[1])?d[0]:d[1];f>=0?(d[0]=o,d[1]=o+f,o=d[1]):(d[0]=0,d[1]=0)}}}},lY={sign:oY,expand:D9,none:fo,silhouette:U9,wiggle:L9,positive:sY},uY=(e,t,n)=>{var r,i=(r=lY[n])!==null&&r!==void 0?r:fo,o=I9().keys(t).value((u,d)=>Number(kt(u,d,0))).order(D0).offset(i),l=o(e);return l.forEach((u,d)=>{u.forEach((f,h)=>{var m=kt(e[h],t[d],0);Array.isArray(m)&&m.length===2&&me(m[0])&&me(m[1])&&(f[0]=m[0],f[1]=m[1])})}),l};function cY(e){return e==null?void 0:String(e)}var wk=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:o,index:l}=e;if(t.type==="category")return n[l]?n[l].coordinate+r:null;var u=kt(o,t.dataKey,t.scale.domain()[l]);return Pt(u)?null:t.scale(u)-i/2+r},dY=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},fY=e=>{var t=e.flat(2).filter(me);return[Math.min(...t),Math.max(...t)]},hY=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],pY=(e,t,n)=>{if(e!=null)return hY(Object.keys(e).reduce((r,i)=>{var o=e[i];if(!o)return r;var{stackedData:l}=o,u=l.reduce((d,f)=>{var h=HI(f,t,n),m=fY(h);return!gt(m[0])||!gt(m[1])?d:[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},_k=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Sk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qs=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Hh(t,h=>h.coordinate),o=1/0,l=1,u=i.length;l<u;l++){var d=i[l],f=i[l-1];o=Math.min(((d==null?void 0:d.coordinate)||0)-((f==null?void 0:f.coordinate)||0),o)}return o===1/0?0:o}return n?void 0:0};function Ek(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return Ps(Ps({},t),{},{dataKey:n,payload:r,value:i,name:o})}function Zh(e,t){if(e)return String(e);if(typeof t=="string")return t}var mY=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},vY=(e,t)=>t==="centric"?e.angle:e.radius,Li=e=>e.layout.width,ji=e=>e.layout.height,gY=e=>e.layout.scale,FI=e=>e.layout.margin,Qh=q(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),ep=q(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),yY="data-recharts-item-index",bY="data-recharts-item-id",ac=60;function Tk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tk(Object(n),!0).forEach(function(r){xY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xY(e,t,n){return(t=wY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wY(e){var t=_Y(e,"string");return typeof t=="symbol"?t:t+""}function _Y(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SY=e=>e.brush.height;function EY(e){var t=ep(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:ac;return n+i}return n},0)}function TY(e){var t=ep(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:ac;return n+i}return n},0)}function AY(e){var t=Qh(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function CY(e){var t=Qh(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Qt=q([Li,ji,FI,SY,EY,TY,AY,CY,hI,X7],(e,t,n,r,i,o,l,u,d,f)=>{var h={left:(n.left||0)+i,right:(n.right||0)+o},m={top:(n.top||0)+l,bottom:(n.bottom||0)+u},g=nf(nf({},m),h),x=g.bottom;g.bottom+=r,g=rY(g,d,f);var S=e-g.left-g.right,E=t-g.top-g.bottom;return nf(nf({brushBottom:x},g),{},{width:Math.max(S,0),height:Math.max(E,0)})}),kY=q(Qt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),hx=q(Li,ji,(e,t)=>({x:0,y:0,width:e,height:t})),NY=A.createContext(null),yn=()=>A.useContext(NY)!=null,tp=e=>e.brush,np=q([tp,Qt,FI],(e,t,n)=>({height:e.height,x:me(e.x)?e.x:t.left,y:me(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:me(e.width)?e.width:t.width})),ly={},uy={},cy={},Ak;function PY(){return Ak||(Ak=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:o}={}){let l,u=null;const d=o!=null&&o.includes("leading"),f=o==null||o.includes("trailing"),h=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},m=()=>{f&&h(),E()};let g=null;const x=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,m()},r)},S=()=>{g!==null&&(clearTimeout(g),g=null)},E=()=>{S(),l=void 0,u=null},T=()=>{h()},C=function(...P){if(i!=null&&i.aborted)return;l=this,u=P;const N=g==null;x(),d&&N&&h()};return C.schedule=x,C.cancel=E,C.flush=T,i==null||i.addEventListener("abort",E,{once:!0}),C}e.debounce=t})(cy)),cy}var Ck;function RY(){return Ck||(Ck=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PY();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:u=!0,maxWait:d}=o,f=Array(2);l&&(f[0]="leading"),u&&(f[1]="trailing");let h,m=null;const g=t.debounce(function(...E){h=r.apply(this,E),m=null},i,{edges:f}),x=function(...E){return d!=null&&(m===null&&(m=Date.now()),Date.now()-m>=d)?(h=r.apply(this,E),m=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,E),h)},S=()=>(g.flush(),h);return x.cancel=g.cancel,x.flush=S,x}e.debounce=n})(uy)),uy}var kk;function OY(){return kk||(kk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RY();function n(r,i=0,o={}){const{leading:l=!0,trailing:u=!0}=o;return t.debounce(r,i,{leading:l,maxWait:i,trailing:u})}e.throttle=n})(ly)),ly}var dy,Nk;function MY(){return Nk||(Nk=1,dy=OY().throttle),dy}var IY=MY();const DY=br(IY);var Wf=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},KI=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:o,maxHeight:l}=n,u=Ci(r)?e:Number(r),d=Ci(i)?t:Number(i);return o&&o>0&&(u?d=u/o:d&&(u=d*o),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:u,calculatedHeight:d}},UY={width:0,height:0,overflow:"visible"},LY={width:0,overflowX:"visible"},jY={height:0,overflowY:"visible"},BY={},zY=e=>{var{width:t,height:n}=e,r=Ci(t),i=Ci(n);return r&&i?UY:r?LY:i?jY:BY};function $Y(e){var{width:t,height:n,aspect:r}=e,i=t,o=n;return i===void 0&&o===void 0?(i="100%",o="100%"):i===void 0?i=r&&r>0?void 0:"100%":o===void 0&&(o=r&&r>0?void 0:"100%"),{width:i,height:o}}function K0(){return K0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K0.apply(null,arguments)}function Pk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pk(Object(n),!0).forEach(function(r){qY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qY(e,t,n){return(t=HY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HY(e){var t=GY(e,"string");return typeof t=="symbol"?t:t+""}function GY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YI=A.createContext({width:-1,height:-1});function VY(e){return Jr(e.width)&&Jr(e.height)}function WI(e){var{children:t,width:n,height:r}=e,i=A.useMemo(()=>({width:n,height:r}),[n,r]);return VY(i)?A.createElement(YI.Provider,{value:i},t):null}var px=()=>A.useContext(YI),FY=A.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:o,minWidth:l=0,minHeight:u,maxHeight:d,children:f,debounce:h=0,id:m,className:g,onResize:x,style:S={}}=e,E=A.useRef(null),T=A.useRef();T.current=x,A.useImperativeHandle(t,()=>E.current);var[C,P]=A.useState({containerWidth:r.width,containerHeight:r.height}),N=A.useCallback((F,$)=>{P(Q=>{var W=Math.round(F),ne=Math.round($);return Q.containerWidth===W&&Q.containerHeight===ne?Q:{containerWidth:W,containerHeight:ne}})},[]);A.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return ec;var F=ne=>{var se,{width:de,height:Te}=ne[0].contentRect;N(de,Te),(se=T.current)===null||se===void 0||se.call(T,de,Te)};h>0&&(F=DY(F,h,{trailing:!0,leading:!1}));var $=new ResizeObserver(F),{width:Q,height:W}=E.current.getBoundingClientRect();return N(Q,W),$.observe(E.current),()=>{$.disconnect()}},[N,h]);var{containerWidth:R,containerHeight:M}=C;Wf(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:I,calculatedHeight:D}=KI(R,M,{width:i,height:o,aspect:n,maxHeight:d});return Wf(I!=null&&I>0||D!=null&&D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,D,i,o,l,u,n),A.createElement("div",{id:m?"".concat(m):void 0,className:$e("recharts-responsive-container",g),style:Rk(Rk({},S),{},{width:i,height:o,minWidth:l,minHeight:u,maxHeight:d}),ref:E},A.createElement("div",{style:zY({width:i,height:o})},A.createElement(WI,{width:I,height:D},f)))}),Y0=A.forwardRef((e,t)=>{var n=px();if(Jr(n.width)&&Jr(n.height))return e.children;var{width:r,height:i}=$Y({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:l}=KI(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return me(o)&&me(l)?A.createElement(WI,{width:o,height:l},e.children):A.createElement(FY,K0({},e,{width:r,height:i,ref:t}))});function JI(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var rp=()=>{var e,t=yn(),n=fe(kY),r=fe(np),i=(e=fe(tp))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},KY={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},XI=()=>{var e;return(e=fe(Qt))!==null&&e!==void 0?e:KY},ZI=()=>fe(Li),QI=()=>fe(ji),Be=e=>e.layout.layoutType,oc=()=>fe(Be),YY=()=>{var e=oc();return e!==void 0},ip=e=>{var t=lt(),n=yn(),{width:r,height:i}=e,o=px(),l=r,u=i;return o&&(l=o.width>0?o.width:r,u=o.height>0?o.height:i),A.useEffect(()=>{!n&&Jr(l)&&Jr(u)&&t(XK({width:l,height:u}))},[t,n,l,u]),null},e2=Symbol.for("immer-nothing"),Ok=Symbol.for("immer-draftable"),er=Symbol.for("immer-state");function kr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ju=Object.getPrototypeOf;function Hs(e){return!!e&&!!e[er]}function po(e){var t;return e?t2(e)||Array.isArray(e)||!!e[Ok]||!!((t=e.constructor)!=null&&t[Ok])||sc(e)||op(e):!1}var WY=Object.prototype.constructor.toString(),Mk=new WeakMap;function t2(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=Mk.get(n);return r===void 0&&(r=Function.toString.call(n),Mk.set(n,r)),r===WY}function Jf(e,t,n=!0){ap(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function ap(e){const t=e[er];return t?t.type_:Array.isArray(e)?1:sc(e)?2:op(e)?3:0}function W0(e,t){return ap(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function n2(e,t,n){const r=ap(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function JY(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function sc(e){return e instanceof Map}function op(e){return e instanceof Set}function Qa(e){return e.copy_||e.base_}function J0(e,t){if(sc(e))return new Map(e);if(op(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=t2(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[er];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(ju(e),r)}else{const r=ju(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function mx(e,t=!1){return sp(e)||Hs(e)||!po(e)||(ap(e)>1&&Object.defineProperties(e,{set:rf,add:rf,clear:rf,delete:rf}),Object.freeze(e),t&&Object.values(e).forEach(n=>mx(n,!0))),e}function XY(){kr(2)}var rf={value:XY};function sp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var ZY={};function mo(e){const t=ZY[e];return t||kr(0,e),t}var Bu;function r2(){return Bu}function QY(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Ik(e,t){t&&(mo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function X0(e){Z0(e),e.drafts_.forEach(eW),e.drafts_=null}function Z0(e){e===Bu&&(Bu=e.parent_)}function Dk(e){return Bu=QY(Bu,e)}function eW(e){const t=e[er];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Uk(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[er].modified_&&(X0(t),kr(4)),po(e)&&(e=Xf(t,e),t.parent_||Zf(t,e)),t.patches_&&mo("Patches").generateReplacementPatches_(n[er].base_,e,t.patches_,t.inversePatches_)):e=Xf(t,n,[]),X0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==e2?e:void 0}function Xf(e,t,n){if(sp(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[er];if(!i)return Jf(t,(o,l)=>Lk(e,i,t,o,l,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return Zf(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let l=o,u=!1;i.type_===3&&(l=new Set(o),o.clear(),u=!0),Jf(l,(d,f)=>Lk(e,i,o,d,f,n,u),r),Zf(e,o,!1),n&&e.patches_&&mo("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function Lk(e,t,n,r,i,o,l){if(i==null||typeof i!="object"&&!l)return;const u=sp(i);if(!(u&&!l)){if(Hs(i)){const d=o&&t&&t.type_!==3&&!W0(t.assigned_,r)?o.concat(r):void 0,f=Xf(e,i,d);if(n2(n,r,f),Hs(f))e.canAutoFreeze_=!1;else return}else l&&n.add(i);if(po(i)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&u)return;Xf(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(sc(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Zf(e,i)}}}function Zf(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&mx(t,n)}function tW(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:r2(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=vx;n&&(i=[r],o=zu);const{revoke:l,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=l,u}var vx={get(e,t){if(t===er)return e;const n=Qa(e);if(!W0(n,t))return nW(e,n,t);const r=n[t];return e.finalized_||!po(r)?r:r===fy(e.base_,t)?(hy(e),e.copy_[t]=eb(r,e)):r},has(e,t){return t in Qa(e)},ownKeys(e){return Reflect.ownKeys(Qa(e))},set(e,t,n){const r=i2(Qa(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=fy(Qa(e),t),o=i==null?void 0:i[er];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(JY(n,i)&&(n!==void 0||W0(e.base_,t)))return!0;hy(e),Q0(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return fy(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,hy(e),Q0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Qa(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){kr(11)},getPrototypeOf(e){return ju(e.base_)},setPrototypeOf(){kr(12)}},zu={};Jf(vx,(e,t)=>{zu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});zu.deleteProperty=function(e,t){return zu.set.call(this,e,t,void 0)};zu.set=function(e,t,n){return vx.set.call(this,e[0],t,n,e[0])};function fy(e,t){const n=e[er];return(n?Qa(n):e)[t]}function nW(e,t,n){var i;const r=i2(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function i2(e,t){if(!(t in e))return;let n=ju(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=ju(n)}}function Q0(e){e.modified_||(e.modified_=!0,e.parent_&&Q0(e.parent_))}function hy(e){e.copy_||(e.copy_=J0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var rW=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const l=this;return function(d=o,...f){return l.produce(d,h=>n.call(this,h,...f))}}typeof n!="function"&&kr(6),r!==void 0&&typeof r!="function"&&kr(7);let i;if(po(t)){const o=Dk(this),l=eb(t,void 0);let u=!0;try{i=n(l),u=!1}finally{u?X0(o):Z0(o)}return Ik(o,r),Uk(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===e2&&(i=void 0),this.autoFreeze_&&mx(i,!0),r){const o=[],l=[];mo("Patches").generateReplacementPatches_(t,i,o,l),r(o,l)}return i}else kr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,d=>t(d,...u));let r,i;return[this.produce(t,n,(l,u)=>{r=l,i=u}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){po(e)||kr(8),Hs(e)&&(e=iW(e));const t=Dk(this),n=eb(e,void 0);return n[er].isManual_=!0,Z0(t),n}finishDraft(e,t){const n=e&&e[er];(!n||!n.isManual_)&&kr(9);const{scope_:r}=n;return Ik(r,t),Uk(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=mo("Patches").applyPatches_;return Hs(e)?r(e,t):this.produce(e,i=>r(i,t))}};function eb(e,t){const n=sc(e)?mo("MapSet").proxyMap_(e,t):op(e)?mo("MapSet").proxySet_(e,t):tW(e,t);return(t?t.scope_:r2()).drafts_.push(n),n}function iW(e){return Hs(e)||kr(10,e),a2(e)}function a2(e){if(!po(e)||sp(e))return e;const t=e[er];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=J0(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=J0(e,!0);return Jf(n,(i,o)=>{n2(n,i,a2(o))},r),t&&(t.finalized_=!1),n}var aW=new rW;aW.produce;var oW={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},o2=Ln({name:"legend",initialState:oW,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:ht()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ir(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:ht()},removeLegendPayload:{reducer(e,t){var n=Ir(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:ht()}}}),{setLegendSize:qce,setLegendSettings:Hce,addLegendPayload:s2,replaceLegendPayload:l2,removeLegendPayload:u2}=o2.actions,sW=o2.reducer;function tb(){return tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tb.apply(null,arguments)}function jk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function py(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jk(Object(n),!0).forEach(function(r){lW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lW(e,t,n){return(t=uW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uW(e){var t=cW(e,"string");return typeof t=="symbol"?t:t+""}function cW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dW(e){return Array.isArray(e)&&Wr(e[0])&&Wr(e[1])?e.join(" ~ "):e}var fW=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:f,label:h,labelFormatter:m,accessibilityLayer:g=!1}=e,x=()=>{if(o&&o.length){var M={padding:0,margin:0},I=(u?Hh(o,u):o).map((D,F)=>{if(D.type==="none")return null;var $=D.formatter||l||dW,{value:Q,name:W}=D,ne=Q,se=W;if($){var de=$(Q,W,D,F,o);if(Array.isArray(de))[ne,se]=de;else if(de!=null)ne=de;else return null}var Te=py({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},r);return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:Te},Wr(se)?A.createElement("span",{className:"recharts-tooltip-item-name"},se):null,Wr(se)?A.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,A.createElement("span",{className:"recharts-tooltip-item-value"},ne),A.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:M},I)}return null},S=py({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=py({margin:0},i),T=!Pt(h),C=T?h:"",P=$e("recharts-default-tooltip",d),N=$e("recharts-tooltip-label",f);T&&m&&o!==void 0&&o!==null&&(C=m(h,o));var R=g?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",tb({className:P,style:S},R),A.createElement("p",{className:N,style:E},A.isValidElement(C)?C:"".concat(C)),x())},du="recharts-tooltip-wrapper",hW={visibility:"hidden"};function pW(e){var{coordinate:t,translateX:n,translateY:r}=e;return $e(du,{["".concat(du,"-right")]:me(n)&&t&&me(t.x)&&n>=t.x,["".concat(du,"-left")]:me(n)&&t&&me(t.x)&&n<t.x,["".concat(du,"-bottom")]:me(r)&&t&&me(t.y)&&r>=t.y,["".concat(du,"-top")]:me(r)&&t&&me(t.y)&&r<t.y})}function Bk(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:f}=e;if(o&&me(o[r]))return o[r];var h=n[r]-u-(i>0?i:0),m=n[r]+i;if(t[r])return l[r]?h:m;var g=d[r];if(g==null)return 0;if(l[r]){var x=h,S=g;return x<S?Math.max(m,g):Math.max(h,g)}if(f==null)return 0;var E=m+u,T=g+f;return E>T?Math.max(h,g):Math.max(m,g)}function mW(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function vW(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:l,useTranslate3d:u,viewBox:d}=e,f,h,m;return l.height>0&&l.width>0&&n?(h=Bk({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),m=Bk({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=mW({translateX:h,translateY:m,useTranslate3d:u})):f=hW,{cssProperties:f,cssClasses:pW({translateX:h,translateY:m,coordinate:n})}}function zk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function af(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zk(Object(n),!0).forEach(function(r){nb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nb(e,t,n){return(t=gW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gW(e){var t=yW(e,"string");return typeof t=="symbol"?t:t+""}function yW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class bW extends A.PureComponent{constructor(){super(...arguments),nb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),nb(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:l,hasPayload:u,isAnimationActive:d,offset:f,position:h,reverseDirection:m,useTranslate3d:g,viewBox:x,wrapperStyle:S,lastBoundingBox:E,innerRef:T,hasPortalFromProps:C}=this.props,{cssClasses:P,cssProperties:N}=vW({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:f,position:h,reverseDirection:m,tooltipBox:{height:E.height,width:E.width},useTranslate3d:g,viewBox:x}),R=C?{}:af(af({transition:d&&t?"transform ".concat(r,"ms ").concat(i):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),M=af(af({},R),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},S);return A.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:P,style:M,ref:T},o)}}var c2=()=>{var e;return(e=fe(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function rb(){return rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rb.apply(null,arguments)}function $k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$k(Object(n),!0).forEach(function(r){xW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xW(e,t,n){return(t=wW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wW(e){var t=_W(e,"string");return typeof t=="symbol"?t:t+""}function _W(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hk={curveBasisClosed:S9,curveBasisOpen:E9,curveBasis:_9,curveBumpX:l9,curveBumpY:u9,curveLinearClosed:T9,curveLinear:zh,curveMonotoneX:A9,curveMonotoneY:C9,curveNatural:k9,curveStep:N9,curveStepAfter:R9,curveStepBefore:P9},Qf=e=>gt(e.x)&&gt(e.y),Gk=e=>e.base!=null&&Qf(e.base)&&Qf(e),fu=e=>e.x,hu=e=>e.y,SW=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Qu(e));return(n==="curveMonotone"||n==="curveBump")&&t?Hk["".concat(n).concat(t==="vertical"?"Y":"X")]:Hk[n]||zh},EW=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=e,l=SW(t,i),u=o?n.filter(Qf):n,d;if(Array.isArray(r)){var f=n.map((x,S)=>qk(qk({},x),{},{base:r[S]}));i==="vertical"?d=Jd().y(hu).x1(fu).x0(x=>x.base.x):d=Jd().x(fu).y1(hu).y0(x=>x.base.y);var h=d.defined(Gk).curve(l),m=o?f.filter(Gk):f;return h(m)}i==="vertical"&&me(r)?d=Jd().y(hu).x1(fu).x0(r):me(r)?d=Jd().x(fu).y1(hu).y0(r):d=zM().x(fu).y(hu);var g=d.defined(Qf).curve(l);return g(u)},d2=e=>{var{className:t,points:n,path:r,pathRef:i}=e,o=oc();if((!n||!n.length)&&!r)return null;var l={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||o,connectNulls:e.connectNulls},u=n&&n.length?EW(l):r;return A.createElement("path",rb({},Nt(e),tx(e),{className:$e("recharts-curve",t),d:u===null?void 0:u,ref:i}))},TW=["x","y","top","left","width","height","className"];function ib(){return ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ib.apply(null,arguments)}function Vk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function AW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vk(Object(n),!0).forEach(function(r){CW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CW(e,t,n){return(t=kW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kW(e){var t=NW(e,"string");return typeof t=="symbol"?t:t+""}function NW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PW(e,t){if(e==null)return{};var n,r,i=RW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function RW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var OW=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),MW=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:o=0,height:l=0,className:u}=e,d=PW(e,TW),f=AW({x:t,y:n,top:r,left:i,width:o,height:l},d);return!me(t)||!me(n)||!me(o)||!me(l)||!me(r)||!me(i)?null:A.createElement("path",ib({},$t(f),{className:$e("recharts-cross",u),d:OW(t,n,o,l,r,i)}))};function IW(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function Fk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fk(Object(n),!0).forEach(function(r){DW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DW(e,t,n){return(t=UW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UW(e){var t=LW(e,"string");return typeof t=="symbol"?t:t+""}function LW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jW=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),f2=(e,t,n)=>e.map(r=>"".concat(jW(r)," ").concat(t,"ms ").concat(n)).join(","),BW=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),$u=(e,t)=>Object.keys(t).reduce((n,r)=>Kk(Kk({},n),{},{[r]:e(r,t[r])}),{});function Yk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yk(Object(n),!0).forEach(function(r){zW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zW(e,t,n){return(t=$W(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $W(e){var t=qW(e,"string");return typeof t=="symbol"?t:t+""}function qW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eh=(e,t,n)=>e+(t-e)*n,ab=e=>{var{from:t,to:n}=e;return t!==n},h2=(e,t,n)=>{var r=$u((i,o)=>{if(ab(o)){var[l,u]=e(o.from,o.to,o.velocity);return zt(zt({},o),{},{from:l,velocity:u})}return o},t);return n<1?$u((i,o)=>ab(o)&&r[i]!=null?zt(zt({},o),{},{velocity:eh(o.velocity,r[i].velocity,n),from:eh(o.from,r[i].from,n)}):o,t):h2(e,r,n-1)};function HW(e,t,n,r,i,o){var l,u=r.reduce((g,x)=>zt(zt({},g),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),d=()=>$u((g,x)=>x.from,u),f=()=>!Object.values(u).filter(ab).length,h=null,m=g=>{l||(l=g);var x=g-l,S=x/n.dt;u=h2(n,u,S),i(zt(zt(zt({},e),t),d())),l=g,f()||(h=o.setTimeout(m))};return()=>(h=o.setTimeout(m),()=>{var g;(g=h)===null||g===void 0||g()})}function GW(e,t,n,r,i,o,l){var u=null,d=i.reduce((m,g)=>{var x=e[g],S=t[g];return x==null||S==null?m:zt(zt({},m),{},{[g]:[x,S]})},{}),f,h=m=>{f||(f=m);var g=(m-f)/r,x=$u((E,T)=>eh(...T,n(g)),d);if(o(zt(zt(zt({},e),t),x)),g<1)u=l.setTimeout(h);else{var S=$u((E,T)=>eh(...T,n(1)),d);o(zt(zt(zt({},e),t),S))}};return()=>(u=l.setTimeout(h),()=>{var m;(m=u)===null||m===void 0||m()})}const VW=(e,t,n,r,i,o)=>{var l=BW(e,t);return n==null?()=>(i(zt(zt({},e),t)),()=>{}):n.isStepper===!0?HW(e,t,n,l,i,o):GW(e,t,n,r,l,i,o)};var th=1e-4,p2=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],m2=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),Wk=(e,t)=>n=>{var r=p2(e,t);return m2(r,n)},FW=(e,t)=>n=>{var r=p2(e,t),i=[...r.map((o,l)=>o*l).slice(1),0];return m2(i,n)},KW=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(o=>parseFloat(o));return[i[0],i[1],i[2],i[3]]},YW=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=KW(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},WW=(e,t,n,r)=>{var i=Wk(e,n),o=Wk(t,r),l=FW(e,n),u=f=>f>1?1:f<0?0:f,d=f=>{for(var h=f>1?1:f,m=h,g=0;g<8;++g){var x=i(m)-h,S=l(m);if(Math.abs(x-h)<th||S<th)return o(m);m=u(m-x/S)}return o(m)};return d.isStepper=!1,d},Jk=function(){return WW(...YW(...arguments))},JW=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,o=(l,u,d)=>{var f=-(l-u)*n,h=d*r,m=d+(f-h)*i/1e3,g=d*i/1e3+l;return Math.abs(g-u)<th&&Math.abs(m)<th?[u,0]:[g,m]};return o.isStepper=!0,o.dt=i,o},XW=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Jk(e);case"spring":return JW();default:if(e.split("(")[0]==="cubic-bezier")return Jk(e)}return typeof e=="function"?e:null};function ZW(e){var t,n=()=>null,r=!1,i=null,o=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...f]=u;if(typeof d=="number"){i=e.setTimeout(o.bind(null,f),d);return}o(d),i=e.setTimeout(o.bind(null,f));return}typeof l=="string"&&(t=l,n(t)),typeof l=="object"&&(t=l,n(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),o(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}class QW{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=l=>{l-r>=n?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function eJ(){return ZW(new QW)}var tJ=A.createContext(eJ);function nJ(e,t){var n=A.useContext(tJ);return A.useMemo(()=>t??n(e),[e,t,n])}var rJ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),lp={isSsr:rJ()},iJ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Xk={t:0},my={t:1};function up(e){var t=Zt(e,iJ),{isActive:n,canBegin:r,duration:i,easing:o,begin:l,onAnimationEnd:u,onAnimationStart:d,children:f}=t,h=n==="auto"?!lp.isSsr:n,m=nJ(t.animationId,t.animationManager),[g,x]=A.useState(h?Xk:my),S=A.useRef(null);return A.useEffect(()=>{h||x(my)},[h]),A.useEffect(()=>{if(!h||!r)return ec;var E=VW(Xk,my,XW(o),i,x,m.getTimeoutController()),T=()=>{S.current=E()};return m.start([d,l,T,i,u]),()=>{m.stop(),S.current&&S.current(),u()}},[h,r,i,o,l,d,u,m]),f(g.t)}function cp(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=A.useRef(Iu(t)),r=A.useRef(e);return r.current!==e&&(n.current=Iu(t),r.current=e),n.current}var aJ=["radius"],oJ=["radius"],Zk,Qk,eN,tN,nN,rN,iN,aN,oN,sN;function lN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lN(Object(n),!0).forEach(function(r){sJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sJ(e,t,n){return(t=lJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lJ(e){var t=uJ(e,"string");return typeof t=="symbol"?t:t+""}function uJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nh(){return nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nh.apply(null,arguments)}function cN(e,t){if(e==null)return{};var n,r,i=cJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Gr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var dN=(e,t,n,r,i)=>{var o=_a(n),l=_a(r),u=Math.min(Math.abs(o)/2,Math.abs(l)/2),d=l>=0?1:-1,f=o>=0?1:-1,h=l>=0&&o>=0||l<0&&o<0?1:0,m;if(u>0&&i instanceof Array){for(var g=[0,0,0,0],x=0,S=4;x<S;x++)g[x]=i[x]>u?u:i[x];m=vt(Zk||(Zk=Gr(["M",",",""])),e,t+d*g[0]),g[0]>0&&(m+=vt(Qk||(Qk=Gr(["A ",",",",0,0,",",",",",""])),g[0],g[0],h,e+f*g[0],t)),m+=vt(eN||(eN=Gr(["L ",",",""])),e+n-f*g[1],t),g[1]>0&&(m+=vt(tN||(tN=Gr(["A ",",",",0,0,",`,
        `,",",""])),g[1],g[1],h,e+n,t+d*g[1])),m+=vt(nN||(nN=Gr(["L ",",",""])),e+n,t+r-d*g[2]),g[2]>0&&(m+=vt(rN||(rN=Gr(["A ",",",",0,0,",`,
        `,",",""])),g[2],g[2],h,e+n-f*g[2],t+r)),m+=vt(iN||(iN=Gr(["L ",",",""])),e+f*g[3],t+r),g[3]>0&&(m+=vt(aN||(aN=Gr(["A ",",",",0,0,",`,
        `,",",""])),g[3],g[3],h,e,t+r-d*g[3])),m+="Z"}else if(u>0&&i===+i&&i>0){var E=Math.min(u,i);m=vt(oN||(oN=Gr(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+d*E,E,E,h,e+f*E,t,e+n-f*E,t,E,E,h,e+n,t+d*E,e+n,t+r-d*E,E,E,h,e+n-f*E,t+r,e+f*E,t+r,E,E,h,e,t+r-d*E)}else m=vt(sN||(sN=Gr(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return m},fN={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},v2=e=>{var t=Zt(e,fN),n=A.useRef(null),[r,i]=A.useState(-1);A.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Y=n.current.getTotalLength();Y&&i(Y)}catch{}},[]);var{x:o,y:l,width:u,height:d,radius:f,className:h}=t,{animationEasing:m,animationDuration:g,animationBegin:x,isAnimationActive:S,isUpdateAnimationActive:E}=t,T=A.useRef(u),C=A.useRef(d),P=A.useRef(o),N=A.useRef(l),R=A.useMemo(()=>({x:o,y:l,width:u,height:d,radius:f}),[o,l,u,d,f]),M=cp(R,"rectangle-");if(o!==+o||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var I=$e("recharts-rectangle",h);if(!E){var D=$t(t),{radius:F}=D,$=cN(D,aJ);return A.createElement("path",nh({},$,{x:_a(o),y:_a(l),width:_a(u),height:_a(d),radius:typeof f=="number"?f:void 0,className:I,d:dN(o,l,u,d,f)}))}var Q=T.current,W=C.current,ne=P.current,se=N.current,de="0px ".concat(r===-1?1:r,"px"),Te="".concat(r,"px 0px"),j=f2(["strokeDasharray"],g,typeof m=="string"?m:fN.animationEasing);return A.createElement(up,{animationId:M,key:M,canBegin:r>0,duration:g,easing:m,isActive:E,begin:x},Y=>{var oe=At(Q,u,Y),ue=At(W,d,Y),ce=At(ne,o,Y),L=At(se,l,Y);n.current&&(T.current=oe,C.current=ue,P.current=ce,N.current=L);var J;S?Y>0?J={transition:j,strokeDasharray:Te}:J={strokeDasharray:de}:J={strokeDasharray:Te};var ie=$t(t),{radius:ae}=ie,be=cN(ie,oJ);return A.createElement("path",nh({},be,{radius:typeof f=="number"?f:void 0,className:I,d:dN(ce,L,oe,ue,f),ref:n,style:uN(uN({},J),t.style)}))})};function hN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hN(Object(n),!0).forEach(function(r){dJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dJ(e,t,n){return(t=fJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fJ(e){var t=hJ(e,"string");return typeof t=="symbol"?t:t+""}function hJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rh=Math.PI/180,ih=e=>e*Math.PI/180,pJ=e=>e*180/Math.PI,nt=(e,t,n,r)=>({x:e+Math.cos(-rh*r)*n,y:t+Math.sin(-rh*r)*n}),mJ=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},vJ=(e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)},gJ=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,l=vJ({x:n,y:r},{x:i,y:o});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,d=Math.acos(u);return r>o&&(d=2*Math.PI-d),{radius:l,angle:pJ(d),angleInRadian:d}},yJ=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-o*360,endAngle:n-o*360}},bJ=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360),l=Math.min(i,o);return e+l*360},xJ=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:o}=gJ({x:n,y:r},t),{innerRadius:l,outerRadius:u}=t;if(i<l||i>u||i===0)return null;var{startAngle:d,endAngle:f}=yJ(t),h=o,m;if(d<=f){for(;h>f;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=f}else{for(;h>d;)h-=360;for(;h<f;)h+=360;m=h>=f&&h<=d}return m?pN(pN({},t),{},{radius:i,angle:bJ(h,t)}):null},g2=e=>!A.isValidElement(e)&&typeof e!="function"&&typeof e!="boolean"&&e!=null?e.className:"";function y2(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e,l=nt(t,n,r,i),u=nt(t,n,r,o);return{points:[l,u],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}var mN,vN,gN,yN,bN,xN,wN;function ob(){return ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ob.apply(null,arguments)}function io(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var wJ=(e,t)=>{var n=In(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},of=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:l,cornerRadius:u,cornerIsExternal:d}=e,f=u*(l?1:-1)+r,h=Math.asin(u/f)/rh,m=d?i:i+o*h,g=nt(t,n,f,m),x=nt(t,n,r,m),S=d?i-o*h:i,E=nt(t,n,f*Math.cos(h*rh),S);return{center:g,circleTangency:x,lineTangency:E,theta:h}},b2=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:l}=e,u=wJ(o,l),d=o+u,f=nt(t,n,i,o),h=nt(t,n,i,d),m=vt(mN||(mN=io(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,i,i,+(Math.abs(u)>180),+(o>d),h.x,h.y);if(r>0){var g=nt(t,n,r,o),x=nt(t,n,r,d);m+=vt(vN||(vN=io(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),x.x,x.y,r,r,+(Math.abs(u)>180),+(o<=d),g.x,g.y)}else m+=vt(gN||(gN=io(["L ",","," Z"])),t,n);return m},_J=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}=e,h=In(f-d),{circleTangency:m,lineTangency:g,theta:x}=of({cx:t,cy:n,radius:i,angle:d,sign:h,cornerRadius:o,cornerIsExternal:u}),{circleTangency:S,lineTangency:E,theta:T}=of({cx:t,cy:n,radius:i,angle:f,sign:-h,cornerRadius:o,cornerIsExternal:u}),C=u?Math.abs(d-f):Math.abs(d-f)-x-T;if(C<0)return l?vt(yN||(yN=io(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),g.x,g.y,o,o,o*2,o,o,-o*2):b2({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:f});var P=vt(bN||(bN=io(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),g.x,g.y,o,o,+(h<0),m.x,m.y,i,i,+(C>180),+(h<0),S.x,S.y,o,o,+(h<0),E.x,E.y);if(r>0){var{circleTangency:N,lineTangency:R,theta:M}=of({cx:t,cy:n,radius:r,angle:d,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:I,lineTangency:D,theta:F}=of({cx:t,cy:n,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),$=u?Math.abs(d-f):Math.abs(d-f)-M-F;if($<0&&o===0)return"".concat(P,"L").concat(t,",").concat(n,"Z");P+=vt(xN||(xN=io(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),D.x,D.y,o,o,+(h<0),I.x,I.y,r,r,+($>180),+(h>0),N.x,N.y,o,o,+(h<0),R.x,R.y)}else P+=vt(wN||(wN=io(["L",",","Z"])),t,n);return P},SJ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},x2=e=>{var t=Zt(e,SJ),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:h,className:m}=t;if(o<i||f===h)return null;var g=$e("recharts-sector",m),x=o-i,S=Ur(l,x,0,!0),E;return S>0&&Math.abs(f-h)<360?E=_J({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(S,x/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:h}):E=b2({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:f,endAngle:h}),A.createElement("path",ob({},$t(t),{className:g,d:E}))};function EJ(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(tI(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:l,angle:u}=t,d=nt(r,i,o,u),f=nt(r,i,l,u);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return y2(t)}}var vy={},gy={},yy={},_N;function TJ(){return _N||(_N=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dI();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(yy)),yy}var SN;function AJ(){return SN||(SN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TJ();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(gy)),gy}var EN;function CJ(){return EN||(EN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fI(),n=AJ();function r(i,o,l){l&&typeof l!="number"&&t.isIterateeCall(i,o,l)&&(o=l=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),l=l===void 0?i<o?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((o-i)/(l||1)),0),d=new Array(u);for(let f=0;f<u;f++)d[f]=i,i+=l;return d}e.range=r})(vy)),vy}var by,TN;function kJ(){return TN||(TN=1,by=CJ().range),by}var NJ=kJ();const w2=br(NJ);function Sa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function PJ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gx(e){let t,n,r;e.length!==2?(t=Sa,n=(u,d)=>Sa(e(u),d),r=(u,d)=>e(u)-d):(t=e===Sa||e===PJ?e:RJ,n=e,r=e);function i(u,d,f=0,h=u.length){if(f<h){if(t(d,d)!==0)return h;do{const m=f+h>>>1;n(u[m],d)<0?f=m+1:h=m}while(f<h)}return f}function o(u,d,f=0,h=u.length){if(f<h){if(t(d,d)!==0)return h;do{const m=f+h>>>1;n(u[m],d)<=0?f=m+1:h=m}while(f<h)}return f}function l(u,d,f=0,h=u.length){const m=i(u,d,f,h-1);return m>f&&r(u[m-1],d)>-r(u[m],d)?m-1:m}return{left:i,center:l,right:o}}function RJ(){return 0}function _2(e){return e===null?NaN:+e}function*OJ(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const MJ=gx(Sa),lc=MJ.right;gx(_2).center;class AN extends Map{constructor(t,n=UJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(CN(this,t))}has(t){return super.has(CN(this,t))}set(t,n){return super.set(IJ(this,t),n)}delete(t){return super.delete(DJ(this,t))}}function CN({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function IJ({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function DJ({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function UJ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function LJ(e=Sa){if(e===Sa)return S2;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function S2(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const jJ=Math.sqrt(50),BJ=Math.sqrt(10),zJ=Math.sqrt(2);function ah(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=jJ?10:o>=BJ?5:o>=zJ?2:1;let u,d,f;return i<0?(f=Math.pow(10,-i)/l,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,i)*l,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=n&&n<2?ah(e,t,n*2):[u,d,f]}function sb(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,l]=r?ah(t,e,n):ah(e,t,n);if(!(o>=i))return[];const u=o-i+1,d=new Array(u);if(r)if(l<0)for(let f=0;f<u;++f)d[f]=(o-f)/-l;else for(let f=0;f<u;++f)d[f]=(o-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(i+f)/-l;else for(let f=0;f<u;++f)d[f]=(i+f)*l;return d}function lb(e,t,n){return t=+t,e=+e,n=+n,ah(e,t,n)[2]}function ub(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?lb(t,e,n):lb(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function kN(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function NN(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function E2(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?S2:LJ(i);r>n;){if(r-n>600){const d=r-n+1,f=t-n+1,h=Math.log(d),m=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*m*(d-m)/d)*(f-d/2<0?-1:1),x=Math.max(n,Math.floor(t-f*m/d+g)),S=Math.min(r,Math.floor(t+(d-f)*m/d+g));E2(e,t,x,S,i)}const o=e[t];let l=n,u=r;for(pu(e,n,t),i(e[r],o)>0&&pu(e,n,r);l<u;){for(pu(e,l,u),++l,--u;i(e[l],o)<0;)++l;for(;i(e[u],o)>0;)--u}i(e[n],o)===0?pu(e,n,u):(++u,pu(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function pu(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function $J(e,t,n){if(e=Float64Array.from(OJ(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return NN(e);if(t>=1)return kN(e);var r,i=(r-1)*t,o=Math.floor(i),l=kN(E2(e,o).subarray(0,o+1)),u=NN(e.subarray(o+1));return l+(u-l)*(i-o)}}function qJ(e,t,n=_2){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),l=+n(e[o],o,e),u=+n(e[o+1],o+1,e);return l+(u-l)*(i-o)}}function HJ(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function xr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Bi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const cb=Symbol("implicit");function yx(){var e=new AN,t=[],n=[],r=cb;function i(o){let l=e.get(o);if(l===void 0){if(r!==cb)return r;e.set(o,l=t.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new AN;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return yx(t,n).unknown(r)},xr.apply(i,arguments),i}function bx(){var e=yx().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,l,u=!1,d=0,f=0,h=.5;delete e.unknown;function m(){var g=t().length,x=i<r,S=x?i:r,E=x?r:i;o=(E-S)/Math.max(1,g-d+f*2),u&&(o=Math.floor(o)),S+=(E-S-o*(g-d))*h,l=o*(1-d),u&&(S=Math.round(S),l=Math.round(l));var T=HJ(g).map(function(C){return S+o*C});return n(x?T.reverse():T)}return e.domain=function(g){return arguments.length?(t(g),m()):t()},e.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,m()):[r,i]},e.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,u=!0,m()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(g){return arguments.length?(u=!!g,m()):u},e.padding=function(g){return arguments.length?(d=Math.min(1,f=+g),m()):d},e.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),m()):d},e.paddingOuter=function(g){return arguments.length?(f=+g,m()):f},e.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),m()):h},e.copy=function(){return bx(t(),[r,i]).round(u).paddingInner(d).paddingOuter(f).align(h)},xr.apply(m(),arguments)}function T2(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return T2(t())},e}function GJ(){return T2(bx.apply(null,arguments).paddingInner(1))}function xx(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function A2(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function uc(){}var qu=.7,oh=1/qu,Ls="\\s*([+-]?\\d+)\\s*",Hu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",VJ=/^#([0-9a-f]{3,8})$/,FJ=new RegExp(`^rgb\\(${Ls},${Ls},${Ls}\\)$`),KJ=new RegExp(`^rgb\\(${Yr},${Yr},${Yr}\\)$`),YJ=new RegExp(`^rgba\\(${Ls},${Ls},${Ls},${Hu}\\)$`),WJ=new RegExp(`^rgba\\(${Yr},${Yr},${Yr},${Hu}\\)$`),JJ=new RegExp(`^hsl\\(${Hu},${Yr},${Yr}\\)$`),XJ=new RegExp(`^hsla\\(${Hu},${Yr},${Yr},${Hu}\\)$`),PN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xx(uc,Gu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:RN,formatHex:RN,formatHex8:ZJ,formatHsl:QJ,formatRgb:ON,toString:ON});function RN(){return this.rgb().formatHex()}function ZJ(){return this.rgb().formatHex8()}function QJ(){return C2(this).formatHsl()}function ON(){return this.rgb().formatRgb()}function Gu(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=VJ.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?MN(t):n===3?new Dn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?sf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?sf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=FJ.exec(e))?new Dn(t[1],t[2],t[3],1):(t=KJ.exec(e))?new Dn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=YJ.exec(e))?sf(t[1],t[2],t[3],t[4]):(t=WJ.exec(e))?sf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=JJ.exec(e))?UN(t[1],t[2]/100,t[3]/100,1):(t=XJ.exec(e))?UN(t[1],t[2]/100,t[3]/100,t[4]):PN.hasOwnProperty(e)?MN(PN[e]):e==="transparent"?new Dn(NaN,NaN,NaN,0):null}function MN(e){return new Dn(e>>16&255,e>>8&255,e&255,1)}function sf(e,t,n,r){return r<=0&&(e=t=n=NaN),new Dn(e,t,n,r)}function eX(e){return e instanceof uc||(e=Gu(e)),e?(e=e.rgb(),new Dn(e.r,e.g,e.b,e.opacity)):new Dn}function db(e,t,n,r){return arguments.length===1?eX(e):new Dn(e,t,n,r??1)}function Dn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}xx(Dn,db,A2(uc,{brighter(e){return e=e==null?oh:Math.pow(oh,e),new Dn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?qu:Math.pow(qu,e),new Dn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Dn(uo(this.r),uo(this.g),uo(this.b),sh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:IN,formatHex:IN,formatHex8:tX,formatRgb:DN,toString:DN}));function IN(){return`#${ao(this.r)}${ao(this.g)}${ao(this.b)}`}function tX(){return`#${ao(this.r)}${ao(this.g)}${ao(this.b)}${ao((isNaN(this.opacity)?1:this.opacity)*255)}`}function DN(){const e=sh(this.opacity);return`${e===1?"rgb(":"rgba("}${uo(this.r)}, ${uo(this.g)}, ${uo(this.b)}${e===1?")":`, ${e})`}`}function sh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function uo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ao(e){return e=uo(e),(e<16?"0":"")+e.toString(16)}function UN(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Nr(e,t,n,r)}function C2(e){if(e instanceof Nr)return new Nr(e.h,e.s,e.l,e.opacity);if(e instanceof uc||(e=Gu(e)),!e)return new Nr;if(e instanceof Nr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),l=NaN,u=o-i,d=(o+i)/2;return u?(t===o?l=(n-r)/u+(n<r)*6:n===o?l=(r-t)/u+2:l=(t-n)/u+4,u/=d<.5?o+i:2-o-i,l*=60):u=d>0&&d<1?0:l,new Nr(l,u,d,e.opacity)}function nX(e,t,n,r){return arguments.length===1?C2(e):new Nr(e,t,n,r??1)}function Nr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}xx(Nr,nX,A2(uc,{brighter(e){return e=e==null?oh:Math.pow(oh,e),new Nr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?qu:Math.pow(qu,e),new Nr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Dn(xy(e>=240?e-240:e+120,i,r),xy(e,i,r),xy(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Nr(LN(this.h),lf(this.s),lf(this.l),sh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=sh(this.opacity);return`${e===1?"hsl(":"hsla("}${LN(this.h)}, ${lf(this.s)*100}%, ${lf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function LN(e){return e=(e||0)%360,e<0?e+360:e}function lf(e){return Math.max(0,Math.min(1,e||0))}function xy(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const wx=e=>()=>e;function rX(e,t){return function(n){return e+n*t}}function iX(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function aX(e){return(e=+e)==1?k2:function(t,n){return n-t?iX(t,n,e):wx(isNaN(t)?n:t)}}function k2(e,t){var n=t-e;return n?rX(e,n):wx(isNaN(e)?t:e)}const jN=(function e(t){var n=aX(t);function r(i,o){var l=n((i=db(i)).r,(o=db(o)).r),u=n(i.g,o.g),d=n(i.b,o.b),f=k2(i.opacity,o.opacity);return function(h){return i.r=l(h),i.g=u(h),i.b=d(h),i.opacity=f(h),i+""}}return r.gamma=e,r})(1);function oX(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function sX(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function lX(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=el(e[l],t[l]);for(;l<n;++l)o[l]=t[l];return function(u){for(l=0;l<r;++l)o[l]=i[l](u);return o}}function uX(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function lh(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function cX(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=el(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var fb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wy=new RegExp(fb.source,"g");function dX(e){return function(){return e}}function fX(e){return function(t){return e(t)+""}}function hX(e,t){var n=fb.lastIndex=wy.lastIndex=0,r,i,o,l=-1,u=[],d=[];for(e=e+"",t=t+"";(r=fb.exec(e))&&(i=wy.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),u[l]?u[l]+=o:u[++l]=o),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:lh(r,i)})),n=wy.lastIndex;return n<t.length&&(o=t.slice(n),u[l]?u[l]+=o:u[++l]=o),u.length<2?d[0]?fX(d[0].x):dX(t):(t=d.length,function(f){for(var h=0,m;h<t;++h)u[(m=d[h]).i]=m.x(f);return u.join("")})}function el(e,t){var n=typeof t,r;return t==null||n==="boolean"?wx(t):(n==="number"?lh:n==="string"?(r=Gu(t))?(t=r,jN):hX:t instanceof Gu?jN:t instanceof Date?uX:sX(t)?oX:Array.isArray(t)?lX:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?cX:lh)(e,t)}function _x(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function pX(e,t){t===void 0&&(t=e,e=el);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[u](l-u)}}function mX(e){return function(){return e}}function uh(e){return+e}var BN=[0,1];function _n(e){return e}function hb(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:mX(isNaN(t)?NaN:.5)}function vX(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function gX(e,t,n){var r=e[0],i=e[1],o=t[0],l=t[1];return i<r?(r=hb(i,r),o=n(l,o)):(r=hb(r,i),o=n(o,l)),function(u){return o(r(u))}}function yX(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=hb(e[l],e[l+1]),o[l]=n(t[l],t[l+1]);return function(u){var d=lc(e,u,1,r)-1;return o[d](i[d](u))}}function cc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function dp(){var e=BN,t=BN,n=el,r,i,o,l=_n,u,d,f;function h(){var g=Math.min(e.length,t.length);return l!==_n&&(l=vX(e[0],e[g-1])),u=g>2?yX:gX,d=f=null,m}function m(g){return g==null||isNaN(g=+g)?o:(d||(d=u(e.map(r),t,n)))(r(l(g)))}return m.invert=function(g){return l(i((f||(f=u(t,e.map(r),lh)))(g)))},m.domain=function(g){return arguments.length?(e=Array.from(g,uh),h()):e.slice()},m.range=function(g){return arguments.length?(t=Array.from(g),h()):t.slice()},m.rangeRound=function(g){return t=Array.from(g),n=_x,h()},m.clamp=function(g){return arguments.length?(l=g?!0:_n,h()):l!==_n},m.interpolate=function(g){return arguments.length?(n=g,h()):n},m.unknown=function(g){return arguments.length?(o=g,m):o},function(g,x){return r=g,i=x,h()}}function Sx(){return dp()(_n,_n)}function bX(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ch(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Gs(e){return e=ch(Math.abs(e)),e?e[1]:NaN}function xX(e,t){return function(n,r){for(var i=n.length,o=[],l=0,u=e[0],d=0;i>0&&u>0&&(d+u+1>r&&(u=Math.max(1,r-d)),o.push(n.substring(i-=u,i+u)),!((d+=u+1)>r));)u=e[l=(l+1)%e.length];return o.reverse().join(t)}}function wX(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var _X=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vu(e){if(!(t=_X.exec(e)))throw new Error("invalid format: "+e);var t;return new Ex({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Vu.prototype=Ex.prototype;function Ex(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ex.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function SX(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var N2;function EX(e,t){var n=ch(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(N2=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ch(e,Math.max(0,t+o-1))[0]}function zN(e,t){var n=ch(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const $N={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:bX,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>zN(e*100,t),r:zN,s:EX,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function qN(e){return e}var HN=Array.prototype.map,GN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function TX(e){var t=e.grouping===void 0||e.thousands===void 0?qN:xX(HN.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?qN:wX(HN.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(m){m=Vu(m);var g=m.fill,x=m.align,S=m.sign,E=m.symbol,T=m.zero,C=m.width,P=m.comma,N=m.precision,R=m.trim,M=m.type;M==="n"?(P=!0,M="g"):$N[M]||(N===void 0&&(N=12),R=!0,M="g"),(T||g==="0"&&x==="=")&&(T=!0,g="0",x="=");var I=E==="$"?n:E==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",D=E==="$"?r:/[%p]/.test(M)?l:"",F=$N[M],$=/[defgprs%]/.test(M);N=N===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function Q(W){var ne=I,se=D,de,Te,j;if(M==="c")se=F(W)+se,W="";else{W=+W;var Y=W<0||1/W<0;if(W=isNaN(W)?d:F(Math.abs(W),N),R&&(W=SX(W)),Y&&+W==0&&S!=="+"&&(Y=!1),ne=(Y?S==="("?S:u:S==="-"||S==="("?"":S)+ne,se=(M==="s"?GN[8+N2/3]:"")+se+(Y&&S==="("?")":""),$){for(de=-1,Te=W.length;++de<Te;)if(j=W.charCodeAt(de),48>j||j>57){se=(j===46?i+W.slice(de+1):W.slice(de))+se,W=W.slice(0,de);break}}}P&&!T&&(W=t(W,1/0));var oe=ne.length+W.length+se.length,ue=oe<C?new Array(C-oe+1).join(g):"";switch(P&&T&&(W=t(ue+W,ue.length?C-se.length:1/0),ue=""),x){case"<":W=ne+W+se+ue;break;case"=":W=ne+ue+W+se;break;case"^":W=ue.slice(0,oe=ue.length>>1)+ne+W+se+ue.slice(oe);break;default:W=ue+ne+W+se;break}return o(W)}return Q.toString=function(){return m+""},Q}function h(m,g){var x=f((m=Vu(m),m.type="f",m)),S=Math.max(-8,Math.min(8,Math.floor(Gs(g)/3)))*3,E=Math.pow(10,-S),T=GN[8+S/3];return function(C){return x(E*C)+T}}return{format:f,formatPrefix:h}}var uf,Tx,P2;AX({thousands:",",grouping:[3],currency:["$",""]});function AX(e){return uf=TX(e),Tx=uf.format,P2=uf.formatPrefix,uf}function CX(e){return Math.max(0,-Gs(Math.abs(e)))}function kX(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gs(t)/3)))*3-Gs(Math.abs(e)))}function NX(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Gs(t)-Gs(e))+1}function R2(e,t,n,r){var i=ub(e,t,n),o;switch(r=Vu(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=kX(i,l))&&(r.precision=o),P2(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=NX(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=CX(i))&&(r.precision=o-(r.type==="%")*2);break}}return Tx(r)}function Ca(e){var t=e.domain;return e.ticks=function(n){var r=t();return sb(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return R2(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,l=r[i],u=r[o],d,f,h=10;for(u<l&&(f=l,l=u,u=f,f=i,i=o,o=f);h-- >0;){if(f=lb(l,u,n),f===d)return r[i]=l,r[o]=u,t(r);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function O2(){var e=Sx();return e.copy=function(){return cc(e,O2())},xr.apply(e,arguments),Ca(e)}function M2(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,uh),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return M2(e).unknown(t)},e=arguments.length?Array.from(e,uh):[0,1],Ca(n)}function I2(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],l;return o<i&&(l=n,n=r,r=l,l=i,i=o,o=l),e[n]=t.floor(i),e[r]=t.ceil(o),e}function VN(e){return Math.log(e)}function FN(e){return Math.exp(e)}function PX(e){return-Math.log(-e)}function RX(e){return-Math.exp(-e)}function OX(e){return isFinite(e)?+("1e"+e):e<0?0:e}function MX(e){return e===10?OX:e===Math.E?Math.exp:t=>Math.pow(e,t)}function IX(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function KN(e){return(t,n)=>-e(-t,n)}function Ax(e){const t=e(VN,FN),n=t.domain;let r=10,i,o;function l(){return i=IX(r),o=MX(r),n()[0]<0?(i=KN(i),o=KN(o),e(PX,RX)):e(VN,FN),t}return t.base=function(u){return arguments.length?(r=+u,l()):r},t.domain=function(u){return arguments.length?(n(u),l()):n()},t.ticks=u=>{const d=n();let f=d[0],h=d[d.length-1];const m=h<f;m&&([f,h]=[h,f]);let g=i(f),x=i(h),S,E;const T=u==null?10:+u;let C=[];if(!(r%1)&&x-g<T){if(g=Math.floor(g),x=Math.ceil(x),f>0){for(;g<=x;++g)for(S=1;S<r;++S)if(E=g<0?S/o(-g):S*o(g),!(E<f)){if(E>h)break;C.push(E)}}else for(;g<=x;++g)for(S=r-1;S>=1;--S)if(E=g>0?S/o(-g):S*o(g),!(E<f)){if(E>h)break;C.push(E)}C.length*2<T&&(C=sb(f,h,T))}else C=sb(g,x,Math.min(x-g,T)).map(o);return m?C.reverse():C},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=Vu(d)).precision==null&&(d.trim=!0),d=Tx(d)),u===1/0)return d;const f=Math.max(1,r*u/t.ticks().length);return h=>{let m=h/o(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=f?d(h):""}},t.nice=()=>n(I2(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),t}function D2(){const e=Ax(dp()).domain([1,10]);return e.copy=()=>cc(e,D2()).base(e.base()),xr.apply(e,arguments),e}function YN(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function WN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Cx(e){var t=1,n=e(YN(t),WN(t));return n.constant=function(r){return arguments.length?e(YN(t=+r),WN(t)):t},Ca(n)}function U2(){var e=Cx(dp());return e.copy=function(){return cc(e,U2()).constant(e.constant())},xr.apply(e,arguments)}function JN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function DX(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function UX(e){return e<0?-e*e:e*e}function kx(e){var t=e(_n,_n),n=1;function r(){return n===1?e(_n,_n):n===.5?e(DX,UX):e(JN(n),JN(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Ca(t)}function Nx(){var e=kx(dp());return e.copy=function(){return cc(e,Nx()).exponent(e.exponent())},xr.apply(e,arguments),e}function LX(){return Nx.apply(null,arguments).exponent(.5)}function XN(e){return Math.sign(e)*e*e}function jX(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function L2(){var e=Sx(),t=[0,1],n=!1,r;function i(o){var l=jX(e(o));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(o){return e.invert(XN(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,uh)).map(XN)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return L2(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},xr.apply(i,arguments),Ca(i)}function j2(){var e=[],t=[],n=[],r;function i(){var l=0,u=Math.max(1,t.length);for(n=new Array(u-1);++l<u;)n[l-1]=qJ(e,l/u);return o}function o(l){return l==null||isNaN(l=+l)?r:t[lc(n,l)]}return o.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},o.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Sa),i()},o.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return j2().domain(e).range(t).unknown(r)},xr.apply(o,arguments)}function B2(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function l(d){return d!=null&&d<=d?i[lc(r,d,0,n)]:o}function u(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*t-(d-n)*e)/(n+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},l.unknown=function(d){return arguments.length&&(o=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return B2().domain([e,t]).range(i).unknown(o)},xr.apply(Ca(l),arguments)}function z2(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[lc(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var l=t.indexOf(o);return[e[l-1],e[l]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return z2().domain(e).range(t).unknown(n)},xr.apply(i,arguments)}const _y=new Date,Sy=new Date;function Ht(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const l=i(o),u=i.ceil(o);return o-l<u-o?l:u},i.offset=(o,l)=>(t(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,u)=>{const d=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<l)||!(u>0))return d;let f;do d.push(f=new Date(+o)),t(o,u),e(o);while(f<o&&o<l);return d},i.filter=o=>Ht(l=>{if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!o(l););else for(;--u>=0;)for(;t(l,1),!o(l););}),n&&(i.count=(o,l)=>(_y.setTime(+o),Sy.setTime(+l),e(_y),e(Sy),Math.floor(n(_y,Sy))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?l=>r(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const dh=Ht(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);dh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ht(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):dh);dh.range;const wi=1e3,pr=wi*60,_i=pr*60,Ni=_i*24,Px=Ni*7,ZN=Ni*30,Ey=Ni*365,oo=Ht(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*wi)},(e,t)=>(t-e)/wi,e=>e.getUTCSeconds());oo.range;const Rx=Ht(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wi)},(e,t)=>{e.setTime(+e+t*pr)},(e,t)=>(t-e)/pr,e=>e.getMinutes());Rx.range;const Ox=Ht(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*pr)},(e,t)=>(t-e)/pr,e=>e.getUTCMinutes());Ox.range;const Mx=Ht(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wi-e.getMinutes()*pr)},(e,t)=>{e.setTime(+e+t*_i)},(e,t)=>(t-e)/_i,e=>e.getHours());Mx.range;const Ix=Ht(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*_i)},(e,t)=>(t-e)/_i,e=>e.getUTCHours());Ix.range;const dc=Ht(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*pr)/Ni,e=>e.getDate()-1);dc.range;const fp=Ht(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ni,e=>e.getUTCDate()-1);fp.range;const $2=Ht(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ni,e=>Math.floor(e/Ni));$2.range;function _o(e){return Ht(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*pr)/Px)}const hp=_o(0),fh=_o(1),BX=_o(2),zX=_o(3),Vs=_o(4),$X=_o(5),qX=_o(6);hp.range;fh.range;BX.range;zX.range;Vs.range;$X.range;qX.range;function So(e){return Ht(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Px)}const pp=So(0),hh=So(1),HX=So(2),GX=So(3),Fs=So(4),VX=So(5),FX=So(6);pp.range;hh.range;HX.range;GX.range;Fs.range;VX.range;FX.range;const Dx=Ht(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Dx.range;const Ux=Ht(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ux.range;const Pi=Ht(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Pi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ht(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Pi.range;const Ri=Ht(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ri.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ht(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ri.range;function q2(e,t,n,r,i,o){const l=[[oo,1,wi],[oo,5,5*wi],[oo,15,15*wi],[oo,30,30*wi],[o,1,pr],[o,5,5*pr],[o,15,15*pr],[o,30,30*pr],[i,1,_i],[i,3,3*_i],[i,6,6*_i],[i,12,12*_i],[r,1,Ni],[r,2,2*Ni],[n,1,Px],[t,1,ZN],[t,3,3*ZN],[e,1,Ey]];function u(f,h,m){const g=h<f;g&&([f,h]=[h,f]);const x=m&&typeof m.range=="function"?m:d(f,h,m),S=x?x.range(f,+h+1):[];return g?S.reverse():S}function d(f,h,m){const g=Math.abs(h-f)/m,x=gx(([,,T])=>T).right(l,g);if(x===l.length)return e.every(ub(f/Ey,h/Ey,m));if(x===0)return dh.every(Math.max(ub(f,h,m),1));const[S,E]=l[g/l[x-1][2]<l[x][2]/g?x-1:x];return S.every(E)}return[u,d]}const[KX,YX]=q2(Ri,Ux,pp,$2,Ix,Ox),[WX,JX]=q2(Pi,Dx,hp,dc,Mx,Rx);function Ty(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ay(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function mu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function XX(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,f=vu(i),h=gu(i),m=vu(o),g=gu(o),x=vu(l),S=gu(l),E=vu(u),T=gu(u),C=vu(d),P=gu(d),N={a:Y,A:oe,b:ue,B:ce,c:null,d:iP,e:iP,f:xZ,g:PZ,G:OZ,H:gZ,I:yZ,j:bZ,L:H2,m:wZ,M:_Z,p:L,q:J,Q:sP,s:lP,S:SZ,u:EZ,U:TZ,V:AZ,w:CZ,W:kZ,x:null,X:null,y:NZ,Y:RZ,Z:MZ,"%":oP},R={a:ie,A:ae,b:be,B:Ae,c:null,d:aP,e:aP,f:LZ,g:KZ,G:WZ,H:IZ,I:DZ,j:UZ,L:V2,m:jZ,M:BZ,p:xe,q:_t,Q:sP,s:lP,S:zZ,u:$Z,U:qZ,V:HZ,w:GZ,W:VZ,x:null,X:null,y:FZ,Y:YZ,Z:JZ,"%":oP},M={a:Q,A:W,b:ne,B:se,c:de,d:nP,e:nP,f:hZ,g:tP,G:eP,H:rP,I:rP,j:uZ,L:fZ,m:lZ,M:cZ,p:$,q:sZ,Q:mZ,s:vZ,S:dZ,u:nZ,U:rZ,V:iZ,w:tZ,W:aZ,x:Te,X:j,y:tP,Y:eP,Z:oZ,"%":pZ};N.x=I(n,N),N.X=I(r,N),N.c=I(t,N),R.x=I(n,R),R.X=I(r,R),R.c=I(t,R);function I(Z,Ne){return function(Me){var re=[],tn=-1,qe=0,nn=Z.length,rn,Zr,hl;for(Me instanceof Date||(Me=new Date(+Me));++tn<nn;)Z.charCodeAt(tn)===37&&(re.push(Z.slice(qe,tn)),(Zr=QN[rn=Z.charAt(++tn)])!=null?rn=Z.charAt(++tn):Zr=rn==="e"?" ":"0",(hl=Ne[rn])&&(rn=hl(Me,Zr)),re.push(rn),qe=tn+1);return re.push(Z.slice(qe,tn)),re.join("")}}function D(Z,Ne){return function(Me){var re=mu(1900,void 0,1),tn=F(re,Z,Me+="",0),qe,nn;if(tn!=Me.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(Ne&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(qe=Ay(mu(re.y,0,1)),nn=qe.getUTCDay(),qe=nn>4||nn===0?hh.ceil(qe):hh(qe),qe=fp.offset(qe,(re.V-1)*7),re.y=qe.getUTCFullYear(),re.m=qe.getUTCMonth(),re.d=qe.getUTCDate()+(re.w+6)%7):(qe=Ty(mu(re.y,0,1)),nn=qe.getDay(),qe=nn>4||nn===0?fh.ceil(qe):fh(qe),qe=dc.offset(qe,(re.V-1)*7),re.y=qe.getFullYear(),re.m=qe.getMonth(),re.d=qe.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),nn="Z"in re?Ay(mu(re.y,0,1)).getUTCDay():Ty(mu(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(nn+5)%7:re.w+re.U*7-(nn+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,Ay(re)):Ty(re)}}function F(Z,Ne,Me,re){for(var tn=0,qe=Ne.length,nn=Me.length,rn,Zr;tn<qe;){if(re>=nn)return-1;if(rn=Ne.charCodeAt(tn++),rn===37){if(rn=Ne.charAt(tn++),Zr=M[rn in QN?Ne.charAt(tn++):rn],!Zr||(re=Zr(Z,Me,re))<0)return-1}else if(rn!=Me.charCodeAt(re++))return-1}return re}function $(Z,Ne,Me){var re=f.exec(Ne.slice(Me));return re?(Z.p=h.get(re[0].toLowerCase()),Me+re[0].length):-1}function Q(Z,Ne,Me){var re=x.exec(Ne.slice(Me));return re?(Z.w=S.get(re[0].toLowerCase()),Me+re[0].length):-1}function W(Z,Ne,Me){var re=m.exec(Ne.slice(Me));return re?(Z.w=g.get(re[0].toLowerCase()),Me+re[0].length):-1}function ne(Z,Ne,Me){var re=C.exec(Ne.slice(Me));return re?(Z.m=P.get(re[0].toLowerCase()),Me+re[0].length):-1}function se(Z,Ne,Me){var re=E.exec(Ne.slice(Me));return re?(Z.m=T.get(re[0].toLowerCase()),Me+re[0].length):-1}function de(Z,Ne,Me){return F(Z,t,Ne,Me)}function Te(Z,Ne,Me){return F(Z,n,Ne,Me)}function j(Z,Ne,Me){return F(Z,r,Ne,Me)}function Y(Z){return l[Z.getDay()]}function oe(Z){return o[Z.getDay()]}function ue(Z){return d[Z.getMonth()]}function ce(Z){return u[Z.getMonth()]}function L(Z){return i[+(Z.getHours()>=12)]}function J(Z){return 1+~~(Z.getMonth()/3)}function ie(Z){return l[Z.getUTCDay()]}function ae(Z){return o[Z.getUTCDay()]}function be(Z){return d[Z.getUTCMonth()]}function Ae(Z){return u[Z.getUTCMonth()]}function xe(Z){return i[+(Z.getUTCHours()>=12)]}function _t(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var Ne=I(Z+="",N);return Ne.toString=function(){return Z},Ne},parse:function(Z){var Ne=D(Z+="",!1);return Ne.toString=function(){return Z},Ne},utcFormat:function(Z){var Ne=I(Z+="",R);return Ne.toString=function(){return Z},Ne},utcParse:function(Z){var Ne=D(Z+="",!0);return Ne.toString=function(){return Z},Ne}}}var QN={"-":"",_:" ",0:"0"},en=/^\s*\d+/,ZX=/^%/,QX=/[\\^$*+?|[\]().{}]/g;function Fe(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function eZ(e){return e.replace(QX,"\\$&")}function vu(e){return new RegExp("^(?:"+e.map(eZ).join("|")+")","i")}function gu(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function tZ(e,t,n){var r=en.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function nZ(e,t,n){var r=en.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function rZ(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function iZ(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function aZ(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function eP(e,t,n){var r=en.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function tP(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function oZ(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function sZ(e,t,n){var r=en.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function lZ(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function nP(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function uZ(e,t,n){var r=en.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function rP(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function cZ(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function dZ(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function fZ(e,t,n){var r=en.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function hZ(e,t,n){var r=en.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function pZ(e,t,n){var r=ZX.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function mZ(e,t,n){var r=en.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function vZ(e,t,n){var r=en.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function iP(e,t){return Fe(e.getDate(),t,2)}function gZ(e,t){return Fe(e.getHours(),t,2)}function yZ(e,t){return Fe(e.getHours()%12||12,t,2)}function bZ(e,t){return Fe(1+dc.count(Pi(e),e),t,3)}function H2(e,t){return Fe(e.getMilliseconds(),t,3)}function xZ(e,t){return H2(e,t)+"000"}function wZ(e,t){return Fe(e.getMonth()+1,t,2)}function _Z(e,t){return Fe(e.getMinutes(),t,2)}function SZ(e,t){return Fe(e.getSeconds(),t,2)}function EZ(e){var t=e.getDay();return t===0?7:t}function TZ(e,t){return Fe(hp.count(Pi(e)-1,e),t,2)}function G2(e){var t=e.getDay();return t>=4||t===0?Vs(e):Vs.ceil(e)}function AZ(e,t){return e=G2(e),Fe(Vs.count(Pi(e),e)+(Pi(e).getDay()===4),t,2)}function CZ(e){return e.getDay()}function kZ(e,t){return Fe(fh.count(Pi(e)-1,e),t,2)}function NZ(e,t){return Fe(e.getFullYear()%100,t,2)}function PZ(e,t){return e=G2(e),Fe(e.getFullYear()%100,t,2)}function RZ(e,t){return Fe(e.getFullYear()%1e4,t,4)}function OZ(e,t){var n=e.getDay();return e=n>=4||n===0?Vs(e):Vs.ceil(e),Fe(e.getFullYear()%1e4,t,4)}function MZ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Fe(t/60|0,"0",2)+Fe(t%60,"0",2)}function aP(e,t){return Fe(e.getUTCDate(),t,2)}function IZ(e,t){return Fe(e.getUTCHours(),t,2)}function DZ(e,t){return Fe(e.getUTCHours()%12||12,t,2)}function UZ(e,t){return Fe(1+fp.count(Ri(e),e),t,3)}function V2(e,t){return Fe(e.getUTCMilliseconds(),t,3)}function LZ(e,t){return V2(e,t)+"000"}function jZ(e,t){return Fe(e.getUTCMonth()+1,t,2)}function BZ(e,t){return Fe(e.getUTCMinutes(),t,2)}function zZ(e,t){return Fe(e.getUTCSeconds(),t,2)}function $Z(e){var t=e.getUTCDay();return t===0?7:t}function qZ(e,t){return Fe(pp.count(Ri(e)-1,e),t,2)}function F2(e){var t=e.getUTCDay();return t>=4||t===0?Fs(e):Fs.ceil(e)}function HZ(e,t){return e=F2(e),Fe(Fs.count(Ri(e),e)+(Ri(e).getUTCDay()===4),t,2)}function GZ(e){return e.getUTCDay()}function VZ(e,t){return Fe(hh.count(Ri(e)-1,e),t,2)}function FZ(e,t){return Fe(e.getUTCFullYear()%100,t,2)}function KZ(e,t){return e=F2(e),Fe(e.getUTCFullYear()%100,t,2)}function YZ(e,t){return Fe(e.getUTCFullYear()%1e4,t,4)}function WZ(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Fs(e):Fs.ceil(e),Fe(e.getUTCFullYear()%1e4,t,4)}function JZ(){return"+0000"}function oP(){return"%"}function sP(e){return+e}function lP(e){return Math.floor(+e/1e3)}var vs,K2,Y2;XZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function XZ(e){return vs=XX(e),K2=vs.format,vs.parse,Y2=vs.utcFormat,vs.utcParse,vs}function ZZ(e){return new Date(e)}function QZ(e){return e instanceof Date?+e:+new Date(+e)}function Lx(e,t,n,r,i,o,l,u,d,f){var h=Sx(),m=h.invert,g=h.domain,x=f(".%L"),S=f(":%S"),E=f("%I:%M"),T=f("%I %p"),C=f("%a %d"),P=f("%b %d"),N=f("%B"),R=f("%Y");function M(I){return(d(I)<I?x:u(I)<I?S:l(I)<I?E:o(I)<I?T:r(I)<I?i(I)<I?C:P:n(I)<I?N:R)(I)}return h.invert=function(I){return new Date(m(I))},h.domain=function(I){return arguments.length?g(Array.from(I,QZ)):g().map(ZZ)},h.ticks=function(I){var D=g();return e(D[0],D[D.length-1],I??10)},h.tickFormat=function(I,D){return D==null?M:f(D)},h.nice=function(I){var D=g();return(!I||typeof I.range!="function")&&(I=t(D[0],D[D.length-1],I??10)),I?g(I2(D,I)):h},h.copy=function(){return cc(h,Lx(e,t,n,r,i,o,l,u,d,f))},h}function eQ(){return xr.apply(Lx(WX,JX,Pi,Dx,hp,dc,Mx,Rx,oo,K2).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function tQ(){return xr.apply(Lx(KX,YX,Ri,Ux,pp,fp,Ix,Ox,oo,Y2).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function mp(){var e=0,t=1,n,r,i,o,l=_n,u=!1,d;function f(m){return m==null||isNaN(m=+m)?d:l(i===0?.5:(m=(o(m)-n)*i,u?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([e,t]=m,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(m){return arguments.length?(u=!!m,f):u},f.interpolator=function(m){return arguments.length?(l=m,f):l};function h(m){return function(g){var x,S;return arguments.length?([x,S]=g,l=m(x,S),f):[l(0),l(1)]}}return f.range=h(el),f.rangeRound=h(_x),f.unknown=function(m){return arguments.length?(d=m,f):d},function(m){return o=m,n=m(e),r=m(t),i=n===r?0:1/(r-n),f}}function ka(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function W2(){var e=Ca(mp()(_n));return e.copy=function(){return ka(e,W2())},Bi.apply(e,arguments)}function J2(){var e=Ax(mp()).domain([1,10]);return e.copy=function(){return ka(e,J2()).base(e.base())},Bi.apply(e,arguments)}function X2(){var e=Cx(mp());return e.copy=function(){return ka(e,X2()).constant(e.constant())},Bi.apply(e,arguments)}function jx(){var e=kx(mp());return e.copy=function(){return ka(e,jx()).exponent(e.exponent())},Bi.apply(e,arguments)}function nQ(){return jx.apply(null,arguments).exponent(.5)}function Z2(){var e=[],t=_n;function n(r){if(r!=null&&!isNaN(r=+r))return t((lc(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Sa),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>$J(e,o/r))},n.copy=function(){return Z2(t).domain(e)},Bi.apply(n,arguments)}function vp(){var e=0,t=.5,n=1,r=1,i,o,l,u,d,f=_n,h,m=!1,g;function x(E){return isNaN(E=+E)?g:(E=.5+((E=+h(E))-o)*(r*E<r*o?u:d),f(m?Math.max(0,Math.min(1,E)):E))}x.domain=function(E){return arguments.length?([e,t,n]=E,i=h(e=+e),o=h(t=+t),l=h(n=+n),u=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),r=o<i?-1:1,x):[e,t,n]},x.clamp=function(E){return arguments.length?(m=!!E,x):m},x.interpolator=function(E){return arguments.length?(f=E,x):f};function S(E){return function(T){var C,P,N;return arguments.length?([C,P,N]=T,f=pX(E,[C,P,N]),x):[f(0),f(.5),f(1)]}}return x.range=S(el),x.rangeRound=S(_x),x.unknown=function(E){return arguments.length?(g=E,x):g},function(E){return h=E,i=E(e),o=E(t),l=E(n),u=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),r=o<i?-1:1,x}}function Q2(){var e=Ca(vp()(_n));return e.copy=function(){return ka(e,Q2())},Bi.apply(e,arguments)}function eD(){var e=Ax(vp()).domain([.1,1,10]);return e.copy=function(){return ka(e,eD()).base(e.base())},Bi.apply(e,arguments)}function tD(){var e=Cx(vp());return e.copy=function(){return ka(e,tD()).constant(e.constant())},Bi.apply(e,arguments)}function Bx(){var e=kx(vp());return e.copy=function(){return ka(e,Bx()).exponent(e.exponent())},Bi.apply(e,arguments)}function rQ(){return Bx.apply(null,arguments).exponent(.5)}const _u=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:bx,scaleDiverging:Q2,scaleDivergingLog:eD,scaleDivergingPow:Bx,scaleDivergingSqrt:rQ,scaleDivergingSymlog:tD,scaleIdentity:M2,scaleImplicit:cb,scaleLinear:O2,scaleLog:D2,scaleOrdinal:yx,scalePoint:GJ,scalePow:Nx,scaleQuantile:j2,scaleQuantize:B2,scaleRadial:L2,scaleSequential:W2,scaleSequentialLog:J2,scaleSequentialPow:jx,scaleSequentialQuantile:Z2,scaleSequentialSqrt:nQ,scaleSequentialSymlog:X2,scaleSqrt:LX,scaleSymlog:U2,scaleThreshold:z2,scaleTime:eQ,scaleUtc:tQ,tickFormat:R2},Symbol.toStringTag,{value:"Module"}));var zi=e=>e.chartData,gp=q([zi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),nD=(e,t,n,r)=>r?gp(e):zi(e),iQ=(e,t,n)=>n?gp(e):zi(e);function Ea(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(gt(t)&&gt(n))return!0}return!1}function uP(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function rD(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,o;if(gt(n))i=n;else if(typeof n=="function")return;if(gt(r))o=r;else if(typeof r=="function")return;var l=[i,o];if(Ea(l))return l}}function aQ(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Ea(r))return uP(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,o]=e,l,u;if(i==="auto")t!=null&&(l=Math.min(...t));else if(me(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&_k.test(i)){var d=_k.exec(i);if(d==null||d[1]==null||t==null)l=void 0;else{var f=+d[1];l=t[0]-f}}else l=t==null?void 0:t[0];if(o==="auto")t!=null&&(u=Math.max(...t));else if(me(o))u=o;else if(typeof o=="function")try{t!=null&&(u=o(t==null?void 0:t[1]))}catch{}else if(typeof o=="string"&&Sk.test(o)){var h=Sk.exec(o);if(h==null||h[1]==null||t==null)u=void 0;else{var m=+h[1];u=t[1]+m}}else u=t==null?void 0:t[1];var g=[l,u];if(Ea(g))return t==null?g:uP(g,t,n)}}}var tl=1e9,oQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},$x,pt=!0,yr="[DecimalError] ",co=yr+"Invalid argument: ",zx=yr+"Exponent out of range: ",nl=Math.floor,eo=Math.pow,sQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xn,Jt=1e7,dt=7,iD=9007199254740991,ph=nl(iD/dt),he={};he.absoluteValue=he.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};he.comparedTo=he.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};he.decimalPlaces=he.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*dt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};he.dividedBy=he.div=function(e){return Ei(this,new this.constructor(e))};he.dividedToIntegerBy=he.idiv=function(e){var t=this,n=t.constructor;return it(Ei(t,new n(e),0,1),n.precision)};he.equals=he.eq=function(e){return!this.cmp(e)};he.exponent=function(){return Lt(this)};he.greaterThan=he.gt=function(e){return this.cmp(e)>0};he.greaterThanOrEqualTo=he.gte=function(e){return this.cmp(e)>=0};he.isInteger=he.isint=function(){return this.e>this.d.length-2};he.isNegative=he.isneg=function(){return this.s<0};he.isPositive=he.ispos=function(){return this.s>0};he.isZero=function(){return this.s===0};he.lessThan=he.lt=function(e){return this.cmp(e)<0};he.lessThanOrEqualTo=he.lte=function(e){return this.cmp(e)<1};he.logarithm=he.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Xn))throw Error(yr+"NaN");if(n.s<1)throw Error(yr+(n.s?"NaN":"-Infinity"));return n.eq(Xn)?new r(0):(pt=!1,t=Ei(Fu(n,o),Fu(e,o),o),pt=!0,it(t,i))};he.minus=he.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?sD(t,e):aD(t,(e.s=-e.s,e))};he.modulo=he.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(yr+"NaN");return n.s?(pt=!1,t=Ei(n,e,0,1).times(e),pt=!0,n.minus(t)):it(new r(n),i)};he.naturalExponential=he.exp=function(){return oD(this)};he.naturalLogarithm=he.ln=function(){return Fu(this)};he.negated=he.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};he.plus=he.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?aD(t,e):sD(t,(e.s=-e.s,e))};he.precision=he.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(co+e);if(t=Lt(i)+1,r=i.d.length-1,n=r*dt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};he.squareRoot=he.sqrt=function(){var e,t,n,r,i,o,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(yr+"NaN")}for(e=Lt(u),pt=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=Kr(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=nl((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new d(t)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(o=r,r=o.plus(Ei(u,o,l+2)).times(.5),Kr(o.d).slice(0,l)===(t=Kr(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(it(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(t!="9999")break;l+=4}return pt=!0,it(r,n)};he.times=he.mul=function(e){var t,n,r,i,o,l,u,d,f,h=this,m=h.constructor,g=h.d,x=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,n=h.e+e.e,d=g.length,f=x.length,d<f&&(o=g,g=x,x=o,l=d,d=f,f=l),o=[],l=d+f,r=l;r--;)o.push(0);for(r=f;--r>=0;){for(t=0,i=d+r;i>r;)u=o[i]+x[r]*g[i-r-1]+t,o[i--]=u%Jt|0,t=u/Jt|0;o[i]=(o[i]+t)%Jt|0}for(;!o[--l];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,pt?it(e,m.precision):e};he.toDecimalPlaces=he.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Xr(e,0,tl),t===void 0?t=r.rounding:Xr(t,0,8),it(n,e+Lt(n)+1,t))};he.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=vo(r,!0):(Xr(e,0,tl),t===void 0?t=i.rounding:Xr(t,0,8),r=it(new i(r),e+1,t),n=vo(r,!0,e+1)),n};he.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?vo(i):(Xr(e,0,tl),t===void 0?t=o.rounding:Xr(t,0,8),r=it(new o(i),e+Lt(i)+1,t),n=vo(r.abs(),!1,e+Lt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};he.toInteger=he.toint=function(){var e=this,t=e.constructor;return it(new t(e),Lt(e)+1,t.rounding)};he.toNumber=function(){return+this};he.toPower=he.pow=function(e){var t,n,r,i,o,l,u=this,d=u.constructor,f=12,h=+(e=new d(e));if(!e.s)return new d(Xn);if(u=new d(u),!u.s){if(e.s<1)throw Error(yr+"Infinity");return u}if(u.eq(Xn))return u;if(r=d.precision,e.eq(Xn))return it(u,r);if(t=e.e,n=e.d.length-1,l=t>=n,o=u.s,l){if((n=h<0?-h:h)<=iD){for(i=new d(Xn),t=Math.ceil(r/dt+4),pt=!1;n%2&&(i=i.times(u),dP(i.d,t)),n=nl(n/2),n!==0;)u=u.times(u),dP(u.d,t);return pt=!0,e.s<0?new d(Xn).div(i):it(i,r)}}else if(o<0)throw Error(yr+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,pt=!1,i=e.times(Fu(u,r+f)),pt=!0,i=oD(i),i.s=o,i};he.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=Lt(i),r=vo(i,n<=o.toExpNeg||n>=o.toExpPos)):(Xr(e,1,tl),t===void 0?t=o.rounding:Xr(t,0,8),i=it(new o(i),e,t),n=Lt(i),r=vo(i,e<=n||n<=o.toExpNeg,e)),r};he.toSignificantDigits=he.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Xr(e,1,tl),t===void 0?t=r.rounding:Xr(t,0,8)),it(new r(n),e,t)};he.toString=he.valueOf=he.val=he.toJSON=he[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Lt(e),n=e.constructor;return vo(e,t<=n.toExpNeg||t>=n.toExpPos)};function aD(e,t){var n,r,i,o,l,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),pt?it(t,m):t;if(d=e.d,f=t.d,l=e.e,i=t.e,d=d.slice(),o=l-i,o){for(o<0?(r=d,o=-o,u=f.length):(r=f,i=l,u=d.length),l=Math.ceil(m/dt),u=l>u?l+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=d.length,o=f.length,u-o<0&&(o=u,r=f,f=d,d=r),n=0;o;)n=(d[--o]=d[o]+f[o]+n)/Jt|0,d[o]%=Jt;for(n&&(d.unshift(n),++i),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=i,pt?it(t,m):t}function Xr(e,t,n){if(e!==~~e||e<t||e>n)throw Error(co+e)}function Kr(e){var t,n,r,i=e.length-1,o="",l=e[0];if(i>0){for(o+=l,t=1;t<i;t++)r=e[t]+"",n=dt-r.length,n&&(o+=va(n)),o+=r;l=e[t],r=l+"",n=dt-r.length,n&&(o+=va(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var Ei=(function(){function e(r,i){var o,l=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+l,r[u]=o%Jt|0,l=o/Jt|0;return l&&r.unshift(l),r}function t(r,i,o,l){var u,d;if(o!=l)d=o>l?1:-1;else for(u=d=0;u<o;u++)if(r[u]!=i[u]){d=r[u]>i[u]?1:-1;break}return d}function n(r,i,o){for(var l=0;o--;)r[o]-=l,l=r[o]<i[o]?1:0,r[o]=l*Jt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,l){var u,d,f,h,m,g,x,S,E,T,C,P,N,R,M,I,D,F,$=r.constructor,Q=r.s==i.s?1:-1,W=r.d,ne=i.d;if(!r.s)return new $(r);if(!i.s)throw Error(yr+"Division by zero");for(d=r.e-i.e,D=ne.length,M=W.length,x=new $(Q),S=x.d=[],f=0;ne[f]==(W[f]||0);)++f;if(ne[f]>(W[f]||0)&&--d,o==null?P=o=$.precision:l?P=o+(Lt(r)-Lt(i))+1:P=o,P<0)return new $(0);if(P=P/dt+2|0,f=0,D==1)for(h=0,ne=ne[0],P++;(f<M||h)&&P--;f++)N=h*Jt+(W[f]||0),S[f]=N/ne|0,h=N%ne|0;else{for(h=Jt/(ne[0]+1)|0,h>1&&(ne=e(ne,h),W=e(W,h),D=ne.length,M=W.length),R=D,E=W.slice(0,D),T=E.length;T<D;)E[T++]=0;F=ne.slice(),F.unshift(0),I=ne[0],ne[1]>=Jt/2&&++I;do h=0,u=t(ne,E,D,T),u<0?(C=E[0],D!=T&&(C=C*Jt+(E[1]||0)),h=C/I|0,h>1?(h>=Jt&&(h=Jt-1),m=e(ne,h),g=m.length,T=E.length,u=t(m,E,g,T),u==1&&(h--,n(m,D<g?F:ne,g))):(h==0&&(u=h=1),m=ne.slice()),g=m.length,g<T&&m.unshift(0),n(E,m,T),u==-1&&(T=E.length,u=t(ne,E,D,T),u<1&&(h++,n(E,D<T?F:ne,T))),T=E.length):u===0&&(h++,E=[0]),S[f++]=h,u&&E[0]?E[T++]=W[R]||0:(E=[W[R]],T=1);while((R++<M||E[0]!==void 0)&&P--)}return S[0]||S.shift(),x.e=d,it(x,l?o+Lt(x)+1:o)}})();function oD(e,t){var n,r,i,o,l,u,d=0,f=0,h=e.constructor,m=h.precision;if(Lt(e)>16)throw Error(zx+Lt(e));if(!e.s)return new h(Xn);for(pt=!1,u=m,l=new h(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(r=Math.log(eo(2,f))/Math.LN10*2+5|0,u+=r,n=i=o=new h(Xn),h.precision=u;;){if(i=it(i.times(e),u),n=n.times(++d),l=o.plus(Ei(i,n,u)),Kr(l.d).slice(0,u)===Kr(o.d).slice(0,u)){for(;f--;)o=it(o.times(o),u);return h.precision=m,t==null?(pt=!0,it(o,m)):o}o=l}}function Lt(e){for(var t=e.e*dt,n=e.d[0];n>=10;n/=10)t++;return t}function Cy(e,t,n){if(t>e.LN10.sd())throw pt=!0,n&&(e.precision=n),Error(yr+"LN10 precision limit exceeded");return it(new e(e.LN10),t)}function va(e){for(var t="";e--;)t+="0";return t}function Fu(e,t){var n,r,i,o,l,u,d,f,h,m=1,g=10,x=e,S=x.d,E=x.constructor,T=E.precision;if(x.s<1)throw Error(yr+(x.s?"NaN":"-Infinity"));if(x.eq(Xn))return new E(0);if(t==null?(pt=!1,f=T):f=t,x.eq(10))return t==null&&(pt=!0),Cy(E,f);if(f+=g,E.precision=f,n=Kr(S),r=n.charAt(0),o=Lt(x),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(e),n=Kr(x.d),r=n.charAt(0),m++;o=Lt(x),r>1?(x=new E("0."+n),o++):x=new E(r+"."+n.slice(1))}else return d=Cy(E,f+2,T).times(o+""),x=Fu(new E(r+"."+n.slice(1)),f-g).plus(d),E.precision=T,t==null?(pt=!0,it(x,T)):x;for(u=l=x=Ei(x.minus(Xn),x.plus(Xn),f),h=it(x.times(x),f),i=3;;){if(l=it(l.times(h),f),d=u.plus(Ei(l,new E(i),f)),Kr(d.d).slice(0,f)===Kr(u.d).slice(0,f))return u=u.times(2),o!==0&&(u=u.plus(Cy(E,f+2,T).times(o+""))),u=Ei(u,new E(m),f),E.precision=T,t==null?(pt=!0,it(u,T)):u;u=d,i+=2}}function cP(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=nl(n/dt),e.d=[],r=(n+1)%dt,n<0&&(r+=dt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=dt;r<i;)e.d.push(+t.slice(r,r+=dt));t=t.slice(r),r=dt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),pt&&(e.e>ph||e.e<-ph))throw Error(zx+n)}else e.s=0,e.e=0,e.d=[0];return e}function it(e,t,n){var r,i,o,l,u,d,f,h,m=e.d;for(l=1,o=m[0];o>=10;o/=10)l++;if(r=t-l,r<0)r+=dt,i=t,f=m[h=0];else{if(h=Math.ceil((r+1)/dt),o=m.length,h>=o)return e;for(f=o=m[h],l=1;o>=10;o/=10)l++;r%=dt,i=r-dt+l}if(n!==void 0&&(o=eo(10,l-i-1),u=f/o%10|0,d=t<0||m[h+1]!==void 0||f%o,d=n<4?(u||d)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||d||n==6&&(r>0?i>0?f/eo(10,l-i):0:m[h-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return d?(o=Lt(e),m.length=1,t=t-o-1,m[0]=eo(10,(dt-t%dt)%dt),e.e=nl(-t/dt)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(r==0?(m.length=h,o=1,h--):(m.length=h+1,o=eo(10,dt-r),m[h]=i>0?(f/eo(10,l-i)%eo(10,i)|0)*o:0),d)for(;;)if(h==0){(m[0]+=o)==Jt&&(m[0]=1,++e.e);break}else{if(m[h]+=o,m[h]!=Jt)break;m[h--]=0,o=1}for(r=m.length;m[--r]===0;)m.pop();if(pt&&(e.e>ph||e.e<-ph))throw Error(zx+Lt(e));return e}function sD(e,t){var n,r,i,o,l,u,d,f,h,m,g=e.constructor,x=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),pt?it(t,x):t;if(d=e.d,m=t.d,r=t.e,f=e.e,d=d.slice(),l=f-r,l){for(h=l<0,h?(n=d,l=-l,u=m.length):(n=m,r=f,u=d.length),i=Math.max(Math.ceil(x/dt),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,u=m.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(d[i]!=m[i]){h=d[i]<m[i];break}l=0}for(h&&(n=d,d=m,m=n,t.s=-t.s),u=d.length,i=m.length-u;i>0;--i)d[u++]=0;for(i=m.length;i>l;){if(d[--i]<m[i]){for(o=i;o&&d[--o]===0;)d[o]=Jt-1;--d[o],d[i]+=Jt}d[i]-=m[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(t.d=d,t.e=r,pt?it(t,x):t):new g(0)}function vo(e,t,n){var r,i=Lt(e),o=Kr(e.d),l=o.length;return t?(n&&(r=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+va(r):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+va(-i-1)+o,n&&(r=n-l)>0&&(o+=va(r))):i>=l?(o+=va(i+1-l),n&&(r=n-i-1)>0&&(o=o+"."+va(r))):((r=i+1)<l&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(o+="."),o+=va(r))),e.s<0?"-"+o:o}function dP(e,t){if(e.length>t)return e.length=t,!0}function lD(e){var t,n,r;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(co+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return cP(l,o.toString())}else if(typeof o!="string")throw Error(co+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,sQ.test(o))cP(l,o);else throw Error(co+o)}if(i.prototype=he,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=lD,i.config=i.set=lQ,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function lQ(e){if(!e||typeof e!="object")throw Error(yr+"Object expected");var t,n,r,i=["precision",1,tl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(nl(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(co+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(co+n+": "+r);return this}var $x=lD(oQ);Xn=new $x(1);const Xe=$x;var uQ=e=>e,uD={},cD=e=>e===uD,fP=e=>function t(){return arguments.length===0||arguments.length===1&&cD(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},dD=(e,t)=>e===1?t:fP(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(l=>l!==uD).length;return o>=e?t(...r):dD(e-o,fP(function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var f=r.map(h=>cD(h)?u.shift():h);return t(...f,...u)}))}),cQ=e=>dD(e.length,e),pb=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},dQ=cQ((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),fQ=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return uQ;var i=n.reverse(),o=i[0],l=i.slice(1);return function(){return l.reduce((u,d)=>d(u),o(...arguments))}};function fD(e){var t;return e===0?t=1:t=Math.floor(new Xe(e).abs().log(10).toNumber())+1,t}function hD(e,t,n){for(var r=new Xe(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var pD=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},mD=(e,t,n)=>{if(e.lte(0))return new Xe(0);var r=fD(e.toNumber()),i=new Xe(10).pow(r),o=e.div(i),l=r!==1?.05:.1,u=new Xe(Math.ceil(o.div(l).toNumber())).add(n).mul(l),d=u.mul(i);return t?new Xe(d.toNumber()):new Xe(Math.ceil(d.toNumber()))},hQ=(e,t,n)=>{var r=new Xe(1),i=new Xe(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new Xe(10).pow(fD(e)-1),i=new Xe(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Xe(Math.floor(e)))}else e===0?i=new Xe(Math.floor((t-1)/2)):n||(i=new Xe(Math.floor(e)));var l=Math.floor((t-1)/2),u=fQ(dQ(d=>i.add(new Xe(d-l).mul(r)).toNumber()),pb);return u(0,t)},vD=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Xe(0),tickMin:new Xe(0),tickMax:new Xe(0)};var l=mD(new Xe(n).sub(t).div(r-1),i,o),u;t<=0&&n>=0?u=new Xe(0):(u=new Xe(t).add(n).div(2),u=u.sub(new Xe(u).mod(l)));var d=Math.ceil(u.sub(t).div(l).toNumber()),f=Math.ceil(new Xe(n).sub(u).div(l).toNumber()),h=d+f+1;return h>r?vD(t,n,r,i,o+1):(h<r&&(f=n>0?f+(r-h):f,d=n>0?d:d+(r-h)),{step:l,tickMin:u.sub(new Xe(d).mul(l)),tickMax:u.add(new Xe(f).mul(l))})},pQ=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[u,d]=pD([n,r]);if(u===-1/0||d===1/0){var f=d===1/0?[u,...pb(0,i-1).map(()=>1/0)]:[...pb(0,i-1).map(()=>-1/0),d];return n>r?f.reverse():f}if(u===d)return hQ(u,i,o);var{step:h,tickMin:m,tickMax:g}=vD(u,d,l,o,0),x=hD(m,g.add(new Xe(.1).mul(h)),h);return n>r?x.reverse():x},mQ=function(t,n){var[r,i]=t,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=pD([r,i]);if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var d=Math.max(n,2),f=mD(new Xe(u).sub(l).div(d-1),o,0),h=[...hD(new Xe(l),new Xe(u),f),u];return o===!1&&(h=h.map(m=>Math.round(m))),r>i?h.reverse():h},gD=e=>e.rootProps.maxBarSize,vQ=e=>e.rootProps.barGap,yD=e=>e.rootProps.barCategoryGap,gQ=e=>e.rootProps.barSize,fc=e=>e.rootProps.stackOffset,bD=e=>e.rootProps.reverseStackOrder,qx=e=>e.options.chartName,Hx=e=>e.rootProps.syncId,xD=e=>e.rootProps.syncMethod,Gx=e=>e.options.eventEmitter,Ct={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Vr={allowDecimals:!1,allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,axisLineType:"polygon",cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category",zIndex:Ct.axis},Mn={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,includeHidden:!1,hide:!1,label:!1,orientation:"right",radiusAxisId:0,reversed:!1,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number",zIndex:Ct.axis},yp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},yQ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Vr.angleAxisId,includeHidden:!1,name:void 0,reversed:Vr.reversed,scale:Vr.scale,tick:Vr.tick,tickCount:void 0,ticks:void 0,type:Vr.type,unit:void 0},bQ={allowDataOverflow:Mn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Mn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Mn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Mn.scale,tick:Mn.tick,tickCount:Mn.tickCount,ticks:void 0,type:Mn.type,unit:void 0},xQ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Vr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Vr.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Vr.scale,tick:Vr.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},wQ={allowDataOverflow:Mn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Mn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Mn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Mn.scale,tick:Mn.tick,tickCount:Mn.tickCount,ticks:void 0,type:"category",unit:void 0},rl=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?xQ:yQ,hc=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?wQ:bQ,bp=e=>e.polarOptions,Vx=q([Li,ji,Qt],mJ),wD=q([bp,Vx],(e,t)=>{if(e!=null)return Ur(e.innerRadius,t,0)}),_D=q([bp,Vx],(e,t)=>{if(e!=null)return Ur(e.outerRadius,t,t*.8)}),_Q=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},SD=q([bp],_Q),SQ=q([rl,SD],yp),ED=q([Vx,wD,_D],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]}),EQ=q([hc,ED],yp),il=q([Be,bp,wD,_D,Li,ji],(e,t,n,r,i,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:l,cy:u,startAngle:d,endAngle:f}=t;return{cx:Ur(l,i,i/2),cy:Ur(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:f,clockWise:!1}}}),at=(e,t)=>t,pc=(e,t,n)=>n;function Fx(e){return e==null?void 0:e.id}function TD(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=n,l=new Map;return e.forEach(u=>{var d,f=(d=u.data)!==null&&d!==void 0?d:r;if(!(f==null||f.length===0)){var h=Fx(u);f.forEach((m,g)=>{var x=o==null||i?g:String(kt(m,o,null)),S=kt(m,u.dataKey,0),E;l.has(x)?E=l.get(x):E={},Object.assign(E,{[h]:S}),l.set(x,E)})}}),Array.from(l.values())}function xp(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var wp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function _p(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function TQ(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Gt=e=>{var t=Be(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},al=e=>e.tooltip.settings.axisId;function hP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hP(Object(n),!0).forEach(function(r){AQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AQ(e,t,n){return(t=CQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CQ(e){var t=kQ(e,"string");return typeof t=="symbol"?t:t+""}function kQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mb=[0,"auto"],Yt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},AD=(e,t)=>e.cartesianAxis.xAxis[t],$i=(e,t)=>{var n=AD(e,t);return n??Yt},Wt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:mb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ac},CD=(e,t)=>e.cartesianAxis.yAxis[t],qi=(e,t)=>{var n=CD(e,t);return n??Wt},NQ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Kx=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??NQ},yt=(e,t,n)=>{switch(t){case"xAxis":return $i(e,n);case"yAxis":return qi(e,n);case"zAxis":return Kx(e,n);case"angleAxis":return rl(e,n);case"radiusAxis":return hc(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},PQ=(e,t,n)=>{switch(t){case"xAxis":return $i(e,n);case"yAxis":return qi(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},ol=(e,t,n)=>{switch(t){case"xAxis":return $i(e,n);case"yAxis":return qi(e,n);case"angleAxis":return rl(e,n);case"radiusAxis":return hc(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},kD=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Yx(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Wx=e=>e.graphicalItems.cartesianItems,RQ=q([at,pc],Yx),Jx=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),mc=q([Wx,yt,RQ],Jx,{memoizeOptions:{resultEqualityCheck:_p}}),ND=q([mc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(xp)),PD=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),OQ=q([mc],PD),Xx=e=>e.map(t=>t.data).filter(Boolean).flat(1),MQ=q([mc],Xx,{memoizeOptions:{resultEqualityCheck:_p}}),Zx=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},Qx=q([MQ,nD],Zx),ew=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:kt(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:kt(i,r)}))):e.map(r=>({value:r})),Sp=q([Qx,yt,mc],ew);function RD(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Tf(e){if(Wr(e)||e instanceof Date){var t=Number(e);if(gt(t))return t}}function pP(e){if(Array.isArray(e)){var t=[Tf(e[0]),Tf(e[1])];return Ea(t)?t:void 0}var n=Tf(e);if(n!=null)return[n,n]}function Oi(e){return e.map(Tf).filter(V9)}function IQ(e,t,n){return!n||typeof t!="number"||Dr(t)?[]:n.length?Oi(n.flatMap(r=>{var i=kt(e,r.dataKey),o,l;if(Array.isArray(i)?[o,l]=i:o=l=i,!(!gt(o)||!gt(l)))return[t-o,t+l]})):[]}var Vt=e=>{var t=Gt(e),n=al(e);return ol(e,t,n)},vc=q([Vt],e=>e==null?void 0:e.dataKey),DQ=q([ND,nD,Vt],TD),OD=(e,t,n,r)=>{var i={},o=t.reduce((l,u)=>{if(u.stackId==null)return l;var d=l[u.stackId];return d==null&&(d=[]),d.push(u),l[u.stackId]=d,l},i);return Object.fromEntries(Object.entries(o).map(l=>{var[u,d]=l,f=r?[...d].reverse():d,h=f.map(Fx);return[u,{stackedData:uY(e,h,n),graphicalItems:f}]}))},vb=q([DQ,ND,fc,bD],OD),MD=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=t;if(r==null&&n!=="zAxis"){var l=pY(e,i,o);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},UQ=q([yt],e=>e.allowDataOverflow),tw=e=>{var t;if(e==null||!("domain"in e))return mb;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=Oi(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:mb},nw=q([yt],tw),rw=q([nw,UQ],rD),LQ=q([vb,zi,at,rw],MD,{memoizeOptions:{resultEqualityCheck:wp}}),Ep=e=>e.errorBars,jQ=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>RD(n,r)),vh=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),l=Math.min(...o),u=Math.max(...o);return[l,u]}},iw=(e,t,n,r,i)=>{var o,l;if(n.length>0&&e.forEach(u=>{n.forEach(d=>{var f,h,m=(f=r[d.id])===null||f===void 0?void 0:f.filter(C=>RD(i,C)),g=kt(u,(h=t.dataKey)!==null&&h!==void 0?h:d.dataKey),x=IQ(u,g,m);if(x.length>=2){var S=Math.min(...x),E=Math.max(...x);(o==null||S<o)&&(o=S),(l==null||E>l)&&(l=E)}var T=pP(g);T!=null&&(o=o==null?T[0]:Math.min(o,T[0]),l=l==null?T[1]:Math.max(l,T[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(u=>{var d=pP(kt(u,t.dataKey));d!=null&&(o=o==null?d[0]:Math.min(o,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),gt(o)&&gt(l))return[o,l]},BQ=q([Qx,yt,OQ,Ep,at],iw,{memoizeOptions:{resultEqualityCheck:wp}});function zQ(e){var{value:t}=e;if(Wr(t)||t instanceof Date)return t}var $Q=(e,t,n)=>{var r=e.map(zQ).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&ZM(r))?w2(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},ID=e=>e.referenceElements.dots,sl=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),qQ=q([ID,at,pc],sl),DD=e=>e.referenceElements.areas,HQ=q([DD,at,pc],sl),UD=e=>e.referenceElements.lines,GQ=q([UD,at,pc],sl),LD=(e,t)=>{if(e!=null){var n=Oi(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},VQ=q(qQ,at,LD),jD=(e,t)=>{if(e!=null){var n=Oi(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},FQ=q([HQ,at],jD);function KQ(e){var t;if(e.x!=null)return Oi([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Oi(n)}function YQ(e){var t;if(e.y!=null)return Oi([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Oi(n)}var BD=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?KQ(r):YQ(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},WQ=q([GQ,at],BD),JQ=q(VQ,WQ,FQ,(e,t,n)=>vh(e,n,t)),aw=(e,t,n,r,i,o,l,u)=>{if(n!=null)return n;var d=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",f=d?vh(r,o,i):vh(o,i);return aQ(t,f,e.allowDataOverflow)},XQ=q([yt,nw,rw,LQ,BQ,JQ,Be,at],aw,{memoizeOptions:{resultEqualityCheck:wp}}),ZQ=[0,1],ow=(e,t,n,r,i,o,l)=>{if(!((e==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:d}=e,f=Aa(t,o);if(f&&u==null){var h;return w2(0,(h=n==null?void 0:n.length)!==null&&h!==void 0?h:0)}return d==="category"?$Q(r,e,f):i==="expand"?ZQ:l}},sw=q([yt,Be,Qx,Sp,fc,at,XQ],ow),zD=(e,t,n,r,i)=>{if(e!=null){var{scale:o,type:l}=e;if(o==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof o=="string"){var u="scale".concat(Qu(o));return u in _u?u:"point"}}},Na=q([yt,Be,kD,qx,at],zD);function QQ(e){if(e!=null){if(e in _u)return _u[e]();var t="scale".concat(Qu(e));if(t in _u)return _u[t]()}}function Tp(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=QQ(t);if(i!=null){var o=i.domain(n).range(r);return iY(o),o}}}var lw=(e,t,n)=>{var r=tw(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ea(e))return pQ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ea(e))return mQ(e,t.tickCount,t.allowDecimals)}},uw=q([sw,ol,Na],lw),cw=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Ea(t)&&Array.isArray(n)&&n.length>0){var i=t[0],o=n[0],l=t[1],u=n[n.length-1];return[Math.min(i,o),Math.max(l,u)]}return t},eee=q([yt,sw,uw,at],cw),tee=q(Sp,yt,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Oi(e.map(m=>m.value))).sort((m,g)=>m-g),i=r[0],o=r[r.length-1];if(i==null||o==null)return 1/0;var l=o-i;if(l===0)return 1/0;for(var u=0;u<r.length-1;u++){var d=r[u],f=r[u+1];if(!(d==null||f==null)){var h=f-d;n=Math.min(n,h)}}return n/l}}),$D=q(tee,Be,yD,Qt,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!gt(e))return 0;var o=t==="vertical"?r.height:r.width;if(i==="gap")return e*o/2;if(i==="no-gap"){var l=Ur(n,e*o),u=e*o/2;return u-l-(u-l)/o*l}return 0}),nee=(e,t,n)=>{var r=$i(e,t);return r==null||typeof r.padding!="string"?0:$D(e,"xAxis",t,n,r.padding)},ree=(e,t,n)=>{var r=qi(e,t);return r==null||typeof r.padding!="string"?0:$D(e,"yAxis",t,n,r.padding)},iee=q($i,nee,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),aee=q(qi,ree,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),oee=q([Qt,iee,np,tp,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),see=q([Qt,Be,aee,np,tp,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:l}=i;return o?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),gc=(e,t,n,r)=>{var i;switch(t){case"xAxis":return oee(e,n,r);case"yAxis":return see(e,n,r);case"zAxis":return(i=Kx(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return SD(e);case"radiusAxis":return ED(e,n);default:return}},qD=q([yt,gc],yp),Ap=q([yt,Na,eee,qD],Tp);q([mc,Ep,at],jQ);function HD(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Cp=(e,t)=>t,kp=(e,t,n)=>n,lee=q(Qh,Cp,kp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(HD)),uee=q(ep,Cp,kp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(HD)),GD=(e,t)=>({width:e.width,height:t.height}),cee=(e,t)=>{var n=typeof t.width=="number"?t.width:ac;return{width:n,height:e.height}},VD=q(Qt,$i,GD),dee=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},fee=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},hee=q(ji,Qt,lee,Cp,kp,(e,t,n,r,i)=>{var o={},l;return n.forEach(u=>{var d=GD(t,u);l==null&&(l=dee(t,r,e));var f=r==="top"&&!i||r==="bottom"&&i;o[u.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),o}),pee=q(Li,Qt,uee,Cp,kp,(e,t,n,r,i)=>{var o={},l;return n.forEach(u=>{var d=cee(t,u);l==null&&(l=fee(t,r,e));var f=r==="left"&&!i||r==="right"&&i;o[u.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),o}),mee=(e,t)=>{var n=$i(e,t);if(n!=null)return hee(e,n.orientation,n.mirror)},vee=q([Qt,$i,mee,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),gee=(e,t)=>{var n=qi(e,t);if(n!=null)return pee(e,n.orientation,n.mirror)},yee=q([Qt,qi,gee,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),FD=q(Qt,qi,(e,t)=>{var n=typeof t.width=="number"?t.width:ac;return{width:n,height:e.height}}),mP=(e,t,n)=>{switch(t){case"xAxis":return VD(e,n).width;case"yAxis":return FD(e,n).height;default:return}},KD=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:l}=n,u=Aa(e,r),d=t.map(f=>f.value);if(l&&u&&o==="category"&&i&&ZM(d))return d}},yc=q([Be,Sp,yt,at],KD),dw=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,l=Aa(e,r);if(l&&(i==="number"||o!=="auto"))return t.map(u=>u.value)}},fw=q([Be,Sp,ol,at],dw),vP=q([Be,PQ,Na,Ap,yc,fw,gc,uw,at],(e,t,n,r,i,o,l,u,d)=>{if(t!=null){var f=Aa(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:o,duplicateDomain:i,isCategorical:f,niceTicks:u,range:l,realScaleType:n,scale:r}}}),YD=(e,t,n,r,i,o,l,u,d)=>{if(!(t==null||r==null)){var f=Aa(e,d),{type:h,ticks:m,tickCount:g}=t,x=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=h==="category"&&r.bandwidth?r.bandwidth()/x:0;S=d==="angleAxis"&&o!=null&&o.length>=2?In(o[0]-o[1])*2*S:S;var E=m||i;if(E){var T=E.map((C,P)=>{var N=l?l.indexOf(C):C;return{index:P,coordinate:r(N)+S,value:C,offset:S}});return T.filter(C=>gt(C.coordinate))}return f&&u?u.map((C,P)=>({coordinate:r(C)+S,value:C,index:P,offset:S})).filter(C=>gt(C.coordinate)):r.ticks?r.ticks(g).map(C=>({coordinate:r(C)+S,value:C,offset:S})):r.domain().map((C,P)=>({coordinate:r(C)+S,value:l?l[C]:C,index:P,offset:S}))}},WD=q([Be,ol,Na,Ap,uw,gc,yc,fw,at],YD),JD=(e,t,n,r,i,o,l)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=Aa(e,l),{tickCount:d}=t,f=0;return f=l==="angleAxis"&&(r==null?void 0:r.length)>=2?In(r[0]-r[1])*2*f:f,u&&o?o.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.ticks?n.ticks(d).map(h=>({coordinate:n(h)+f,value:h,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:i?i[h]:h,index:m,offset:f}))}},Ks=q([Be,ol,Ap,gc,yc,fw,at],JD),Ys=q(yt,Ap,(e,t)=>{if(!(e==null||t==null))return mh(mh({},e),{},{scale:t})}),bee=q([yt,Na,sw,qD],Tp);q((e,t,n)=>Kx(e,n),bee,(e,t)=>{if(!(e==null||t==null))return mh(mh({},e),{},{scale:t})});var xee=q([Be,Qh,ep],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),XD=e=>e.options.defaultTooltipEventType,ZD=e=>e.options.validateTooltipEventTypes;function QD(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function hw(e,t){var n=XD(e),r=ZD(e);return QD(t,n,r)}function wee(e){return fe(t=>hw(t,e))}var eU=(e,t)=>{var n,r=Number(t);if(!(Dr(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},_ee=e=>e.tooltip.settings,ba={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},See={itemInteraction:{click:ba,hover:ba},axisInteraction:{click:ba,hover:ba},keyboardInteraction:ba,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},tU=Ln({name:"tooltip",initialState:See,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:ht()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ir(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:ht()},removeTooltipEntrySettings:{reducer(e,t){var n=Ir(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:ht()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:Eee,replaceTooltipEntrySettings:Tee,removeTooltipEntrySettings:Aee,setTooltipSettingsState:Cee,setActiveMouseOverItemIndex:nU,mouseLeaveItem:kee,mouseLeaveChart:rU,setActiveClickItemIndex:Nee,setMouseOverAxisIndex:iU,setMouseClickAxisIndex:Pee,setSyncInteraction:gb,setKeyboardInteraction:yb}=tU.actions,Ree=tU.reducer;function gP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(n),!0).forEach(function(r){Oee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Oee(e,t,n){return(t=Mee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mee(e){var t=Iee(e,"string");return typeof t=="symbol"?t:t+""}function Iee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dee(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Uee(e){return e.index!=null}var aU=(e,t,n,r)=>{if(t==null)return ba;var i=Dee(e,t,n);if(i==null)return ba;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(Uee(i)){if(o)return cf(cf({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return cf(cf({},ba),{},{coordinate:i.coordinate})};function Lee(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function jee(e,t){var n=Lee(e),r=t[0],i=t[1];if(n===void 0)return!1;var o=Math.min(r,i),l=Math.max(r,i);return n>=o&&n<=l}function Bee(e,t,n){if(n==null||t==null)return!0;var r=kt(e,t);return r==null||!Ea(n)?!0:jee(r,n)}var pw=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var o=Number(i);if(!gt(o))return i;var l=0,u=1/0;t.length>0&&(u=t.length-1);var d=Math.max(l,Math.min(o,u)),f=t[d];return f==null||Bee(f,n,r)?String(d):null},oU=(e,t,n,r,i,o,l,u)=>{if(!(o==null||u==null)){var d=l[0],f=d==null?void 0:u(d.positions,o);if(f!=null)return f;var h=i==null?void 0:i[Number(o)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},sU=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var o=e.tooltipItemPayloads[0];return o!=null?[o]:[]}return e.tooltipItemPayloads.filter(l=>{var u;return((u=l.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},bc=e=>e.options.tooltipPayloadSearcher,ll=e=>e.tooltip;function yP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yP(Object(n),!0).forEach(function(r){zee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zee(e,t,n){return(t=$ee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ee(e){var t=qee(e,"string");return typeof t=="symbol"?t:t+""}function qee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hee(e,t){return e??t}var lU=(e,t,n,r,i,o,l)=>{if(!(t==null||o==null)){var{chartData:u,computedData:d,dataStartIndex:f,dataEndIndex:h}=n,m=[];return e.reduce((g,x)=>{var S,{dataDefinedOnItem:E,settings:T}=x,C=Hee(E,u),P=Array.isArray(C)?HI(C,f,h):C,N=(S=T==null?void 0:T.dataKey)!==null&&S!==void 0?S:r,R=T==null?void 0:T.nameKey,M;if(r&&Array.isArray(P)&&!Array.isArray(P[0])&&l==="axis"?M=G9(P,r,i):M=o(P,t,d,R),Array.isArray(M))M.forEach(D=>{var F=bP(bP({},T),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});g.push(Ek({tooltipEntrySettings:F,dataKey:D.dataKey,payload:D.payload,value:kt(D.payload,D.dataKey),name:D.name}))});else{var I;g.push(Ek({tooltipEntrySettings:T,dataKey:N,payload:M,value:kt(M,N),name:(I=kt(M,R))!==null&&I!==void 0?I:T==null?void 0:T.name}))}return g},m)}},mw=q([Vt,Be,kD,qx,Gt],zD),Gee=q([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Vee=q([Gt,al],Yx),ul=q([Gee,Vt,Vee],Jx,{memoizeOptions:{resultEqualityCheck:_p}}),Fee=q([ul],e=>e.filter(xp)),Kee=q([ul],Xx,{memoizeOptions:{resultEqualityCheck:_p}}),cl=q([Kee,zi],Zx),Yee=q([Fee,zi,Vt],TD),vw=q([cl,Vt,ul],ew),uU=q([Vt],tw),Wee=q([Vt],e=>e.allowDataOverflow),cU=q([uU,Wee],rD),Jee=q([ul],e=>e.filter(xp)),Xee=q([Yee,Jee,fc,bD],OD),Zee=q([Xee,zi,Gt,cU],MD),Qee=q([ul],PD),ete=q([cl,Vt,Qee,Ep,Gt],iw,{memoizeOptions:{resultEqualityCheck:wp}}),tte=q([ID,Gt,al],sl),nte=q([tte,Gt],LD),rte=q([DD,Gt,al],sl),ite=q([rte,Gt],jD),ate=q([UD,Gt,al],sl),ote=q([ate,Gt],BD),ste=q([nte,ote,ite],vh),lte=q([Vt,uU,cU,Zee,ete,ste,Be,Gt],aw),xc=q([Vt,Be,cl,vw,fc,Gt,lte],ow),ute=q([xc,Vt,mw],lw),cte=q([Vt,xc,ute,Gt],cw),dU=e=>{var t=Gt(e),n=al(e),r=!1;return gc(e,t,n,r)},fU=q([Vt,dU],yp),hU=q([Vt,mw,cte,fU],Tp),dte=q([Be,vw,Vt,Gt],KD),fte=q([Be,vw,Vt,Gt],dw),hte=(e,t,n,r,i,o,l,u)=>{if(t){var{type:d}=t,f=Aa(e,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=d==="category"&&r.bandwidth?r.bandwidth()/h:0;return m=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?In(i[0]-i[1])*2*m:m,f&&l?l.map((g,x)=>({coordinate:r(g)+m,value:g,index:x,offset:m})):r.domain().map((g,x)=>({coordinate:r(g)+m,value:o?o[g]:g,index:x,offset:m}))}}},Hi=q([Be,Vt,mw,hU,dU,dte,fte,Gt],hte),gw=q([XD,ZD,_ee],(e,t,n)=>QD(n.shared,e,t)),pU=e=>e.tooltip.settings.trigger,yw=e=>e.tooltip.settings.defaultIndex,wc=q([ll,gw,pU,yw],aU),go=q([wc,cl,vc,xc],pw),mU=q([Hi,go],eU),vU=q([wc],e=>{if(e)return e.dataKey});q([wc],e=>{if(e)return e.graphicalItemId});var gU=q([ll,gw,pU,yw],sU),pte=q([Li,ji,Be,Qt,Hi,yw,gU,bc],oU),mte=q([wc,pte],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),vte=q([wc],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),gte=q([gU,go,zi,vc,mU,bc,gw],lU),yte=q([gte],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function xP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xP(Object(n),!0).forEach(function(r){bte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bte(e,t,n){return(t=xte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xte(e){var t=wte(e,"string");return typeof t=="symbol"?t:t+""}function wte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _te=()=>fe(Vt),Ste=()=>{var e=_te(),t=fe(Hi),n=fe(hU);return qs(!e||!n?void 0:wP(wP({},e),{},{scale:n}),t)};function _P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_P(Object(n),!0).forEach(function(r){Ete(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_P(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ete(e,t,n){return(t=Tte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tte(e){var t=Ate(e,"string");return typeof t=="symbol"?t:t+""}function Ate(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cte=(e,t,n,r)=>{var i=t.find(o=>o&&o.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},kte=(e,t,n,r)=>{var i=t.find(f=>f&&f.index===n);if(i){if(e==="centric"){var o=i.coordinate,{radius:l}=r;return gs(gs(gs({},r),nt(r.cx,r.cy,l,o)),{},{angle:o,radius:l})}var u=i.coordinate,{angle:d}=r;return gs(gs(gs({},r),nt(r.cx,r.cy,u,d)),{},{angle:d,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Nte(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var yU=(e,t,n,r,i)=>{var o,l=(o=t==null?void 0:t.length)!==null&&o!==void 0?o:0;if(l<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var d,f,h,m,g,x=u>0?(d=n[u-1])===null||d===void 0?void 0:d.coordinate:(f=n[l-1])===null||f===void 0?void 0:f.coordinate,S=(h=n[u])===null||h===void 0?void 0:h.coordinate,E=u>=l-1?(m=n[0])===null||m===void 0?void 0:m.coordinate:(g=n[u+1])===null||g===void 0?void 0:g.coordinate,T=void 0;if(!(x==null||S==null||E==null))if(In(S-x)!==In(E-S)){var C=[];if(In(E-S)===In(i[1]-i[0])){T=E;var P=S+i[1]-i[0];C[0]=Math.min(P,(P+x)/2),C[1]=Math.max(P,(P+x)/2)}else{T=x;var N=E+i[1]-i[0];C[0]=Math.min(S,(N+S)/2),C[1]=Math.max(S,(N+S)/2)}var R=[Math.min(S,(T+S)/2),Math.max(S,(T+S)/2)];if(e>R[0]&&e<=R[1]||e>=C[0]&&e<=C[1]){var M;return(M=n[u])===null||M===void 0?void 0:M.index}}else{var I=Math.min(x,E),D=Math.max(x,E);if(e>(I+S)/2&&e<=(D+S)/2){var F;return(F=n[u])===null||F===void 0?void 0:F.index}}}else if(t)for(var $=0;$<l;$++){var Q=t[$];if(Q!=null){var W=t[$+1],ne=t[$-1];if($===0&&W!=null&&e<=(Q.coordinate+W.coordinate)/2||$===l-1&&ne!=null&&e>(Q.coordinate+ne.coordinate)/2||$>0&&$<l-1&&ne!=null&&W!=null&&e>(Q.coordinate+ne.coordinate)/2&&e<=(Q.coordinate+W.coordinate)/2)return Q.index}}return-1},Pte=()=>fe(qx),bw=(e,t)=>t,bU=(e,t,n)=>n,xw=(e,t,n,r)=>r,Rte=q(Hi,e=>Hh(e,t=>t.coordinate)),ww=q([ll,bw,bU,xw],aU),_w=q([ww,cl,vc,xc],pw),Ote=(e,t,n)=>{if(t!=null){var r=ll(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},xU=q([ll,bw,bU,xw],sU),gh=q([Li,ji,Be,Qt,Hi,xw,xU,bc],oU),Mte=q([ww,gh],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),wU=q([Hi,_w],eU),Ite=q([xU,_w,zi,vc,wU,bc,bw],lU),Dte=q([ww,_w],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Ute=(e,t,n,r,i,o,l)=>{if(!(!e||!n||!r||!i)&&Nte(e,l)){var u=mY(e,t),d=yU(u,o,i,n,r),f=Cte(t,i,d,e);return{activeIndex:String(d),activeCoordinate:f}}},Lte=(e,t,n,r,i,o,l)=>{if(!(!e||!r||!i||!o||!n)){var u=xJ(e,n);if(u){var d=vY(u,t),f=yU(d,l,o,r,i),h=kte(t,o,f,u);return{activeIndex:String(f),activeCoordinate:h}}}},jte=(e,t,n,r,i,o,l,u)=>{if(!(!e||!t||!r||!i||!o))return t==="horizontal"||t==="vertical"?Ute(e,t,r,i,o,l,u):Lte(e,t,n,r,i,o,l)},Bte=q(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),zte=q(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Ct)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:TQ}});function SP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SP(Object(n),!0).forEach(function(r){$te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $te(e,t,n){return(t=qte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qte(e){var t=Hte(e,"string");return typeof t=="symbol"?t:t+""}function Hte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gte={},Vte={zIndexMap:Object.values(Ct).reduce((e,t)=>EP(EP({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),Gte)},Fte=new Set(Object.values(Ct));function Kte(e){return Fte.has(e)}var _U=Ln({name:"zIndex",initialState:Vte,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:ht()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!Kte(n)&&delete e.zIndexMap[n])},prepare:ht()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:ht()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:ht()}}}),{registerZIndexPortal:Yte,unregisterZIndexPortal:Wte,registerZIndexPortalElement:Jte,unregisterZIndexPortalElement:Xte}=_U.actions,Zte=_U.reducer;function Tn(e){var{zIndex:t,children:n}=e,r=YY(),i=r&&t!==void 0&&t!==0,o=yn(),l=lt();A.useLayoutEffect(()=>i?(l(Yte({zIndex:t})),()=>{l(Wte({zIndex:t}))}):ec,[l,t,i]);var u=fe(d=>Bte(d,t,o));return i?u?IM.createPortal(n,u):null:n}function bb(){return bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bb.apply(null,arguments)}function TP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function df(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(n),!0).forEach(function(r){Qte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qte(e,t,n){return(t=ene(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ene(e){var t=tne(e,"string");return typeof t=="symbol"?t:t+""}function tne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nne(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return A.isValidElement(t)?A.cloneElement(t,r):A.createElement(n,r)}function rne(e){var t,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:l,layout:u,cursor:d,tooltipEventType:f,chartName:h}=e,m=n,g=r,x=i;if(!d||!m||h!=="ScatterChart"&&f!=="axis")return null;var S,E,T;if(h==="ScatterChart")S=m,E=MW,T=Ct.cursorLine;else if(h==="BarChart")S=IW(u,m,o,l),E=v2,T=Ct.cursorRectangle;else if(u==="radial"&&tI(m)){var{cx:C,cy:P,radius:N,startAngle:R,endAngle:M}=y2(m);S={cx:C,cy:P,startAngle:R,endAngle:M,innerRadius:N,outerRadius:N},E=x2,T=Ct.cursorLine}else S={points:EJ(u,m,o)},E=d2,T=Ct.cursorLine;var I=typeof d=="object"&&"className"in d?d.className:void 0,D=df(df(df(df({stroke:"#ccc",pointerEvents:"none"},o),S),Qs(d)),{},{payload:g,payloadIndex:x,className:$e("recharts-tooltip-cursor",I)});return A.createElement(Tn,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:T},A.createElement(nne,{cursor:d,cursorComp:E,cursorProps:D}))}function ine(e){var t=Ste(),n=XI(),r=oc(),i=Pte();return t==null||n==null||r==null||i==null?null:A.createElement(rne,bb({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var SU=A.createContext(null),ane=()=>A.useContext(SU),ky={exports:{}},AP;function one(){return AP||(AP=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,h){this.fn=d,this.context=f,this.once=h||!1}function o(d,f,h,m,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var x=new i(h,m||d,g),S=n?n+f:f;return d._events[S]?d._events[S].fn?d._events[S]=[d._events[S],x]:d._events[S].push(x):(d._events[S]=x,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,m;if(this._eventsCount===0)return f;for(m in h=this._events)t.call(h,m)&&f.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=n?n+f:f,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,x=m.length,S=new Array(x);g<x;g++)S[g]=m[g].fn;return S},u.prototype.listenerCount=function(f){var h=n?n+f:f,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(f,h,m,g,x,S){var E=n?n+f:f;if(!this._events[E])return!1;var T=this._events[E],C=arguments.length,P,N;if(T.fn){switch(T.once&&this.removeListener(f,T.fn,void 0,!0),C){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,h),!0;case 3:return T.fn.call(T.context,h,m),!0;case 4:return T.fn.call(T.context,h,m,g),!0;case 5:return T.fn.call(T.context,h,m,g,x),!0;case 6:return T.fn.call(T.context,h,m,g,x,S),!0}for(N=1,P=new Array(C-1);N<C;N++)P[N-1]=arguments[N];T.fn.apply(T.context,P)}else{var R=T.length,M;for(N=0;N<R;N++)switch(T[N].once&&this.removeListener(f,T[N].fn,void 0,!0),C){case 1:T[N].fn.call(T[N].context);break;case 2:T[N].fn.call(T[N].context,h);break;case 3:T[N].fn.call(T[N].context,h,m);break;case 4:T[N].fn.call(T[N].context,h,m,g);break;default:if(!P)for(M=1,P=new Array(C-1);M<C;M++)P[M-1]=arguments[M];T[N].fn.apply(T[N].context,P)}}return!0},u.prototype.on=function(f,h,m){return o(this,f,h,m,!1)},u.prototype.once=function(f,h,m){return o(this,f,h,m,!0)},u.prototype.removeListener=function(f,h,m,g){var x=n?n+f:f;if(!this._events[x])return this;if(!h)return l(this,x),this;var S=this._events[x];if(S.fn)S.fn===h&&(!g||S.once)&&(!m||S.context===m)&&l(this,x);else{for(var E=0,T=[],C=S.length;E<C;E++)(S[E].fn!==h||g&&!S[E].once||m&&S[E].context!==m)&&T.push(S[E]);T.length?this._events[x]=T.length===1?T[0]:T:l(this,x)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&l(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(ky)),ky.exports}var sne=one();const lne=br(sne);var Ku=new lne,xb="recharts.syncEvent.tooltip",CP="recharts.syncEvent.brush";function EU(e,t){if(t){var n=Number.parseInt(t,10);if(!Dr(n))return e==null?void 0:e[n]}}var une={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},TU=Ln({name:"options",initialState:une,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),cne=TU.reducer,{createEventEmitter:dne}=TU.actions;function fne(e){return e.tooltip.syncInteraction}var hne={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},AU=Ln({name:"chartData",initialState:hne,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:kP,setDataStartEndIndexes:pne,setComputedData:Gce}=AU.actions,mne=AU.reducer,vne=["x","y"];function NP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ys(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NP(Object(n),!0).forEach(function(r){gne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gne(e,t,n){return(t=yne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yne(e){var t=bne(e,"string");return typeof t=="symbol"?t:t+""}function bne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xne(e,t){if(e==null)return{};var n,r,i=wne(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function _ne(){var e=fe(Hx),t=fe(Gx),n=lt(),r=fe(xD),i=fe(Hi),o=oc(),l=rp(),u=fe(d=>d.rootProps.className);A.useEffect(()=>{if(e==null)return ec;var d=(f,h,m)=>{if(t!==m&&e===f){if(r==="index"){var g;if(l&&h!==null&&h!==void 0&&(g=h.payload)!==null&&g!==void 0&&g.coordinate&&h.payload.sourceViewBox){var x=h.payload.coordinate,{x:S,y:E}=x,T=xne(x,vne),{x:C,y:P,width:N,height:R}=h.payload.sourceViewBox,M=ys(ys({},T),{},{x:l.x+(N?(S-C)/N:0)*l.width,y:l.y+(R?(E-P)/R:0)*l.height});n(ys(ys({},h),{},{payload:ys(ys({},h.payload),{},{coordinate:M})}))}else n(h);return}if(i!=null){var I;if(typeof r=="function"){var D={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},F=r(i,D);I=i[F]}else r==="value"&&(I=i.find(j=>String(j.value)===h.payload.label));var{coordinate:$}=h.payload;if(I==null||h.payload.active===!1||$==null||l==null){n(gb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:Q,y:W}=$,ne=Math.min(Q,l.x+l.width),se=Math.min(W,l.y+l.height),de={x:o==="horizontal"?I.coordinate:ne,y:o==="horizontal"?se:I.coordinate},Te=gb({active:h.payload.active,coordinate:de,dataKey:h.payload.dataKey,index:String(I.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(Te)}}};return Ku.on(xb,d),()=>{Ku.off(xb,d)}},[u,n,t,e,r,i,o,l])}function Sne(){var e=fe(Hx),t=fe(Gx),n=lt();A.useEffect(()=>{if(e==null)return ec;var r=(i,o,l)=>{t!==l&&e===i&&n(pne(o))};return Ku.on(CP,r),()=>{Ku.off(CP,r)}},[n,t,e])}function Ene(){var e=lt();A.useEffect(()=>{e(dne())},[e]),_ne(),Sne()}function Tne(e,t,n,r,i,o){var l=fe(x=>Ote(x,e,t)),u=fe(Gx),d=fe(Hx),f=fe(xD),h=fe(fne),m=h==null?void 0:h.active,g=rp();A.useEffect(()=>{if(!m&&d!=null&&u!=null){var x=gb({active:o,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:g,graphicalItemId:void 0});Ku.emit(xb,d,x,u)}},[m,n,l,i,r,u,d,f,o,g])}function PP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PP(Object(n),!0).forEach(function(r){Ane(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ane(e,t,n){return(t=Cne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cne(e){var t=kne(e,"string");return typeof t=="symbol"?t:t+""}function kne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nne(e){return e.dataKey}function Pne(e,t){return A.isValidElement(e)?A.cloneElement(e,t):typeof e=="function"?A.createElement(e,t):A.createElement(fW,t)}var OP=[],Rne={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function One(e){var t,n,r=Zt(e,Rne),{active:i,allowEscapeViewBox:o,animationDuration:l,animationEasing:u,content:d,filterNull:f,isAnimationActive:h,offset:m,payloadUniqBy:g,position:x,reverseDirection:S,useTranslate3d:E,wrapperStyle:T,cursor:C,shared:P,trigger:N,defaultIndex:R,portal:M,axisId:I}=r,D=lt(),F=typeof R=="number"?String(R):R;A.useEffect(()=>{D(Cee({shared:P,trigger:N,axisId:I,active:i,defaultIndex:F}))},[D,P,N,I,i,F]);var $=rp(),Q=c2(),W=wee(P),{activeIndex:ne,isActive:se}=(t=fe(xe=>Dte(xe,W,N,F)))!==null&&t!==void 0?t:{},de=fe(xe=>Ite(xe,W,N,F)),Te=fe(xe=>wU(xe,W,N,F)),j=fe(xe=>Mte(xe,W,N,F)),Y=de,oe=ane(),ue=(n=i??se)!==null&&n!==void 0?n:!1,[ce,L]=Q7([Y,ue]),J=W==="axis"?Te:void 0;Tne(W,N,j,J,ne,ue);var ie=M??oe;if(ie==null||$==null||W==null)return null;var ae=Y??OP;ue||(ae=OP),f&&ae.length&&(ae=T7(ae.filter(xe=>xe.value!=null&&(xe.hide!==!0||r.includeHidden)),g,Nne));var be=ae.length>0,Ae=A.createElement(bW,{allowEscapeViewBox:o,animationDuration:l,animationEasing:u,isAnimationActive:h,active:ue,coordinate:j,hasPayload:be,offset:m,position:x,reverseDirection:S,useTranslate3d:E,viewBox:$,wrapperStyle:T,lastBoundingBox:ce,innerRef:L,hasPortalFromProps:!!M},Pne(d,RP(RP({},r),{},{payload:ae,label:J,active:ue,activeIndex:ne,coordinate:j,accessibilityLayer:Q})));return A.createElement(A.Fragment,null,IM.createPortal(Ae,ie),ue&&A.createElement(ine,{cursor:C,tooltipEventType:W,coordinate:j,payload:ae,index:ne}))}var CU=e=>null;CU.displayName="Cell";function Mne(e,t,n){return(t=Ine(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ine(e){var t=Dne(e,"string");return typeof t=="symbol"?t:t+""}function Dne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Une{constructor(t){Mne(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function MP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(n),!0).forEach(function(r){jne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jne(e,t,n){return(t=Bne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bne(e){var t=zne(e,"string");return typeof t=="symbol"?t:t+""}function zne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $ne={cacheSize:2e3,enableCache:!0},kU=Lne({},$ne),IP=new Une(kU.cacheSize),qne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},DP="recharts_measurement_span";function Hne(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(l,"|").concat(u)}var UP=(e,t)=>{try{var n=document.getElementById(DP);n||(n=document.createElement("span"),n.setAttribute("id",DP),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,qne,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Tu=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||lp.isSsr)return{width:0,height:0};if(!kU.enableCache)return UP(t,n);var r=Hne(t,n),i=IP.get(r);if(i)return i;var o=UP(t,n);return IP.set(r,o),o},NU;function Gne(e,t,n){return(t=Vne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vne(e){var t=Fne(e,"string");return typeof t=="symbol"?t:t+""}function Fne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Kne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Yne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Wne={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Jne=["cm","mm","pt","pc","in","Q","px"];function Xne(e){return Jne.includes(e)}var Rs="NaN";function Zne(e,t){return e*Wne[t]}class hn{static parse(t){var n,[,r,i]=(n=Yne.exec(t))!==null&&n!==void 0?n:[];return r==null?hn.NaN:new hn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Dr(t)&&(this.unit=""),n!==""&&!Kne.test(n)&&(this.num=NaN,this.unit=""),Xne(n)&&(this.num=Zne(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new hn(NaN,""):new hn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new hn(NaN,""):new hn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new hn(NaN,""):new hn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new hn(NaN,""):new hn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Dr(this.num)}}NU=hn;Gne(hn,"NaN",new NU(NaN,""));function PU(e){if(e==null||e.includes(Rs))return Rs;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=(n=LP.exec(t))!==null&&n!==void 0?n:[],l=hn.parse(r??""),u=hn.parse(o??""),d=i==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return Rs;t=t.replace(LP,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,h,m,g]=(f=jP.exec(t))!==null&&f!==void 0?f:[],x=hn.parse(h??""),S=hn.parse(g??""),E=m==="+"?x.add(S):x.subtract(S);if(E.isNaN())return Rs;t=t.replace(jP,E.toString())}return t}var BP=/\(([^()]*)\)/;function Qne(e){for(var t=e,n;(n=BP.exec(t))!=null;){var[,r]=n;t=t.replace(BP,PU(r))}return t}function ere(e){var t=e.replace(/\s+/g,"");return t=Qne(t),t=PU(t),t}function tre(e){try{return ere(e)}catch{return Rs}}function Ny(e){var t=tre(e.slice(5,-1));return t===Rs?"":t}var nre=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],rre=["dx","dy","angle","className","breakAll"];function wb(){return wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wb.apply(null,arguments)}function zP(e,t){if(e==null)return{};var n,r,i=ire(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ire(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var RU=/[ \f\n\r\t\v\u2028\u2029]+/,OU=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Pt(t)||(n?i=t.toString().split(""):i=t.toString().split(RU));var o=i.map(u=>({word:u,width:Tu(u,r).width})),l=n?0:Tu("",r).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}};function are(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var MU=(e,t,n,r)=>e.reduce((i,o)=>{var{word:l,width:u}=o,d=i[i.length-1];if(d&&u!=null&&(t==null||r||d.width+u+n<Number(t)))d.words.push(l),d.width+=u+n;else{var f={words:[l],width:u};i.push(f)}return i},[]),IU=e=>e.reduce((t,n)=>t.width>n.width?t:n),ore="",$P=(e,t,n,r,i,o,l,u)=>{var d=e.slice(0,t),f=OU({breakAll:n,style:r,children:d+ore});if(!f)return[!1,[]];var h=MU(f.wordsWithComputedWidth,o,l,u),m=h.length>i||IU(h).width>Number(o);return[m,h]},sre=(e,t,n,r,i)=>{var{maxLines:o,children:l,style:u,breakAll:d}=e,f=me(o),h=String(l),m=MU(t,r,n,i);if(!f||i)return m;var g=m.length>o||IU(m).width>Number(r);if(!g)return m;for(var x=0,S=h.length-1,E=0,T;x<=S&&E<=h.length-1;){var C=Math.floor((x+S)/2),P=C-1,[N,R]=$P(h,P,d,u,o,r,n,i),[M]=$P(h,C,d,u,o,r,n,i);if(!N&&!M&&(x=C+1),N&&M&&(S=C-1),!N&&M){T=R;break}E++}return T||m},qP=e=>{var t=Pt(e)?[]:e.toString().split(RU);return[{words:t,width:void 0}]},lre=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:l}=e;if((t||n)&&!lp.isSsr){var u,d,f=OU({breakAll:o,children:r,style:i});if(f){var{wordsWithComputedWidth:h,spaceWidth:m}=f;u=h,d=m}else return qP(r);return sre({breakAll:o,children:r,maxLines:l,style:i},u,d,t,!!n)}return qP(r)},DU="#808080",ure={angle:0,breakAll:!1,capHeight:"0.71em",fill:DU,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},_c=A.forwardRef((e,t)=>{var n=Zt(e,ure),{x:r,y:i,lineHeight:o,capHeight:l,fill:u,scaleToFit:d,textAnchor:f,verticalAnchor:h}=n,m=zP(n,nre),g=A.useMemo(()=>lre({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:d,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,d,m.style,m.width]),{dx:x,dy:S,angle:E,className:T,breakAll:C}=m,P=zP(m,rre);if(!Wr(r)||!Wr(i)||g.length===0)return null;var N=Number(r)+(me(x)?x:0),R=Number(i)+(me(S)?S:0);if(!gt(N)||!gt(R))return null;var M;switch(h){case"start":M=Ny("calc(".concat(l,")"));break;case"middle":M=Ny("calc(".concat((g.length-1)/2," * -").concat(o," + (").concat(l," / 2))"));break;default:M=Ny("calc(".concat(g.length-1," * -").concat(o,")"));break}var I=[];if(d){var D=g[0].width,{width:F}=m;I.push("scale(".concat(me(F)&&me(D)?F/D:1,")"))}return E&&I.push("rotate(".concat(E,", ").concat(N,", ").concat(R,")")),I.length&&(P.transform=I.join(" ")),A.createElement("text",wb({},$t(P),{ref:t,x:N,y:R,className:$e("recharts-text",T),textAnchor:f,fill:u.includes("url")?DU:u}),g.map(($,Q)=>{var W=$.words.join(C?"":" ");return A.createElement("tspan",{x:N,dy:Q===0?M:o,key:"".concat(W,"-").concat(Q)},W)}))});_c.displayName="Text";var cre=["labelRef"],dre=["content"];function HP(e,t){if(e==null)return{};var n,r,i=fre(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function GP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GP(Object(n),!0).forEach(function(r){hre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hre(e,t,n){return(t=pre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pre(e){var t=mre(e,"string");return typeof t=="symbol"?t:t+""}function mre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xi(){return xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xi.apply(null,arguments)}var UU=A.createContext(null),vre=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:l,children:u}=e,d=A.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:l}),[t,n,r,i,o,l]);return A.createElement(UU.Provider,{value:d},u)},LU=()=>{var e=A.useContext(UU),t=rp();return e||JI(t)},jU=A.createContext(null),gre=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:l,clockWise:u,children:d}=e,f=A.useMemo(()=>({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:l,clockWise:u}),[t,n,r,i,o,l,u]);return A.createElement(jU.Provider,{value:f},d)},BU=()=>{var e=A.useContext(jU),t=fe(il);return e||t},yre=e=>{var{value:t,formatter:n}=e,r=Pt(e.children)?t:e.children;return typeof n=="function"?n(r):r},Sw=e=>e!=null&&typeof e=="function",bre=(e,t)=>{var n=In(t-e),r=Math.min(Math.abs(t-e),360);return n*r},xre=(e,t,n,r,i)=>{var{offset:o,className:l}=e,{cx:u,cy:d,innerRadius:f,outerRadius:h,startAngle:m,endAngle:g,clockWise:x}=i,S=(f+h)/2,E=bre(m,g),T=E>=0?1:-1,C,P;switch(t){case"insideStart":C=m+T*o,P=x;break;case"insideEnd":C=g-T*o,P=!x;break;case"end":C=g+T*o,P=x;break;default:throw new Error("Unsupported position ".concat(t))}P=E<=0?P:!P;var N=nt(u,d,S,C),R=nt(u,d,S,C+(P?1:-1)*359),M="M".concat(N.x,",").concat(N.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(P?0:1,`,
    `).concat(R.x,",").concat(R.y),I=Pt(e.id)?Iu("recharts-radial-line-"):e.id;return A.createElement("text",xi({},r,{dominantBaseline:"central",className:$e("recharts-radial-bar-label",l)}),A.createElement("defs",null,A.createElement("path",{id:I,d:M})),A.createElement("textPath",{xlinkHref:"#".concat(I)},n))},wre=(e,t,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:l,startAngle:u,endAngle:d}=e,f=(u+d)/2;if(n==="outside"){var{x:h,y:m}=nt(r,i,l+t,f);return{x:h,y:m,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(o+l)/2,{x,y:S}=nt(r,i,g,f);return{x,y:S,textAnchor:"middle",verticalAnchor:"middle"}},_b=e=>"cx"in e&&me(e.cx),_re=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,o;n!=null&&!_b(n)&&(o=n);var{x:l,y:u,upperWidth:d,lowerWidth:f,height:h}=t,m=l,g=l+(d-f)/2,x=(m+g)/2,S=(d+f)/2,E=m+d/2,T=h>=0?1:-1,C=T*r,P=T>0?"end":"start",N=T>0?"start":"end",R=d>=0?1:-1,M=R*r,I=R>0?"end":"start",D=R>0?"start":"end";if(i==="top"){var F={x:m+d/2,y:u-C,textAnchor:"middle",verticalAnchor:P};return Tt(Tt({},F),o?{height:Math.max(u-o.y,0),width:d}:{})}if(i==="bottom"){var $={x:g+f/2,y:u+h+C,textAnchor:"middle",verticalAnchor:N};return Tt(Tt({},$),o?{height:Math.max(o.y+o.height-(u+h),0),width:f}:{})}if(i==="left"){var Q={x:x-M,y:u+h/2,textAnchor:I,verticalAnchor:"middle"};return Tt(Tt({},Q),o?{width:Math.max(Q.x-o.x,0),height:h}:{})}if(i==="right"){var W={x:x+S+M,y:u+h/2,textAnchor:D,verticalAnchor:"middle"};return Tt(Tt({},W),o?{width:Math.max(o.x+o.width-W.x,0),height:h}:{})}var ne=o?{width:S,height:h}:{};return i==="insideLeft"?Tt({x:x+M,y:u+h/2,textAnchor:D,verticalAnchor:"middle"},ne):i==="insideRight"?Tt({x:x+S-M,y:u+h/2,textAnchor:I,verticalAnchor:"middle"},ne):i==="insideTop"?Tt({x:m+d/2,y:u+C,textAnchor:"middle",verticalAnchor:N},ne):i==="insideBottom"?Tt({x:g+f/2,y:u+h-C,textAnchor:"middle",verticalAnchor:P},ne):i==="insideTopLeft"?Tt({x:m+M,y:u+C,textAnchor:D,verticalAnchor:N},ne):i==="insideTopRight"?Tt({x:m+d-M,y:u+C,textAnchor:I,verticalAnchor:N},ne):i==="insideBottomLeft"?Tt({x:g+M,y:u+h-C,textAnchor:D,verticalAnchor:P},ne):i==="insideBottomRight"?Tt({x:g+f-M,y:u+h-C,textAnchor:I,verticalAnchor:P},ne):i&&typeof i=="object"&&(me(i.x)||Ci(i.x))&&(me(i.y)||Ci(i.y))?Tt({x:l+Ur(i.x,S),y:u+Ur(i.y,h),textAnchor:"end",verticalAnchor:"end"},ne):Tt({x:E,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},ne)},Sre={angle:0,offset:5,zIndex:Ct.label,position:"middle",textBreakAll:!1};function ga(e){var t=Zt(e,Sre),{viewBox:n,position:r,value:i,children:o,content:l,className:u="",textBreakAll:d,labelRef:f}=t,h=BU(),m=LU(),g=r==="center"?m:h??m,x,S,E;if(n==null?x=g:_b(n)?x=n:x=JI(n),!x||Pt(i)&&Pt(o)&&!A.isValidElement(l)&&typeof l!="function")return null;var T=Tt(Tt({},t),{},{viewBox:x});if(A.isValidElement(l)){var{labelRef:C}=T,P=HP(T,cre);return A.cloneElement(l,P)}if(typeof l=="function"){var{content:N}=T,R=HP(T,dre);if(S=A.createElement(l,R),A.isValidElement(S))return S}else S=yre(t);var M=$t(t);if(_b(x)){if(r==="insideStart"||r==="insideEnd"||r==="end")return xre(t,r,S,M,x);E=wre(x,t.offset,t.position)}else E=_re(t,x);return A.createElement(Tn,{zIndex:t.zIndex},A.createElement(_c,xi({ref:f,className:$e("recharts-label",u)},M,E,{textAnchor:are(M.textAnchor)?M.textAnchor:E.textAnchor,breakAll:d}),S))}ga.displayName="Label";var zU=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?A.createElement(ga,xi({key:"label-implicit"},r)):Wr(e)?A.createElement(ga,xi({key:"label-implicit",value:e},r)):A.isValidElement(e)?e.type===ga?A.cloneElement(e,Tt({key:"label-implicit"},r)):A.createElement(ga,xi({key:"label-implicit",content:e},r)):Sw(e)?A.createElement(ga,xi({key:"label-implicit",content:e},r)):e&&typeof e=="object"?A.createElement(ga,xi({},e,{key:"label-implicit"},r)):null};function Ere(e){var{label:t,labelRef:n}=e,r=LU();return zU(t,r,n)||null}function Tre(e){var{label:t}=e,n=BU();return zU(t,n)||null}var Py={},Ry={},VP;function Are(){return VP||(VP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(Ry)),Ry}var Oy={},FP;function Cre(){return FP||(FP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(Oy)),Oy}var KP;function kre(){return KP||(KP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Are(),n=Cre(),r=nx();function i(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=i})(Py)),Py}var My,YP;function Nre(){return YP||(YP=1,My=kre().last),My}var Pre=Nre();const $U=br(Pre);var Rre=["valueAccessor"],Ore=["dataKey","clockWise","id","textBreakAll","zIndex"];function yh(){return yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yh.apply(null,arguments)}function WP(e,t){if(e==null)return{};var n,r,i=Mre(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ire=e=>Array.isArray(e.value)?$U(e.value):e.value,qU=A.createContext(void 0),HU=qU.Provider,GU=A.createContext(void 0);GU.Provider;function Dre(){return A.useContext(qU)}function Ure(){return A.useContext(GU)}function Af(e){var{valueAccessor:t=Ire}=e,n=WP(e,Rre),{dataKey:r,clockWise:i,id:o,textBreakAll:l,zIndex:u}=n,d=WP(n,Ore),f=Dre(),h=Ure(),m=f||h;return!m||!m.length?null:A.createElement(Tn,{zIndex:u??Ct.label},A.createElement(qt,{className:"recharts-label-list"},m.map((g,x)=>{var S,E=Pt(r)?t(g,x):kt(g&&g.payload,r),T=Pt(o)?{}:{id:"".concat(o,"-").concat(x)};return A.createElement(ga,yh({key:"label-".concat(x)},$t(g),d,T,{fill:(S=n.fill)!==null&&S!==void 0?S:g.fill,parentViewBox:g.parentViewBox,value:E,textBreakAll:l,viewBox:g.viewBox,index:x,zIndex:0}))})))}Af.displayName="LabelList";function VU(e){var{label:t}=e;return t?t===!0?A.createElement(Af,{key:"labelList-implicit"}):A.isValidElement(t)||Sw(t)?A.createElement(Af,{key:"labelList-implicit",content:t}):typeof t=="object"?A.createElement(Af,yh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var Lre=["points","className","baseLinePoints","connectNulls"],JP;function Os(){return Os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Os.apply(null,arguments)}function jre(e,t){if(e==null)return{};var n,r,i=Bre(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function zre(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var XP=e=>e&&e.x===+e.x&&e.y===+e.y,$re=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(r=>{XP(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),XP(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Au=(e,t)=>{var n=$re(e);t&&(n=[n.reduce((i,o)=>[...i,...o],[])]);var r=n.map(i=>i.reduce((o,l,u)=>vt(JP||(JP=zre(["","","",",",""])),o,u===0?"M":"L",l.x,l.y),"")).join("");return n.length===1?"".concat(r,"Z"):r},qre=(e,t,n)=>{var r=Au(e,n);return"".concat(r.slice(-1)==="Z"?r.slice(0,-1):r,"L").concat(Au(Array.from(t).reverse(),n).slice(1))},FU=e=>{var{points:t,className:n,baseLinePoints:r,connectNulls:i}=e,o=jre(e,Lre);if(!t||!t.length)return null;var l=$e("recharts-polygon",n);if(r&&r.length){var u=o.stroke&&o.stroke!=="none",d=qre(t,r,i);return A.createElement("g",{className:l},A.createElement("path",Os({},$t(o),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),u?A.createElement("path",Os({},$t(o),{fill:"none",d:Au(t,i)})):null,u?A.createElement("path",Os({},$t(o),{fill:"none",d:Au(r,i)})):null)}var f=Au(t,i);return A.createElement("path",Os({},$t(o),{fill:f.slice(-1)==="Z"?o.fill:"none",className:l,d:f}))};function Sb(){return Sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sb.apply(null,arguments)}var Ew=e=>{var{cx:t,cy:n,r,className:i}=e,o=$e("recharts-dot",i);return me(t)&&me(n)&&me(r)?A.createElement("circle",Sb({},Nt(e),tx(e),{className:o,cx:t,cy:n,r})):null},KU=e=>e.graphicalItems.polarItems,Hre=q([at,pc],Yx),Np=q([KU,yt,Hre],Jx),Gre=q([Np],Xx),Pp=q([Gre,gp],Zx),YU=q([Pp,yt,Np],ew);q([Pp,yt,Np],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var o,l=kt(r,(o=t.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:kt(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var ZP=()=>{},Vre=q([Pp,yt,Np,Ep,at],iw),Fre=q([yt,nw,rw,ZP,Vre,ZP,Be,at],aw),WU=q([yt,Be,Pp,YU,fc,at,Fre],ow),JU=q([WU,yt,Na],lw),Kre=q([yt,WU,JU,at],cw),Tw=(e,t,n)=>{switch(t){case"angleAxis":return rl(e,n);case"radiusAxis":return hc(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Aw=(e,t,n)=>{switch(t){case"angleAxis":return SQ(e,n);case"radiusAxis":return EQ(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},dl=q([Tw,Na,Kre,Aw],Tp),XU=q([Be,YU,ol,at],dw),fl=q([Be,Tw,Na,dl,JU,Aw,yc,XU,at],YD),Yre=q([fl],e=>{if(e){var t=new Map;return e.forEach(n=>{var r=(n.coordinate+360)%360;t.has(r)||t.set(r,n)}),Array.from(t.values())}});q([Be,Tw,dl,Aw,yc,XU,at],JD);var Wre=(e,t)=>fl(e,"angleAxis",t,!1),Jre=q([Wre],e=>{if(e)return e.map(t=>t.coordinate)}),Xre=(e,t)=>fl(e,"radiusAxis",t,!1),Zre=q([Xre],e=>{if(e)return e.map(t=>t.coordinate)}),Qre=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius","polarAngles","polarRadius"];function eie(e,t){if(e==null)return{};var n,r,i=tie(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Pr(){return Pr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pr.apply(null,arguments)}function QP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QP(Object(n),!0).forEach(function(r){nie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nie(e,t,n){return(t=rie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rie(e){var t=iie(e,"string");return typeof t=="symbol"?t:t+""}function iie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aie=(e,t,n,r)=>{var i="";return r.forEach((o,l)=>{var u=nt(t,n,e,o);l?i+="L ".concat(u.x,",").concat(u.y):i+="M ".concat(u.x,",").concat(u.y)}),i+="Z",i},oie=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,polarAngles:o,radialLines:l}=e;if(!o||!o.length||!l)return null;var u=Yu({stroke:"#ccc"},Nt(e));return A.createElement("g",{className:"recharts-polar-grid-angle"},o.map(d=>{var f=nt(t,n,r,d),h=nt(t,n,i,d);return A.createElement("line",Pr({key:"line-".concat(d)},u,{x1:f.x,y1:f.y,x2:h.x,y2:h.y}))}))},eR=e=>{var{cx:t,cy:n,radius:r}=e,i=Yu({stroke:"#ccc",fill:"none"},Nt(e));return A.createElement("circle",Pr({},i,{className:$e("recharts-polar-grid-concentric-circle",e.className),cx:t,cy:n,r}))},tR=e=>{var{radius:t}=e,n=Yu({stroke:"#ccc",fill:"none"},Nt(e));return A.createElement("path",Pr({},n,{className:$e("recharts-polar-grid-concentric-polygon",e.className),d:aie(t,e.cx,e.cy,e.polarAngles)}))},sie=e=>{var{polarRadius:t,gridType:n}=e;if(!t||!t.length)return null;var r=Math.max(...t),i=e.fill&&e.fill!=="none";return A.createElement("g",{className:"recharts-polar-grid-concentric"},i&&n==="circle"&&A.createElement(eR,Pr({},e,{radius:r})),i&&n!=="circle"&&A.createElement(tR,Pr({},e,{radius:r})),t.map((o,l)=>{var u=l;return n==="circle"?A.createElement(eR,Pr({key:u},e,{fill:"none",radius:o})):A.createElement(tR,Pr({key:u},e,{fill:"none",radius:o}))}))},ZU=e=>{var t,n,r,i,o,l,u,d,f,{gridType:h="polygon",radialLines:m=!0,angleAxisId:g=0,radiusAxisId:x=0,cx:S,cy:E,innerRadius:T,outerRadius:C,polarAngles:P,polarRadius:N}=e,R=eie(e,Qre),M=fe(il),I=fe(ne=>Jre(ne,g)),D=fe(ne=>Zre(ne,x)),F=Array.isArray(P)?P:I,$=Array.isArray(N)?N:D;if(F==null||$==null)return null;var Q=Yu(Yu({cx:(t=(n=M==null?void 0:M.cx)!==null&&n!==void 0?n:S)!==null&&t!==void 0?t:0,cy:(r=(i=M==null?void 0:M.cy)!==null&&i!==void 0?i:E)!==null&&r!==void 0?r:0,innerRadius:(o=(l=M==null?void 0:M.innerRadius)!==null&&l!==void 0?l:T)!==null&&o!==void 0?o:0,outerRadius:(u=(d=M==null?void 0:M.outerRadius)!==null&&d!==void 0?d:C)!==null&&u!==void 0?u:0,polarAngles:F,polarRadius:$},R),{},{zIndex:(f=R.zIndex)!==null&&f!==void 0?f:Ct.grid}),{outerRadius:W}=Q;return W<=0?null:A.createElement(Tn,{zIndex:Q.zIndex},A.createElement("g",{className:"recharts-polar-grid"},A.createElement(sie,Pr({gridType:h,radialLines:m},Q,{polarAngles:F,polarRadius:$})),A.createElement(oie,Pr({gridType:h,radialLines:m},Q,{polarAngles:F,polarRadius:$}))))};ZU.displayName="PolarGrid";var Iy={},Dy={},nR;function lie(){return nR||(nR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){if(n.length===0)return;let i=n[0],o=r(i);for(let l=1;l<n.length;l++){const u=n[l],d=r(u);d>o&&(o=d,i=u)}return i}e.maxBy=t})(Dy)),Dy}var rR;function uie(){return rR||(rR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lie(),n=qh(),r=rx();function i(o,l){if(o!=null)return t.maxBy(Array.from(o),r.iteratee(l??n.identity))}e.maxBy=i})(Iy)),Iy}var Uy,iR;function cie(){return iR||(iR=1,Uy=uie().maxBy),Uy}var die=cie();const fie=br(die);var Ly={},jy={},aR;function hie(){return aR||(aR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){if(n.length===0)return;let i=n[0],o=r(i);for(let l=1;l<n.length;l++){const u=n[l],d=r(u);d<o&&(o=d,i=u)}return i}e.minBy=t})(jy)),jy}var oR;function pie(){return oR||(oR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hie(),n=qh(),r=rx();function i(o,l){if(o!=null)return t.minBy(Array.from(o),r.iteratee(l??n.identity))}e.minBy=i})(Ly)),Ly}var By,sR;function mie(){return sR||(sR=1,By=pie().minBy),By}var vie=mie();const gie=br(vie);var yie={radiusAxis:{},angleAxis:{}},QU=Ln({name:"polarAxis",initialState:yie,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:bie,removeRadiusAxis:xie,addAngleAxis:wie,removeAngleAxis:_ie}=QU.actions,Sie=QU.reducer,Eie=["cx","cy","angle","axisLine"],Tie=["angle","tickFormatter","stroke","tick"];function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wu.apply(null,arguments)}function lR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Si(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lR(Object(n),!0).forEach(function(r){Aie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Aie(e,t,n){return(t=Cie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cie(e){var t=kie(e,"string");return typeof t=="symbol"?t:t+""}function kie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eL(e,t){if(e==null)return{};var n,r,i=Nie(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Nie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Pie="radiusAxis";function Rie(e){var t=lt();return A.useEffect(()=>(t(bie(e)),()=>{t(xie(e))})),null}var Oie=(e,t,n,r)=>{var{coordinate:i}=e;return nt(n,r,i,t)},Mie=e=>{var t;switch(e){case"left":t="end";break;case"right":t="start";break;default:t="middle";break}return t},Iie=(e,t,n,r)=>{var i=fie(r,l=>l.coordinate||0),o=gie(r,l=>l.coordinate||0);return{cx:t,cy:n,startAngle:e,endAngle:e,innerRadius:(o==null?void 0:o.coordinate)||0,outerRadius:(i==null?void 0:i.coordinate)||0,clockWise:!1}},Die=(e,t)=>{var{cx:n,cy:r,angle:i,axisLine:o}=e,l=eL(e,Eie),u=t.reduce((m,g)=>[Math.min(m[0],g.coordinate),Math.max(m[1],g.coordinate)],[1/0,-1/0]),d=nt(n,r,u[0],i),f=nt(n,r,u[1],i),h=Si(Si(Si({},Nt(l)),{},{fill:"none"},Nt(o)),{},{x1:d.x,y1:d.y,x2:f.x,y2:f.y});return A.createElement("line",Wu({className:"recharts-polar-radius-axis-line"},h))},Uie=(e,t,n)=>{var r;return A.isValidElement(e)?r=A.cloneElement(e,t):typeof e=="function"?r=e(t):r=A.createElement(_c,Wu({},t,{className:"recharts-polar-radius-axis-tick-value"}),n),r},Lie=(e,t)=>{var{angle:n,tickFormatter:r,stroke:i,tick:o}=e,l=eL(e,Tie),u=Mie(e.orientation),d=Nt(l),f=Qs(o),h=t.map((m,g)=>{var x=Oie(m,e.angle,e.cx,e.cy),S=Si(Si(Si(Si({textAnchor:u,transform:"rotate(".concat(90-n,", ").concat(x.x,", ").concat(x.y,")")},d),{},{stroke:"none",fill:i},f),{},{index:g},x),{},{payload:m});return A.createElement(qt,Wu({className:$e("recharts-polar-radius-axis-tick",g2(o)),key:"tick-".concat(m.coordinate)},tc(e,m,g)),Uie(o,S,r?r(m.value,g):m.value))});return A.createElement(qt,{className:"recharts-polar-radius-axis-ticks"},h)},jie=e=>{var{radiusAxisId:t}=e,n=fe(il),r=fe(d=>dl(d,"radiusAxis",t)),i=fe(d=>fl(d,"radiusAxis",t,!1));if(n==null||!i||!i.length||r==null)return null;var o=Si(Si({},e),{},{scale:r},n),{tick:l,axisLine:u}=o;return A.createElement(Tn,{zIndex:o.zIndex},A.createElement(qt,{className:$e("recharts-polar-radius-axis",Pie,o.className)},u&&Die(o,i),l&&Lie(o,i),A.createElement(gre,Iie(o.angle,o.cx,o.cy,i),A.createElement(Tre,{label:o.label}),o.children)))};function tL(e){var t=Zt(e,Mn);return A.createElement(A.Fragment,null,A.createElement(Rie,{domain:t.domain,id:t.radiusAxisId,scale:t.scale,type:t.type,dataKey:t.dataKey,unit:void 0,name:t.name,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDataOverflow:t.allowDataOverflow,reversed:t.reversed,includeHidden:t.includeHidden,allowDecimals:t.allowDecimals,ticks:t.ticks,tickCount:t.tickCount,tick:t.tick}),A.createElement(jie,t))}tL.displayName="PolarRadiusAxis";var Bie=["children"];function yo(){return yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yo.apply(null,arguments)}function uR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uR(Object(n),!0).forEach(function(r){zie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zie(e,t,n){return(t=$ie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ie(e){var t=qie(e,"string");return typeof t=="symbol"?t:t+""}function qie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hie(e,t){if(e==null)return{};var n,r,i=Gie(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Gie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var cR=1e-5,Vie=Math.cos(ih(45)),Fie="angleAxis";function Kie(e){var t=lt(),n=A.useMemo(()=>{var{children:o}=e,l=Hie(e,Bie);return l},[e]),r=fe(o=>rl(o,n.id)),i=n===r;return A.useEffect(()=>(t(wie(n)),()=>{t(_ie(n))}),[t,n]),i?e.children:null}var Yie=(e,t)=>{var{cx:n,cy:r,radius:i,orientation:o,tickSize:l}=t,u=l||8,d=nt(n,r,i,e.coordinate),f=nt(n,r,i+(o==="inner"?-1:1)*u,e.coordinate);return{x1:d.x,y1:d.y,x2:f.x,y2:f.y}},Wie=(e,t)=>{var n=Math.cos(ih(-e.coordinate));return n>cR?t==="outer"?"start":"end":n<-cR?t==="outer"?"end":"start":"middle"},Jie=e=>{var t=Math.cos(ih(-e.coordinate)),n=Math.sin(ih(-e.coordinate));return Math.abs(t)<=Vie?n>0?"start":"end":"middle"},Xie=e=>{var{cx:t,cy:n,radius:r,axisLineType:i,axisLine:o,ticks:l}=e;if(!o)return null;var u=Fr(Fr({},Nt(e)),{},{fill:"none"},Nt(o));if(i==="circle")return A.createElement(Ew,yo({className:"recharts-polar-angle-axis-line"},u,{cx:t,cy:n,r}));var d=l.map(f=>nt(t,n,r,f.coordinate));return A.createElement(FU,yo({className:"recharts-polar-angle-axis-line"},u,{points:d}))},Zie=e=>{var{tick:t,tickProps:n,value:r}=e;return t?A.isValidElement(t)?A.cloneElement(t,n):typeof t=="function"?t(n):A.createElement(_c,yo({},n,{className:"recharts-polar-angle-axis-tick-value"}),r):null},Qie=e=>{var{tick:t,tickLine:n,tickFormatter:r,stroke:i,ticks:o}=e,l=Nt(e),u=Qs(t),d=Fr(Fr({},l),{},{fill:"none"},Nt(n)),f=o.map((h,m)=>{var g=Yie(h,e),x=Wie(h,e.orientation),S=Jie(h),E=Fr(Fr(Fr({},l),{},{textAnchor:x,verticalAnchor:S,stroke:"none",fill:i},u),{},{index:m,payload:h,x:g.x2,y:g.y2});return A.createElement(qt,yo({className:$e("recharts-polar-angle-axis-tick",g2(t)),key:"tick-".concat(h.coordinate)},tc(e,h,m)),n&&A.createElement("line",yo({className:"recharts-polar-angle-axis-tick-line"},d,g)),A.createElement(Zie,{tick:t,tickProps:E,value:r?r(h.value,m):h.value}))});return A.createElement(qt,{className:"recharts-polar-angle-axis-ticks"},f)},eae=e=>{var{angleAxisId:t}=e,n=fe(il),r=fe(u=>dl(u,"angleAxis",t)),i=yn(),o=fe(u=>Yre(u,"angleAxis",t,i));if(n==null||!o||!o.length||r==null)return null;var l=Fr(Fr(Fr({},e),{},{scale:r},n),{},{radius:n.outerRadius,ticks:o});return A.createElement(Tn,{zIndex:l.zIndex},A.createElement(qt,{className:$e("recharts-polar-angle-axis",Fie,l.className)},A.createElement(Xie,l),A.createElement(Qie,l)))};function nL(e){var t=Zt(e,Vr);return A.createElement(Kie,{id:t.angleAxisId,scale:t.scale,type:t.type,dataKey:t.dataKey,unit:void 0,name:t.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:t.reversed,includeHidden:!1,allowDecimals:t.allowDecimals,tickCount:t.tickCount,ticks:t.ticks,tick:t.tick,domain:t.domain},A.createElement(eae,t))}nL.displayName="PolarAngleAxis";var zy={exports:{}},tt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dR;function tae(){if(dR)return tt;dR=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function S(E){if(typeof E=="object"&&E!==null){var T=E.$$typeof;switch(T){case e:switch(E=E.type,E){case n:case i:case r:case d:case f:case g:return E;default:switch(E=E&&E.$$typeof,E){case l:case u:case m:case h:return E;case o:return E;default:return T}}case t:return T}}}return tt.ContextConsumer=o,tt.ContextProvider=l,tt.Element=e,tt.ForwardRef=u,tt.Fragment=n,tt.Lazy=m,tt.Memo=h,tt.Portal=t,tt.Profiler=i,tt.StrictMode=r,tt.Suspense=d,tt.SuspenseList=f,tt.isContextConsumer=function(E){return S(E)===o},tt.isContextProvider=function(E){return S(E)===l},tt.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===e},tt.isForwardRef=function(E){return S(E)===u},tt.isFragment=function(E){return S(E)===n},tt.isLazy=function(E){return S(E)===m},tt.isMemo=function(E){return S(E)===h},tt.isPortal=function(E){return S(E)===t},tt.isProfiler=function(E){return S(E)===i},tt.isStrictMode=function(E){return S(E)===r},tt.isSuspense=function(E){return S(E)===d},tt.isSuspenseList=function(E){return S(E)===f},tt.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===d||E===f||typeof E=="object"&&E!==null&&(E.$$typeof===m||E.$$typeof===h||E.$$typeof===l||E.$$typeof===o||E.$$typeof===u||E.$$typeof===x||E.getModuleId!==void 0)},tt.typeOf=S,tt}var fR;function nae(){return fR||(fR=1,zy.exports=tae()),zy.exports}var rae=nae(),hR=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",pR=null,$y=null,rL=e=>{if(e===pR&&Array.isArray($y))return $y;var t=[];return A.Children.forEach(e,n=>{Pt(n)||(rae.isFragment(n)?t=t.concat(rL(n.props.children)):t.push(n))}),$y=t,pR=e,t};function iae(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>hR(i)):r=[hR(t)],rL(e).forEach(i=>{var o=zs(i,"type.displayName")||zs(i,"type.name");o&&r.indexOf(o)!==-1&&n.push(i)}),n}var aae=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,qy={},mR;function oae(){return mR||(mR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(qy)),qy}var Hy,vR;function sae(){return vR||(vR=1,Hy=oae().isPlainObject),Hy}var lae=sae();const uae=br(lae);var gR,yR,bR,xR,wR;function _R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_R(Object(n),!0).forEach(function(r){cae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cae(e,t,n){return(t=dae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dae(e){var t=fae(e,"string");return typeof t=="symbol"?t:t+""}function fae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bh(){return bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bh.apply(null,arguments)}function yu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ER=(e,t,n,r,i)=>{var o=n-r,l;return l=vt(gR||(gR=yu(["M ",",",""])),e,t),l+=vt(yR||(yR=yu(["L ",",",""])),e+n,t),l+=vt(bR||(bR=yu(["L ",",",""])),e+n-o/2,t+i),l+=vt(xR||(xR=yu(["L ",",",""])),e+n-o/2-r,t+i),l+=vt(wR||(wR=yu(["L ",","," Z"])),e,t),l},hae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pae=e=>{var t=Zt(e,hae),{x:n,y:r,upperWidth:i,lowerWidth:o,height:l,className:u}=t,{animationEasing:d,animationDuration:f,animationBegin:h,isUpdateAnimationActive:m}=t,g=A.useRef(null),[x,S]=A.useState(-1),E=A.useRef(i),T=A.useRef(o),C=A.useRef(l),P=A.useRef(n),N=A.useRef(r),R=cp(e,"trapezoid-");if(A.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var de=g.current.getTotalLength();de&&S(de)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||l!==+l||i===0&&o===0||l===0)return null;var M=$e("recharts-trapezoid",u);if(!m)return A.createElement("g",null,A.createElement("path",bh({},$t(t),{className:M,d:ER(n,r,i,o,l)})));var I=E.current,D=T.current,F=C.current,$=P.current,Q=N.current,W="0px ".concat(x===-1?1:x,"px"),ne="".concat(x,"px 0px"),se=f2(["strokeDasharray"],f,d);return A.createElement(up,{animationId:R,key:R,canBegin:x>0,duration:f,easing:d,isActive:m,begin:h},de=>{var Te=At(I,i,de),j=At(D,o,de),Y=At(F,l,de),oe=At($,n,de),ue=At(Q,r,de);g.current&&(E.current=Te,T.current=j,C.current=Y,P.current=oe,N.current=ue);var ce=de>0?{transition:se,strokeDasharray:ne}:{strokeDasharray:W};return A.createElement("path",bh({},$t(t),{className:M,d:ER(oe,ue,Te,j,Y),ref:g,style:SR(SR({},ce),t.style)}))})},mae=["option","shapeType","activeClassName"];function vae(e,t){if(e==null)return{};var n,r,i=gae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function TR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TR(Object(n),!0).forEach(function(r){yae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yae(e,t,n){return(t=bae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bae(e){var t=xae(e,"string");return typeof t=="symbol"?t:t+""}function xae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wae(e,t){return xh(xh({},t),e)}function _ae(e,t){return e==="symbols"}function AR(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return A.createElement(v2,n);case"trapezoid":return A.createElement(pae,n);case"sector":return A.createElement(x2,n);case"symbols":if(_ae(t))return A.createElement(eI,n);break;case"curve":return A.createElement(d2,n);default:return null}}function Sae(e){return A.isValidElement(e)?e.props:e}function Eae(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=vae(e,mae),o;if(A.isValidElement(t))o=A.cloneElement(t,xh(xh({},i),Sae(t)));else if(typeof t=="function")o=t(i,i.index);else if(uae(t)&&typeof t!="boolean"){var l=wae(t,i);o=A.createElement(AR,{shapeType:n,elementProps:l})}else{var u=i;o=A.createElement(AR,{shapeType:n,elementProps:u})}return i.isActive?A.createElement(qt,{className:r},o):o}var iL=(e,t,n)=>{var r=lt();return(i,o)=>l=>{e==null||e(i,o,l),r(nU({activeIndex:String(o),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},aL=e=>{var t=lt();return(n,r)=>i=>{e==null||e(n,r,i),t(kee())}},oL=(e,t,n)=>{var r=lt();return(i,o)=>l=>{e==null||e(i,o,l),r(Nee({activeIndex:String(o),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function sL(e){var{tooltipEntrySettings:t}=e,n=lt(),r=yn(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n(Eee(t)):i.current!==t&&n(Tee({prev:i.current,next:t})),i.current=t)},[t,n,r]),A.useLayoutEffect(()=>()=>{i.current&&(n(Aee(i.current)),i.current=null)},[n]),null}function Tae(e){var{legendPayload:t}=e,n=lt(),r=yn(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n(s2(t)):i.current!==t&&n(l2({prev:i.current,next:t})),i.current=t)},[n,r,t]),A.useLayoutEffect(()=>()=>{i.current&&(n(u2(i.current)),i.current=null)},[n]),null}function Aae(e){var{legendPayload:t}=e,n=lt(),r=fe(Be),i=A.useRef(null);return A.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(s2(t)):i.current!==t&&n(l2({prev:i.current,next:t})),i.current=t)},[n,r,t]),A.useLayoutEffect(()=>()=>{i.current&&(n(u2(i.current)),i.current=null)},[n]),null}var Gy,Cae=()=>{var[e]=A.useState(()=>Iu("uid-"));return e},kae=(Gy=x3.useId)!==null&&Gy!==void 0?Gy:Cae;function Nae(e,t){var n=kae();return t||(e?"".concat(e,"-").concat(n):n)}var Pae=A.createContext(void 0),lL=e=>{var{id:t,type:n,children:r}=e,i=Nae("recharts-".concat(n),t);return A.createElement(Pae.Provider,{value:i},r(i))},Rae={cartesianItems:[],polarItems:[]},uL=Ln({name:"graphicalItems",initialState:Rae,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:ht()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ir(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:ht()},removeCartesianGraphicalItem:{reducer(e,t){var n=Ir(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:ht()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:ht()},removePolarGraphicalItem:{reducer(e,t){var n=Ir(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:ht()}}}),{addCartesianGraphicalItem:Oae,replaceCartesianGraphicalItem:Mae,removeCartesianGraphicalItem:Iae,addPolarGraphicalItem:Dae,removePolarGraphicalItem:Uae}=uL.actions,Lae=uL.reducer,jae=e=>{var t=lt(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?t(Oae(e)):n.current!==e&&t(Mae({prev:n.current,next:e})),n.current=e},[t,e]),A.useLayoutEffect(()=>()=>{n.current&&(t(Iae(n.current)),n.current=null)},[t]),null},Bae=A.memo(jae);function zae(e){var t=lt();return A.useLayoutEffect(()=>(t(Dae(e)),()=>{t(Uae(e))}),[t,e]),null}var $ae=["points"];function CR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CR(Object(n),!0).forEach(function(r){qae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qae(e,t,n){return(t=Hae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hae(e){var t=Gae(e,"string");return typeof t=="symbol"?t:t+""}function Gae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wh(){return wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wh.apply(null,arguments)}function Vae(e,t){if(e==null)return{};var n,r,i=Fae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Kae(e){var{option:t,dotProps:n,className:r}=e;if(A.isValidElement(t))return A.cloneElement(t,n);if(typeof t=="function")return t(n);var i=$e(r,typeof t!="boolean"?t.className:""),o=n??{},{points:l}=o,u=Vae(o,$ae);return A.createElement(Ew,wh({},u,{className:i}))}function Yae(e,t){return e==null?!1:t?!0:e.length===1}function Wae(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:o,baseProps:l,needClip:u,clipPathId:d,zIndex:f=Ct.scatter}=e;if(!Yae(t,n))return null;var h=aae(n),m=XF(n),g=t.map((S,E)=>{var T,C,P=Vy(Vy(Vy({r:3},l),m),{},{index:E,cx:(T=S.x)!==null&&T!==void 0?T:void 0,cy:(C=S.y)!==null&&C!==void 0?C:void 0,dataKey:o,value:S.value,payload:S.payload,points:t});return A.createElement(Kae,{key:"dot-".concat(E),option:n,dotProps:P,className:i})}),x={};return u&&d!=null&&(x.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(d,")")),A.createElement(Tn,{zIndex:f},A.createElement(qt,wh({className:r},x),g))}function kR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kR(Object(n),!0).forEach(function(r){Jae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jae(e,t,n){return(t=Xae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xae(e){var t=Zae(e,"string");return typeof t=="symbol"?t:t+""}function Zae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cL=0,Qae={xAxis:{},yAxis:{},zAxis:{}},dL=Ln({name:"cartesianAxis",initialState:Qae,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:ht()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:ht()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:ht()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:ht()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:ht()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:ht()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:ht()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:ht()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:ht()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-o[0])<=1)return;var l=[...o,r].slice(-3);e.yAxis[n]=NR(NR({},e.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:eoe,replaceXAxis:toe,removeXAxis:noe,addYAxis:roe,replaceYAxis:ioe,removeYAxis:aoe,addZAxis:Vce,replaceZAxis:Fce,removeZAxis:Kce,updateYAxisWidth:ooe}=dL.actions,soe=dL.reducer,loe=q([Qt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),uoe=q([loe,Li,ji],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),fL=()=>fe(uoe),coe=()=>fe(yte);function PR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PR(Object(n),!0).forEach(function(r){doe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function doe(e,t,n){return(t=foe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function foe(e){var t=hoe(e,"string");return typeof t=="symbol"?t:t+""}function hoe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var poe=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:o,clipPath:l}=e;if(i===!1||t.x==null||t.y==null)return null;var u={index:n,dataKey:o,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},d=Fy(Fy(Fy({},u),Qs(i)),tx(i)),f;return A.isValidElement(i)?f=A.cloneElement(i,d):typeof i=="function"?f=i(d):f=A.createElement(Ew,d),A.createElement(qt,{className:"recharts-active-dot",clipPath:l},f)};function moe(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:o,zIndex:l=Ct.activeDot}=e,u=fe(go),d=coe();if(t==null||d==null)return null;var f=t.find(h=>d.includes(h.payload));return Pt(f)?null:A.createElement(Tn,{zIndex:l},A.createElement(poe,{point:f,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:o}))}function RR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _h(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RR(Object(n),!0).forEach(function(r){voe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function voe(e,t,n){return(t=goe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function goe(e){var t=yoe(e,"string");return typeof t=="symbol"?t:t+""}function yoe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hL=(e,t)=>dl(e,"radiusAxis",t),boe=q([hL],e=>{if(e!=null)return{scale:e}}),xoe=q([hc,hL],(e,t)=>{if(!(e==null||t==null))return _h(_h({},e),{},{scale:t})}),woe=(e,t,n,r)=>fl(e,"radiusAxis",t,r),pL=(e,t,n)=>rl(e,n),mL=(e,t,n)=>dl(e,"angleAxis",n),_oe=q([pL,mL],(e,t)=>{if(!(e==null||t==null))return _h(_h({},e),{},{scale:t})}),Soe=(e,t,n,r)=>fl(e,"angleAxis",n,r),Eoe=q([pL,mL,il],(e,t,n)=>{if(!(n==null||t==null))return{scale:t,type:e.type,dataKey:e.dataKey,cx:n.cx,cy:n.cy}}),Toe=(e,t,n,r,i)=>i,Aoe=q([Be,xoe,woe,_oe,Soe],(e,t,n,r,i)=>Aa(e,"radiusAxis")?qs(t,n,!1):qs(r,i,!1)),Coe=q([KU,Toe],(e,t)=>{if(e!=null){var n=e.find(r=>r.type==="radar"&&t===r.id);return n==null?void 0:n.dataKey}}),koe=q([boe,Eoe,gp,Coe,Aoe],(e,t,n,r,i)=>{var{chartData:o,dataStartIndex:l,dataEndIndex:u}=n;if(!(e==null||t==null||o==null||i==null||r==null)){var d=o.slice(l,u+1);return joe({radiusAxis:e,angleAxis:t,displayedData:d,dataKey:r,bandSize:i})}}),Noe=["id"];function Ju(){return Ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ju.apply(null,arguments)}function OR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Un(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OR(Object(n),!0).forEach(function(r){Poe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Poe(e,t,n){return(t=Roe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Roe(e){var t=Ooe(e,"string");return typeof t=="symbol"?t:t+""}function Ooe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Moe(e,t){if(e==null)return{};var n,r,i=Ioe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ioe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Cw(e,t){return e&&e!=="none"?e:t}var Doe=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:o,hide:l}=e;return[{inactive:l,dataKey:t,type:o,color:Cw(r,i),value:Zh(n,t),payload:e}]},Uoe=A.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:o,hide:l,tooltipType:u,id:d}=e,f={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,nameKey:void 0,dataKey:t,name:Zh(o,t),hide:l,type:u,color:Cw(n,i),unit:"",graphicalItemId:d}};return A.createElement(sL,{tooltipEntrySettings:f})});function Loe(e){var{points:t,props:n}=e,{dot:r,dataKey:i}=n,{id:o}=n,l=Moe(n,Noe),u=Nt(l);return A.createElement(Wae,{points:t,dot:r,className:"recharts-radar-dots",dotClassName:"recharts-radar-dot",dataKey:i,baseProps:u})}function joe(e){var{radiusAxis:t,angleAxis:n,displayedData:r,dataKey:i,bandSize:o}=e,{cx:l,cy:u}=n,d=!1,f=[],h=n.type!=="number"?o??0:0;r.forEach((g,x)=>{var S=kt(g,n.dataKey,x),E=kt(g,i),T=n.scale(S)+h,C=Array.isArray(E)?$U(E):E,P=Pt(C)?0:t.scale(C);Array.isArray(E)&&E.length>=2&&(d=!0),f.push(Un(Un({},nt(l,u,P,T)),{},{name:S,value:E,cx:l,cy:u,radius:P,angle:T,payload:g}))});var m=[];return d&&f.forEach(g=>{if(Array.isArray(g.value)){var x=g.value[0],S=Pt(x)?0:t.scale(x);m.push(Un(Un({},g),{},{radius:S},nt(l,u,S,g.angle)))}else m.push(g)}),{points:f,isRange:d,baseLinePoints:m}}function Boe(e){var{showLabels:t,points:n,children:r}=e,i=n.map(o=>{var l,u={x:o.x,y:o.y,width:0,lowerWidth:0,upperWidth:0,height:0};return Un(Un({},u),{},{value:(l=o.value)!==null&&l!==void 0?l:"",payload:o.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return A.createElement(HU,{value:t?i:void 0},r)}function zoe(e){var{points:t,baseLinePoints:n,props:r}=e;if(t==null)return null;var{shape:i,isRange:o,connectNulls:l}=r,u=h=>{var{onMouseEnter:m}=r;m&&m(r,h)},d=h=>{var{onMouseLeave:m}=r;m&&m(r,h)},f;return A.isValidElement(i)?f=A.cloneElement(i,Un(Un({},r),{},{points:t})):typeof i=="function"?f=i(Un(Un({},r),{},{points:t})):f=A.createElement(FU,Ju({},$t(r),{onMouseEnter:u,onMouseLeave:d,points:t,baseLinePoints:o?n:void 0,connectNulls:l})),A.createElement(qt,{className:"recharts-radar-polygon"},f,A.createElement(Loe,{props:r,points:t}))}var MR=(e,t,n)=>(r,i)=>{var o=e&&e[Math.floor(i*t)];return o?Un(Un({},r),{},{x:At(o.x,r.x,n),y:At(o.y,r.y,n)}):Un(Un({},r),{},{x:At(r.cx,r.x,n),y:At(r.cy,r.y,n)})};function $oe(e){var{props:t,previousPointsRef:n,previousBaseLinePointsRef:r}=e,{points:i,baseLinePoints:o,isAnimationActive:l,animationBegin:u,animationDuration:d,animationEasing:f,onAnimationEnd:h,onAnimationStart:m}=t,g=n.current,x=r.current,S=g?g.length/i.length:1,E=x?x.length/o.length:1,T=cp(t,"recharts-radar-"),[C,P]=A.useState(!1),N=!C,R=A.useCallback(()=>{typeof h=="function"&&h(),P(!1)},[h]),M=A.useCallback(()=>{typeof m=="function"&&m(),P(!0)},[m]);return A.createElement(Boe,{showLabels:N,points:i},A.createElement(up,{animationId:T,begin:u,duration:d,isActive:l,easing:f,key:"radar-".concat(T),onAnimationEnd:R,onAnimationStart:M},I=>{var D=I===1?i:i.map(MR(g,S,I)),F=I===1?o:o==null?void 0:o.map(MR(x,E,I));return I>0&&(n.current=D,r.current=F),A.createElement(zoe,{points:D,baseLinePoints:F,props:t})}),A.createElement(VU,{label:t.label}),t.children)}function qoe(e){var t=A.useRef(void 0),n=A.useRef(void 0);return A.createElement($oe,{props:e,previousPointsRef:t,previousBaseLinePointsRef:n})}var Hoe={activeDot:!0,angleAxisId:0,animationBegin:0,animationDuration:1500,animationEasing:"ease",dot:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",radiusAxisId:0,zIndex:Ct.area};function Goe(e){var{hide:t,className:n,points:r}=e;if(t)return null;var i=$e("recharts-radar",n);return A.createElement(Tn,{zIndex:e.zIndex},A.createElement(qt,{className:i},A.createElement(qoe,e)),A.createElement(moe,{points:r,mainColor:Cw(e.stroke,e.fill),itemDataKey:e.dataKey,activeDot:e.activeDot}))}function Voe(e){var t=yn(),n=fe(r=>koe(r,e.radiusAxisId,e.angleAxisId,t,e.id));return(n==null?void 0:n.points)==null?null:A.createElement(Goe,Ju({},e,{points:n==null?void 0:n.points,baseLinePoints:n==null?void 0:n.baseLinePoints,isRange:n==null?void 0:n.isRange}))}function vL(e){var t=Zt(e,Hoe);return A.createElement(lL,{id:t.id,type:"radar"},n=>A.createElement(A.Fragment,null,A.createElement(zae,{type:"radar",id:n,data:void 0,dataKey:t.dataKey,hide:t.hide,angleAxisId:t.angleAxisId,radiusAxisId:t.radiusAxisId}),A.createElement(Aae,{legendPayload:Doe(t)}),A.createElement(Uoe,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:n}),A.createElement(Voe,Ju({},t,{id:n}))))}vL.displayName="Radar";var IR=(e,t,n)=>{var r=n??e;if(!Pt(r))return Ur(r,t,0)},Foe=(e,t,n)=>{var r={},i=e.filter(xp),o=e.filter(f=>f.stackId==null),l=i.reduce((f,h)=>(f[h.stackId]||(f[h.stackId]=[]),f[h.stackId].push(h),f),r),u=Object.entries(l).map(f=>{var[h,m]=f,g=m.map(S=>S.dataKey),x=IR(t,n,m[0].barSize);return{stackId:h,dataKeys:g,barSize:x}}),d=o.map(f=>{var h=[f.dataKey].filter(g=>g!=null),m=IR(t,n,f.barSize);return{stackId:void 0,dataKeys:h,barSize:m}});return[...u,...d]};function DR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ff(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DR(Object(n),!0).forEach(function(r){Koe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Koe(e,t,n){return(t=Yoe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yoe(e){var t=Woe(e,"string");return typeof t=="symbol"?t:t+""}function Woe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Joe(e,t,n,r,i){var o=r.length;if(!(o<1)){var l=Ur(e,n,0,!0),u,d=[];if(gt(r[0].barSize)){var f=!1,h=n/o,m=r.reduce((C,P)=>C+(P.barSize||0),0);m+=(o-1)*l,m>=n&&(m-=(o-1)*l,l=0),m>=n&&h>0&&(f=!0,h*=.9,m=o*h);var g=(n-m)/2>>0,x={offset:g-l,size:0};u=r.reduce((C,P)=>{var N,R={stackId:P.stackId,dataKeys:P.dataKeys,position:{offset:x.offset+x.size+l,size:f?h:(N=P.barSize)!==null&&N!==void 0?N:0}},M=[...C,R];return x=M[M.length-1].position,M},d)}else{var S=Ur(t,n,0,!0);n-2*S-(o-1)*l<=0&&(l=0);var E=(n-2*S-(o-1)*l)/o;E>1&&(E>>=0);var T=gt(i)?Math.min(E,i):E;u=r.reduce((C,P,N)=>[...C,{stackId:P.stackId,dataKeys:P.dataKeys,position:{offset:S+(E+l)*N+(E-T)/2,size:T}}],d)}return u}}var Xoe=(e,t,n,r,i,o,l)=>{var u=Pt(l)?t:l,d=Joe(n,r,i!==o?i:o,e,u);return i!==o&&d!=null&&(d=d.map(f=>ff(ff({},f),{},{position:ff(ff({},f.position),{},{offset:f.position.offset-i/2})}))),d},Zoe=(e,t)=>{var n=Fx(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:o}=i;if(o)return o.find(l=>l.key===n)}}}};function Qoe(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&gt(e.zIndex)?e.zIndex:t}var gL=e=>{var{chartData:t}=e,n=lt(),r=yn();return A.useEffect(()=>r?()=>{}:(n(kP(t)),()=>{n(kP(void 0))}),[t,n,r]),null},UR={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},yL=Ln({name:"brush",initialState:UR,reducers:{setBrushSettings(e,t){return t.payload==null?UR:t.payload}}}),{setBrushSettings:Yce}=yL.actions,ese=yL.reducer;function tse(e,t,n){return(t=nse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nse(e){var t=rse(e,"string");return typeof t=="symbol"?t:t+""}function rse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class kw{static create(t){return new kw(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}tse(kw,"EPS",1e-4);function ise(e){return(e%180+180)%180}var ase=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=ise(i),l=o*Math.PI/180,u=Math.atan(r/n),d=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},ose={dots:[],areas:[],lines:[]},bL=Ln({name:"referenceElements",initialState:ose,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Ir(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Ir(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Ir(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Wce,removeDot:Jce,addArea:Xce,removeArea:Zce,addLine:Qce,removeLine:ede}=bL.actions,sse=bL.reducer,lse=A.createContext(void 0),use=e=>{var{children:t}=e,[n]=A.useState("".concat(Iu("recharts"),"-clip")),r=fL();if(r==null)return null;var{x:i,y:o,width:l,height:u}=r;return A.createElement(lse.Provider,{value:n},A.createElement("defs",null,A.createElement("clipPath",{id:n},A.createElement("rect",{x:i,y:o,height:u,width:l}))),t)};function xL(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function cse(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return ase(r,n)}function dse(e,t,n){var r=n==="width",{x:i,y:o,width:l,height:u}=e;return t===1?{start:r?i:o,end:r?i+l:o+u}:{start:r?i+l:o+u,end:r?i:o}}function Xu(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function fse(e,t){return xL(e,t+1)}function hse(e,t,n,r,i){for(var o=(r||[]).slice(),{start:l,end:u}=t,d=0,f=1,h=l,m=function(){var S=r==null?void 0:r[d];if(S===void 0)return{v:xL(r,f)};var E=d,T,C=()=>(T===void 0&&(T=n(S,E)),T),P=S.coordinate,N=d===0||Xu(e,P,C,h,u);N||(d=0,h=l,f+=1),N&&(h=P+e*(C()/2+i),d+=f)},g;f<=o.length;)if(g=m(),g)return g.v;return[]}function pse(e,t,n,r,i){var o=(r||[]).slice(),l=o.length;if(l===0)return[];for(var{start:u,end:d}=t,f=1;f<=l;f++){for(var h=(l-1)%f,m=u,g=!0,x=function(){var P=r[S],N=S,R,M=()=>(R===void 0&&(R=n(P,N)),R),I=P.coordinate,D=S===h||Xu(e,I,M,m,d);if(!D)return g=!1,1;D&&(m=I+e*(M()/2+i))},S=h;S<l&&!x();S+=f);if(g){for(var E=[],T=h;T<l;T+=f)E.push(r[T]);return E}}return[]}function LR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LR(Object(n),!0).forEach(function(r){mse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mse(e,t,n){return(t=vse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vse(e){var t=gse(e,"string");return typeof t=="symbol"?t:t+""}function gse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yse(e,t,n,r,i){for(var o=(r||[]).slice(),l=o.length,{start:u}=t,{end:d}=t,f=function(g){var x=o[g],S,E=()=>(S===void 0&&(S=n(x,g)),S);if(g===l-1){var T=e*(x.coordinate+e*E()/2-d);o[g]=x=mn(mn({},x),{},{tickCoord:T>0?x.coordinate-T*e:x.coordinate})}else o[g]=x=mn(mn({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var C=Xu(e,x.tickCoord,E,u,d);C&&(d=x.tickCoord-e*(E()/2+i),o[g]=mn(mn({},x),{},{isShow:!0}))}},h=l-1;h>=0;h--)f(h);return o}function bse(e,t,n,r,i,o){var l=(r||[]).slice(),u=l.length,{start:d,end:f}=t;if(o){var h=r[u-1],m=n(h,u-1),g=e*(h.coordinate+e*m/2-f);if(l[u-1]=h=mn(mn({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate}),h.tickCoord!=null){var x=Xu(e,h.tickCoord,()=>m,d,f);x&&(f=h.tickCoord-e*(m/2+i),l[u-1]=mn(mn({},h),{},{isShow:!0}))}}for(var S=o?u-1:u,E=function(P){var N=l[P],R,M=()=>(R===void 0&&(R=n(N,P)),R);if(P===0){var I=e*(N.coordinate-e*M()/2-d);l[P]=N=mn(mn({},N),{},{tickCoord:I<0?N.coordinate-I*e:N.coordinate})}else l[P]=N=mn(mn({},N),{},{tickCoord:N.coordinate});if(N.tickCoord!=null){var D=Xu(e,N.tickCoord,M,d,f);D&&(d=N.tickCoord+e*(M()/2+i),l[P]=mn(mn({},N),{},{isShow:!0}))}},T=0;T<S;T++)E(T);return l}function Nw(e,t,n){var{tick:r,ticks:i,viewBox:o,minTickGap:l,orientation:u,interval:d,tickFormatter:f,unit:h,angle:m}=e;if(!i||!i.length||!r)return[];if(me(d)||lp.isSsr){var g;return(g=fse(i,me(d)?d:0))!==null&&g!==void 0?g:[]}var x=[],S=u==="top"||u==="bottom"?"width":"height",E=h&&S==="width"?Tu(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},T=(N,R)=>{var M=typeof f=="function"?f(N.value,R):N.value;return S==="width"?cse(Tu(M,{fontSize:t,letterSpacing:n}),E,m):Tu(M,{fontSize:t,letterSpacing:n})[S]},C=i.length>=2?In(i[1].coordinate-i[0].coordinate):1,P=dse(o,C,S);return d==="equidistantPreserveStart"?hse(C,P,T,i,l):d==="equidistantPreserveEnd"?pse(C,P,T,i,l):(d==="preserveStart"||d==="preserveStartEnd"?x=bse(C,P,T,i,l,d==="preserveStartEnd"):x=yse(C,P,T,i,l),x.filter(N=>N.isShow))}var xse=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=e,l=0;if(t){Array.from(t).forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>l&&(l=m.width)}});var u=n?n.getBoundingClientRect().width:0,d=i+o,f=l+d+u+(n?r:0);return Math.round(f)}return 0},wse=["axisLine","width","height","className","hide","ticks","axisType"];function _se(e,t){if(e==null)return{};var n,r,i=Sse(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Sse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function bo(){return bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bo.apply(null,arguments)}function jR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jR(Object(n),!0).forEach(function(r){Ese(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ese(e,t,n){return(t=Tse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tse(e){var t=Ase(e,"string");return typeof t=="symbol"?t:t+""}function Ase(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ti={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ct.axis};function Cse(e){var{x:t,y:n,width:r,height:i,orientation:o,mirror:l,axisLine:u,otherSvgProps:d}=e;if(!u)return null;var f=Ut(Ut(Ut({},d),Nt(u)),{},{fill:"none"});if(o==="top"||o==="bottom"){var h=+(o==="top"&&!l||o==="bottom"&&l);f=Ut(Ut({},f),{},{x1:t,y1:n+h*i,x2:t+r,y2:n+h*i})}else{var m=+(o==="left"&&!l||o==="right"&&l);f=Ut(Ut({},f),{},{x1:t+m*r,y1:n,x2:t+m*r,y2:n+i})}return A.createElement("line",bo({},f,{className:$e("recharts-cartesian-axis-line",zs(u,"className"))}))}function kse(e,t,n,r,i,o,l,u,d){var f,h,m,g,x,S,E=u?-1:1,T=e.tickSize||l,C=me(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":f=h=e.coordinate,g=n+ +!u*i,m=g-E*T,S=m-E*d,x=C;break;case"left":m=g=e.coordinate,h=t+ +!u*r,f=h-E*T,x=f-E*d,S=C;break;case"right":m=g=e.coordinate,h=t+ +u*r,f=h+E*T,x=f+E*d,S=C;break;default:f=h=e.coordinate,g=n+ +u*i,m=g+E*T,S=m+E*d,x=C;break}return{line:{x1:f,y1:m,x2:h,y2:g},tick:{x,y:S}}}function Nse(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Pse(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Rse(e){var{option:t,tickProps:n,value:r}=e,i,o=$e(n.className,"recharts-cartesian-axis-tick-value");if(A.isValidElement(t))i=A.cloneElement(t,Ut(Ut({},n),{},{className:o}));else if(typeof t=="function")i=t(Ut(Ut({},n),{},{className:o}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=$e(l,t==null?void 0:t.className)),i=A.createElement(_c,bo({},n,{className:l}),r)}return i}var Ose=A.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:l,unit:u,padding:d,tickTextProps:f,orientation:h,mirror:m,x:g,y:x,width:S,height:E,tickSize:T,tickMargin:C,fontSize:P,letterSpacing:N,getTicksConfig:R,events:M,axisType:I}=e,D=Nw(Ut(Ut({},R),{},{ticks:n}),P,N),F=Nse(h,m),$=Pse(h,m),Q=Nt(R),W=Qs(r),ne={};typeof i=="object"&&(ne=i);var se=Ut(Ut({},Q),{},{fill:"none"},ne),de=D.map(Y=>Ut({entry:Y},kse(Y,g,x,S,E,h,T,m,C))),Te=de.map(Y=>{var{entry:oe,line:ue}=Y;return A.createElement(qt,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(oe.value,"-").concat(oe.coordinate,"-").concat(oe.tickCoord)},i&&A.createElement("line",bo({},se,ue,{className:$e("recharts-cartesian-axis-tick-line",zs(i,"className"))})))}),j=de.map((Y,oe)=>{var{entry:ue,tick:ce}=Y,L=Ut(Ut(Ut(Ut({textAnchor:F,verticalAnchor:$},Q),{},{stroke:"none",fill:o},W),ce),{},{index:oe,payload:ue,visibleTicksCount:D.length,tickFormatter:l,padding:d},f);return A.createElement(qt,bo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ue.value,"-").concat(ue.coordinate,"-").concat(ue.tickCoord)},tc(M,ue,oe)),r&&A.createElement(Rse,{option:r,tickProps:L,value:"".concat(typeof l=="function"?l(ue.value,oe):ue.value).concat(u||"")}))});return A.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(I,"-ticks")},j.length>0&&A.createElement(Tn,{zIndex:Ct.label},A.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(I,"-tick-labels"),ref:t},j)),Te.length>0&&A.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(I,"-tick-lines")},Te))}),Mse=A.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:o,hide:l,ticks:u,axisType:d}=e,f=_se(e,wse),[h,m]=A.useState(""),[g,x]=A.useState(""),S=A.useRef(null);A.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var T;return xse({ticks:S.current,label:(T=e.labelRef)===null||T===void 0?void 0:T.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var E=A.useCallback(T=>{if(T){var C=T.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=C;var P=C[0];if(P){var N=window.getComputedStyle(P),R=N.fontSize,M=N.letterSpacing;(R!==h||M!==g)&&(m(R),x(M))}}},[h,g]);return l||r!=null&&r<=0||i!=null&&i<=0?null:A.createElement(Tn,{zIndex:e.zIndex},A.createElement(qt,{className:$e("recharts-cartesian-axis",o)},A.createElement(Cse,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Nt(e)}),A.createElement(Ose,{ref:E,axisType:d,events:f,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:g,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),A.createElement(vre,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},A.createElement(Ere,{label:e.label,labelRef:e.labelRef}),e.children)))}),Pw=A.forwardRef((e,t)=>{var n=Zt(e,Ti);return A.createElement(Mse,bo({},n,{ref:t}))});Pw.displayName="CartesianAxis";var Ise=["x1","y1","x2","y2","key"],Dse=["offset"],Use=["xAxisId","yAxisId"],Lse=["xAxisId","yAxisId"];function BR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BR(Object(n),!0).forEach(function(r){jse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jse(e,t,n){return(t=Bse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bse(e){var t=zse(e,"string");return typeof t=="symbol"?t:t+""}function zse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function so(){return so=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},so.apply(null,arguments)}function Sh(e,t){if(e==null)return{};var n,r,i=$se(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $se(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var qse=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:l,ry:u}=e;return A.createElement("rect",{x:r,y:i,ry:u,width:o,height:l,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function wL(e){var{option:t,lineItemProps:n}=e,r;if(A.isValidElement(t))r=A.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:o,y1:l,x2:u,y2:d,key:f}=n,h=Sh(n,Ise),m=(i=Nt(h))!==null&&i!==void 0?i:{},{offset:g}=m,x=Sh(m,Dse);r=A.createElement("line",so({},x,{x1:o,y1:l,x2:u,y2:d,fill:"none",key:f}))}return r}function Hse(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=e,u=Sh(e,Use),d=i.map((f,h)=>{var m=vn(vn({},u),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(h),index:h});return A.createElement(wL,{key:"line-".concat(h),option:r,lineItemProps:m})});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function Gse(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=e,u=Sh(e,Lse),d=i.map((f,h)=>{var m=vn(vn({},u),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(h),index:h});return A.createElement(wL,{option:r,lineItemProps:m,key:"line-".concat(h)})});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function Vse(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:o,height:l,horizontalPoints:u,horizontal:d=!0}=e;if(!d||!t||!t.length||u==null)return null;var f=u.map(m=>Math.round(m+i-i)).sort((m,g)=>m-g);i!==f[0]&&f.unshift(0);var h=f.map((m,g)=>{var x=!f[g+1],S=x?i+l-m:f[g+1]-m;if(S<=0)return null;var E=g%t.length;return A.createElement("rect",{key:"react-".concat(g),y:m,x:r,height:S,width:o,stroke:"none",fill:t[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Fse(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:l,height:u,verticalPoints:d}=e;if(!t||!n||!n.length)return null;var f=d.map(m=>Math.round(m+i-i)).sort((m,g)=>m-g);i!==f[0]&&f.unshift(0);var h=f.map((m,g)=>{var x=!f[g+1],S=x?i+l-m:f[g+1]-m;if(S<=0)return null;var E=g%n.length;return A.createElement("rect",{key:"react-".concat(g),x:m,y:o,width:S,height:u,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Kse=(e,t)=>{var{xAxis:n,width:r,height:i,offset:o}=e;return GI(Nw(vn(vn(vn({},Ti),n),{},{ticks:VI(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},Yse=(e,t)=>{var{yAxis:n,width:r,height:i,offset:o}=e;return GI(Nw(vn(vn(vn({},Ti),n),{},{ticks:VI(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},Wse={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Ct.grid};function Rw(e){var t=ZI(),n=QI(),r=XI(),i=vn(vn({},Zt(e,Wse)),{},{x:me(e.x)?e.x:r.left,y:me(e.y)?e.y:r.top,width:me(e.width)?e.width:r.width,height:me(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:l,x:u,y:d,width:f,height:h,syncWithTicks:m,horizontalValues:g,verticalValues:x}=i,S=yn(),E=fe($=>vP($,"xAxis",o,S)),T=fe($=>vP($,"yAxis",l,S));if(!Jr(f)||!Jr(h)||!me(u)||!me(d))return null;var C=i.verticalCoordinatesGenerator||Kse,P=i.horizontalCoordinatesGenerator||Yse,{horizontalPoints:N,verticalPoints:R}=i;if((!N||!N.length)&&typeof P=="function"){var M=g&&g.length,I=P({yAxis:T?vn(vn({},T),{},{ticks:M?g:T.ticks}):void 0,width:t??f,height:n??h,offset:r},M?!0:m);Wf(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(N=I)}if((!R||!R.length)&&typeof C=="function"){var D=x&&x.length,F=C({xAxis:E?vn(vn({},E),{},{ticks:D?x:E.ticks}):void 0,width:t??f,height:n??h,offset:r},D?!0:m);Wf(Array.isArray(F),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(R=F)}return A.createElement(Tn,{zIndex:i.zIndex},A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(qse,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),A.createElement(Vse,so({},i,{horizontalPoints:N})),A.createElement(Fse,so({},i,{verticalPoints:R})),A.createElement(Hse,so({},i,{offset:r,horizontalPoints:N,xAxis:E,yAxis:T})),A.createElement(Gse,so({},i,{offset:r,verticalPoints:R,xAxis:E,yAxis:T}))))}Rw.displayName="CartesianGrid";var Jse={},_L=Ln({name:"errorBars",initialState:Jse,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:tde,replaceErrorBar:nde,removeErrorBar:rde}=_L.actions,Xse=_L.reducer,Zse=["children"];function Qse(e,t){if(e==null)return{};var n,r,i=ele(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ele(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var tle={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},nle=A.createContext(tle);function rle(e){var{children:t}=e,n=Qse(e,Zse);return A.createElement(nle.Provider,{value:n},t)}function SL(e,t){var n,r,i=fe(f=>$i(f,e)),o=fe(f=>qi(f,t)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Yt.allowDataOverflow,u=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:Wt.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function ile(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=fL(),{needClipX:o,needClipY:l,needClip:u}=SL(t,n);if(!u||!i)return null;var{x:d,y:f,width:h,height:m}=i;return A.createElement("clipPath",{id:"clipPath-".concat(r)},A.createElement("rect",{x:o?d:d-h/2,y:l?f:f-m/2,width:o?h:h*2,height:l?m:m*2}))}var Ky={exports:{}},Yy={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zR;function ale(){if(zR)return Yy;zR=1;var e=Ws();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return Yy.useSyncExternalStoreWithSelector=function(d,f,h,m,g){var x=i(null);if(x.current===null){var S={hasValue:!1,value:null};x.current=S}else S=x.current;x=l(function(){function T(M){if(!C){if(C=!0,P=M,M=m(M),g!==void 0&&S.hasValue){var I=S.value;if(g(I,M))return N=I}return N=M}if(I=N,n(P,M))return I;var D=m(M);return g!==void 0&&g(I,D)?(P=M,I):(P=M,N=D)}var C=!1,P,N,R=h===void 0?null:h;return[function(){return T(f())},R===null?void 0:function(){return T(R())}]},[f,h,m,g]);var E=r(d,x[0],x[1]);return o(function(){S.hasValue=!0,S.value=E},[E]),u(E),E},Yy}var $R;function ole(){return $R||($R=1,Ky.exports=ale()),Ky.exports}ole();function sle(e){e()}function lle(){let e=null,t=null;return{clear(){e=null,t=null},notify(){sle(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var qR={notify(){},get:()=>[]};function ule(e,t){let n,r=qR,i=0,o=!1;function l(E){h();const T=r.subscribe(E);let C=!1;return()=>{C||(C=!0,T(),m())}}function u(){r.notify()}function d(){S.onStateChange&&S.onStateChange()}function f(){return o}function h(){i++,n||(n=e.subscribe(d),r=lle())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=qR)}function g(){o||(o=!0,h())}function x(){o&&(o=!1,m())}const S={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:f,trySubscribe:g,tryUnsubscribe:x,getListeners:()=>r};return S}var cle=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dle=cle(),fle=()=>typeof navigator<"u"&&navigator.product==="ReactNative",hle=fle(),ple=()=>dle||hle?A.useLayoutEffect:A.useEffect,mle=ple();function HR(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function vle(e,t){if(HR(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!HR(e[n[i]],t[n[i]]))return!1;return!0}var Wy=Symbol.for("react-redux-context"),Jy=typeof globalThis<"u"?globalThis:{};function gle(){if(!A.createContext)return{};const e=Jy[Wy]??(Jy[Wy]=new Map);let t=e.get(A.createContext);return t||(t=A.createContext(null),e.set(A.createContext,t)),t}var yle=gle();function ble(e){const{children:t,context:n,serverState:r,store:i}=e,o=A.useMemo(()=>{const d=ule(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),l=A.useMemo(()=>i.getState(),[i]);mle(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,l]);const u=n||yle;return A.createElement(u.Provider,{value:o},t)}var xle=ble,wle=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function _le(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Ow(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(wle.has(r)){if(e[r]==null&&t[r]==null)continue;if(!vle(e[r],t[r]))return!1}else if(!_le(e[r],t[r]))return!1;return!0}function Eo(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:cL}function To(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:cL}var Sle="Invariant failed";function Ele(e,t){throw new Error(Sle)}function Eb(){return Eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eb.apply(null,arguments)}function Eh(e){return A.createElement(Eae,Eb({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var Tle=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(me(t))return t;var o=me(r)||Pt(r);return o?t(r,i):(o||Ele(),n)}},Ale=(e,t,n)=>n,Cle=(e,t)=>t,Sc=q([Wx,Cle],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),kle=q([Sc],e=>e==null?void 0:e.maxBarSize),Nle=(e,t,n,r)=>r,Ple=q([Be,Wx,Eo,To,Ale],(e,t,n,r,i)=>t.filter(o=>e==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),Rle=(e,t,n)=>{var r=Be(e),i=Eo(e,t),o=To(e,t);if(!(i==null||o==null))return r==="horizontal"?vb(e,"yAxis",o,n):vb(e,"xAxis",i,n)},Ole=(e,t)=>{var n=Be(e),r=Eo(e,t),i=To(e,t);if(!(r==null||i==null))return n==="horizontal"?mP(e,"xAxis",r):mP(e,"yAxis",i)},Mle=q([Ple,gQ,Ole],Foe),Ile=(e,t,n)=>{var r,i,o=Sc(e,t);if(o!=null){var l=Eo(e,t),u=To(e,t);if(!(l==null||u==null)){var d=Be(e),f=gD(e),{maxBarSize:h}=o,m=Pt(h)?f:h,g,x;return d==="horizontal"?(g=Ys(e,"xAxis",l,n),x=Ks(e,"xAxis",l,n)):(g=Ys(e,"yAxis",u,n),x=Ks(e,"yAxis",u,n)),(r=(i=qs(g,x,!0))!==null&&i!==void 0?i:m)!==null&&r!==void 0?r:0}}},EL=(e,t,n)=>{var r=Be(e),i=Eo(e,t),o=To(e,t);if(!(i==null||o==null)){var l,u;return r==="horizontal"?(l=Ys(e,"xAxis",i,n),u=Ks(e,"xAxis",i,n)):(l=Ys(e,"yAxis",o,n),u=Ks(e,"yAxis",o,n)),qs(l,u)}},Dle=q([Mle,gD,vQ,yD,Ile,EL,kle],Xoe),Ule=(e,t,n)=>{var r=Eo(e,t);if(r!=null)return Ys(e,"xAxis",r,n)},Lle=(e,t,n)=>{var r=To(e,t);if(r!=null)return Ys(e,"yAxis",r,n)},jle=(e,t,n)=>{var r=Eo(e,t);if(r!=null)return Ks(e,"xAxis",r,n)},Ble=(e,t,n)=>{var r=To(e,t);if(r!=null)return Ks(e,"yAxis",r,n)},zle=q([Dle,Sc],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),$le=q([Rle,Sc],Zoe),qle=q([Qt,hx,Ule,Lle,jle,Ble,zle,Be,iQ,EL,$le,Sc,Nle],(e,t,n,r,i,o,l,u,d,f,h,m,g)=>{var{chartData:x,dataStartIndex:S,dataEndIndex:E}=d;if(!(m==null||l==null||t==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||o==null||f==null)){var{data:T}=m,C;if(T!=null&&T.length>0?C=T:C=x==null?void 0:x.slice(S,E+1),C!=null)return gue({layout:u,barSettings:m,pos:l,parentViewBox:t,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,stackedData:h,displayedData:C,offset:e,cells:g,dataStartIndex:S})}}),Hle=["index"];function Tb(){return Tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tb.apply(null,arguments)}function Gle(e,t){if(e==null)return{};var n,r,i=Vle(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Vle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var TL=A.createContext(void 0),Fle=e=>{var t=A.useContext(TL);if(t!=null)return t.stackId;if(e!=null)return cY(e)},Kle=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),Yle=e=>{var t=A.useContext(TL);if(t!=null){var{stackId:n}=t;return"url(#".concat(Kle(n,e),")")}},Wle=e=>{var{index:t}=e,n=Gle(e,Hle),r=Yle(t);return A.createElement(qt,Tb({className:"recharts-bar-stack-layer",clipPath:r},n))},Jle=["onMouseEnter","onMouseLeave","onClick"],Xle=["value","background","tooltipPosition"],Zle=["id"],Qle=["onMouseEnter","onClick","onMouseLeave"];function Mi(){return Mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mi.apply(null,arguments)}function GR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GR(Object(n),!0).forEach(function(r){eue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eue(e,t,n){return(t=tue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tue(e){var t=nue(e,"string");return typeof t=="symbol"?t:t+""}function nue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Th(e,t){if(e==null)return{};var n,r,i=rue(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var iue=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:r,value:Zh(n,t),payload:e}]},aue=A.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:o,hide:l,unit:u,tooltipType:d,id:f}=e,h={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:Zh(o,t),hide:l,type:d,color:i,unit:u,graphicalItemId:f}};return A.createElement(sL,{tooltipEntrySettings:h})});function oue(e){var t=fe(go),{data:n,dataKey:r,background:i,allOtherBarProps:o}=e,{onMouseEnter:l,onMouseLeave:u,onClick:d}=o,f=Th(o,Jle),h=iL(l,r,o.id),m=aL(u),g=oL(d,r,o.id);if(!i||n==null)return null;var x=Qs(i);return A.createElement(Tn,{zIndex:Qoe(i,Ct.barBackground)},n.map((S,E)=>{var{value:T,background:C,tooltipPosition:P}=S,N=Th(S,Xle);if(!C)return null;var R=h(S,E),M=m(S,E),I=g(S,E),D=wn(wn(wn(wn(wn({option:i,isActive:String(E)===t},N),{},{fill:"#eee"},C),x),tc(f,S,E)),{},{onMouseEnter:R,onMouseLeave:M,onClick:I,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return A.createElement(Eh,Mi({key:"background-bar-".concat(E)},D))}))}function sue(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(o=>{var l={x:o.x,y:o.y,width:o.width,lowerWidth:o.width,upperWidth:o.width,height:o.height};return wn(wn({},l),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:l,fill:o.fill})});return A.createElement(HU,{value:t?i:void 0},n)}function lue(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:o,dataKey:l}=e,u=fe(go),d=fe(vU),f=n&&String(o)===u&&(d==null||l===d),h=f?n:t;return f?A.createElement(Tn,{zIndex:Ct.activeBar},A.createElement(Eh,Mi({},r,{name:String(r.name)},i,{isActive:f,option:h,index:o,dataKey:l}))):A.createElement(Eh,Mi({},r,{name:String(r.name)},i,{isActive:f,option:h,index:o,dataKey:l}))}function uue(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:o}=e;return A.createElement(Eh,Mi({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:i,dataKey:o}))}function cue(e){var t,{data:n,props:r}=e,i=(t=Nt(r))!==null&&t!==void 0?t:{},{id:o}=i,l=Th(i,Zle),{shape:u,dataKey:d,activeBar:f}=r,{onMouseEnter:h,onClick:m,onMouseLeave:g}=r,x=Th(r,Qle),S=iL(h,d,o),E=aL(g),T=oL(m,d,o);return n?A.createElement(A.Fragment,null,n.map((C,P)=>A.createElement(Wle,Mi({index:P,key:"rectangle-".concat(C==null?void 0:C.x,"-").concat(C==null?void 0:C.y,"-").concat(C==null?void 0:C.value,"-").concat(P),className:"recharts-bar-rectangle"},tc(x,C,P),{onMouseEnter:S(C,P),onMouseLeave:E(C,P),onClick:T(C,P)}),f?A.createElement(lue,{shape:u,activeBar:f,baseProps:l,entry:C,index:P,dataKey:d}):A.createElement(uue,{shape:u,baseProps:l,entry:C,index:P,dataKey:d})))):null}function due(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:o,animationBegin:l,animationDuration:u,animationEasing:d,onAnimationEnd:f,onAnimationStart:h}=t,m=n.current,g=cp(t,"recharts-bar-"),[x,S]=A.useState(!1),E=!x,T=A.useCallback(()=>{typeof f=="function"&&f(),S(!1)},[f]),C=A.useCallback(()=>{typeof h=="function"&&h(),S(!0)},[h]);return A.createElement(sue,{showLabels:E,rects:r},A.createElement(up,{animationId:g,begin:l,duration:u,isActive:o,easing:d,onAnimationEnd:T,onAnimationStart:C,key:g},P=>{var N=P===1?r:r==null?void 0:r.map((R,M)=>{var I=m&&m[M];if(I)return wn(wn({},R),{},{x:At(I.x,R.x,P),y:At(I.y,R.y,P),width:At(I.width,R.width,P),height:At(I.height,R.height,P)});if(i==="horizontal"){var D=At(0,R.height,P),F=At(R.stackedBarStart,R.y,P);return wn(wn({},R),{},{y:F,height:D})}var $=At(0,R.width,P),Q=At(R.stackedBarStart,R.x,P);return wn(wn({},R),{},{width:$,x:Q})});return P>0&&(n.current=N??null),N==null?null:A.createElement(qt,null,A.createElement(cue,{props:t,data:N}))}),A.createElement(VU,{label:t.label}),t.children)}function fue(e){var t=A.useRef(null);return A.createElement(due,{previousRectanglesRef:t,props:e})}var AL=0,hue=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:kt(e,t)}};class pue extends A.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:l,needClip:u,background:d,id:f}=this.props;if(t||n==null)return null;var h=$e("recharts-bar",i),m=f;return A.createElement(qt,{className:h,id:f},u&&A.createElement("defs",null,A.createElement(ile,{clipPathId:m,xAxisId:o,yAxisId:l})),A.createElement(qt,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(m,")"):void 0},A.createElement(oue,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),A.createElement(fue,this.props)))}}var mue={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:AL,xAxisId:0,yAxisId:0,zIndex:Ct.bar};function vue(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:f,isAnimationActive:h}=e,{needClip:m}=SL(t,n),g=oc(),x=yn(),S=iae(e.children,CU),E=fe(P=>qle(P,e.id,x,S));if(g!=="vertical"&&g!=="horizontal")return null;var T,C=E==null?void 0:E[0];return C==null||C.height==null||C.width==null?T=0:T=g==="vertical"?C.height/2:C.width/2,A.createElement(rle,{xAxisId:t,yAxisId:n,data:E,dataPointFormatter:hue,errorBarOffset:T},A.createElement(pue,Mi({},e,{layout:g,needClip:m,data:E,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:f,isAnimationActive:h})))}function gue(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:l,yAxis:u,xAxisTicks:d,yAxisTicks:f,stackedData:h,displayedData:m,offset:g,cells:x,parentViewBox:S,dataStartIndex:E}=e,T=t==="horizontal"?u:l,C=h?T.scale.domain():null,P=dY({numericAxis:T}),N=T.scale(P);return m.map((R,M)=>{var I,D,F,$,Q,W;if(h){var ne=h[M+E];if(ne==null)return null;I=aY(ne,C)}else I=kt(R,n),Array.isArray(I)||(I=[P,I]);var se=Tle(r,AL)(I[1],M);if(t==="horizontal"){var de,[Te,j]=[u.scale(I[0]),u.scale(I[1])];D=wk({axis:l,ticks:d,bandSize:o,offset:i.offset,entry:R,index:M}),F=(de=j??Te)!==null&&de!==void 0?de:void 0,$=i.size;var Y=Te-j;if(Q=Dr(Y)?0:Y,W={x:D,y:g.top,width:$,height:g.height},Math.abs(se)>0&&Math.abs(Q)<Math.abs(se)){var oe=In(Q||se)*(Math.abs(se)-Math.abs(Q));F-=oe,Q+=oe}}else{var[ue,ce]=[l.scale(I[0]),l.scale(I[1])];if(D=ue,F=wk({axis:u,ticks:f,bandSize:o,offset:i.offset,entry:R,index:M}),$=ce-ue,Q=i.size,W={x:g.left,y:F,width:g.width,height:Q},Math.abs(se)>0&&Math.abs($)<Math.abs(se)){var L=In($||se)*(Math.abs(se)-Math.abs($));$+=L}}if(D==null||F==null||$==null||Q==null)return null;var J=wn(wn({},R),{},{stackedBarStart:N,x:D,y:F,width:$,height:Q,value:h?I:I[1],payload:R,background:W,tooltipPosition:{x:D+$/2,y:F+Q/2},parentViewBox:S},x&&x[M]&&x[M].props);return J}).filter(Boolean)}function yue(e){var t=Zt(e,mue),n=Fle(t.stackId),r=yn();return A.createElement(lL,{id:t.id,type:"bar"},i=>A.createElement(A.Fragment,null,A.createElement(Tae,{legendPayload:iue(t)}),A.createElement(aue,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),A.createElement(Bae,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:n,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),A.createElement(Tn,{zIndex:t.zIndex},A.createElement(vue,Mi({},t,{id:i})))))}var Mw=A.memo(yue,Ow);Mw.displayName="Bar";var bue=["domain","range"],xue=["domain","range"];function VR(e,t){if(e==null)return{};var n,r,i=wue(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function FR(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function CL(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=VR(e,bue),{domain:o,range:l}=t,u=VR(t,xue);return!FR(n,o)||!FR(r,l)?!1:Ow(i,u)}var _ue=["dangerouslySetInnerHTML","ticks","scale"],Sue=["id","scale"];function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ab.apply(null,arguments)}function KR(e,t){if(e==null)return{};var n,r,i=Eue(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Eue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Tue(e){var t=lt(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?t(eoe(e)):n.current!==e&&t(toe({prev:n.current,next:e})),n.current=e},[e,t]),A.useLayoutEffect(()=>()=>{n.current&&(t(noe(n.current)),n.current=null)},[t]),null}var Aue=e=>{var{xAxisId:t,className:n}=e,r=fe(hx),i=yn(),o="xAxis",l=fe(C=>WD(C,o,t,i)),u=fe(C=>VD(C,t)),d=fe(C=>vee(C,t)),f=fe(C=>AD(C,t));if(u==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:h,ticks:m,scale:g}=e,x=KR(e,_ue),{id:S,scale:E}=f,T=KR(f,Sue);return A.createElement(Pw,Ab({},x,T,{x:d.x,y:d.y,width:u.width,height:u.height,className:$e("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:l,axisType:o}))},Cue={allowDataOverflow:Yt.allowDataOverflow,allowDecimals:Yt.allowDecimals,allowDuplicatedCategory:Yt.allowDuplicatedCategory,angle:Yt.angle,axisLine:Ti.axisLine,height:Yt.height,hide:!1,includeHidden:Yt.includeHidden,interval:Yt.interval,minTickGap:Yt.minTickGap,mirror:Yt.mirror,orientation:Yt.orientation,padding:Yt.padding,reversed:Yt.reversed,scale:Yt.scale,tick:Yt.tick,tickCount:Yt.tickCount,tickLine:Ti.tickLine,tickSize:Ti.tickSize,type:Yt.type,xAxisId:0},kue=e=>{var t=Zt(e,Cue);return A.createElement(A.Fragment,null,A.createElement(Tue,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),A.createElement(Aue,t))},Iw=A.memo(kue,CL);Iw.displayName="XAxis";var Nue=["dangerouslySetInnerHTML","ticks","scale"],Pue=["id","scale"];function Cb(){return Cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cb.apply(null,arguments)}function YR(e,t){if(e==null)return{};var n,r,i=Rue(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Rue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Oue(e){var t=lt(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?t(roe(e)):n.current!==e&&t(ioe({prev:n.current,next:e})),n.current=e},[e,t]),A.useLayoutEffect(()=>()=>{n.current&&(t(aoe(n.current)),n.current=null)},[t]),null}var Mue=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,o=A.useRef(null),l=A.useRef(null),u=fe(hx),d=yn(),f=lt(),h="yAxis",m=fe(I=>FD(I,t)),g=fe(I=>yee(I,t)),x=fe(I=>WD(I,h,t,d)),S=fe(I=>CD(I,t));if(A.useLayoutEffect(()=>{if(!(r!=="auto"||!m||Sw(i)||A.isValidElement(i)||S==null)){var I=o.current;if(I){var D=I.getCalculatedWidth();Math.round(m.width)!==Math.round(D)&&f(ooe({id:t,width:D}))}}},[x,m,f,i,t,r,S]),m==null||g==null||S==null)return null;var{dangerouslySetInnerHTML:E,ticks:T,scale:C}=e,P=YR(e,Nue),{id:N,scale:R}=S,M=YR(S,Pue);return A.createElement(Pw,Cb({},P,M,{ref:o,labelRef:l,x:g.x,y:g.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:m.width,height:m.height,className:$e("recharts-".concat(h," ").concat(h),n),viewBox:u,ticks:x,axisType:h}))},Iue={allowDataOverflow:Wt.allowDataOverflow,allowDecimals:Wt.allowDecimals,allowDuplicatedCategory:Wt.allowDuplicatedCategory,angle:Wt.angle,axisLine:Ti.axisLine,hide:!1,includeHidden:Wt.includeHidden,interval:Wt.interval,minTickGap:Wt.minTickGap,mirror:Wt.mirror,orientation:Wt.orientation,padding:Wt.padding,reversed:Wt.reversed,scale:Wt.scale,tick:Wt.tick,tickCount:Wt.tickCount,tickLine:Ti.tickLine,tickSize:Ti.tickSize,type:Wt.type,width:Wt.width,yAxisId:0},Due=e=>{var t=Zt(e,Iue);return A.createElement(A.Fragment,null,A.createElement(Oue,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),A.createElement(Mue,t))},kL=A.memo(Due,CL);kL.displayName="YAxis";var Uue=(e,t)=>t,Dw=q([Uue,Be,il,Gt,fU,Hi,Rte,Qt],jte),Uw=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},NL=gr("mouseClick"),PL=ic();PL.startListening({actionCreator:NL,effect:(e,t)=>{var n=e.payload,r=Dw(t.getState(),Uw(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(Pee({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var kb=gr("mouseMove"),RL=ic(),hf=null;RL.startListening({actionCreator:kb,effect:(e,t)=>{var n=e.payload;hf!==null&&cancelAnimationFrame(hf);var r=Uw(n);hf=requestAnimationFrame(()=>{var i=t.getState(),o=hw(i,i.tooltip.settings.shared);if(o==="axis"){var l=Dw(i,r);(l==null?void 0:l.activeIndex)!=null?t.dispatch(iU({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(rU())}hf=null})}});function Lue(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var WR={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},OL=Ln({name:"rootProps",initialState:WR,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:WR.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),jue=OL.reducer,{updateOptions:Bue}=OL.actions,ML=Ln({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:zue}=ML.actions,$ue=ML.reducer,IL=gr("keyDown"),DL=gr("focus"),Lw=ic();Lw.startListening({actionCreator:IL,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=pw(i,cl(n),vc(n),xc(n)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var d=Hi(n);if(o==="Enter"){var f=gh(n,"axis","hover",String(i.index));t.dispatch(yb({active:!i.active,activeIndex:i.index,activeCoordinate:f}));return}var h=xee(n),m=h==="left-to-right"?1:-1,g=o==="ArrowRight"?1:-1,x=u+g*m;if(!(d==null||x>=d.length||x<0)){var S=gh(n,"axis","hover",String(x));t.dispatch(yb({active:!0,activeIndex:x.toString(),activeCoordinate:S}))}}}}}});Lw.startListening({actionCreator:DL,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",l=gh(n,"axis","hover",String(o));t.dispatch(yb({active:!0,activeIndex:o,activeCoordinate:l}))}}}});var hr=gr("externalEvent"),UL=ic(),Xy=new Map;UL.startListening({actionCreator:hr,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,o=Xy.get(i);o!==void 0&&cancelAnimationFrame(o);var l=requestAnimationFrame(()=>{try{var u=t.getState(),d={activeCoordinate:mte(u),activeDataKey:vU(u),activeIndex:go(u),activeLabel:mU(u),activeTooltipIndex:go(u),isTooltipActive:vte(u)};n(d,r)}finally{Xy.delete(i)}});Xy.set(i,l)}}});var que=q([ll],e=>e.tooltipItemPayloads),Hue=q([que,bc,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(u=>u.settings.graphicalItemId===r);if(i!=null){var{positions:o}=i;if(o!=null){var l=t(o,n);return l}}}),LL=gr("touchMove"),jL=ic();jL.startListening({actionCreator:LL,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=hw(r,r.tooltip.settings.shared);if(i==="axis"){var o=n.touches[0];if(o==null)return;var l=Dw(r,Uw({clientX:o.clientX,clientY:o.clientY,currentTarget:n.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&t.dispatch(iU({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var u,d=n.touches[0];if(document.elementFromPoint==null||d==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(yY),m=(u=f.getAttribute(bY))!==null&&u!==void 0?u:void 0,g=ul(r).find(E=>E.id===m);if(h==null||g==null||m==null)return;var{dataKey:x}=g,S=Hue(r,h,m);t.dispatch(nU({activeDataKey:x,activeIndex:h,activeCoordinate:S,activeGraphicalItemId:m}))}}}});var Gue=mI({brush:ese,cartesianAxis:soe,chartData:mne,errorBars:Xse,graphicalItems:Lae,layout:QK,legend:sW,options:cne,polarAxis:Sie,polarOptions:$ue,referenceElements:sse,rootProps:jue,tooltip:Ree,zIndex:Zte}),Vue=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return EK({reducer:Gue,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([PL.middleware,RL.middleware,Lw.middleware,UL.middleware,jL.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(PI({type:"raf"}))},devTools:{serialize:{replacer:Lue},name:"recharts-".concat(n)}})};function BL(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=yn(),o=A.useRef(null);if(i)return n;o.current==null&&(o.current=Vue(t,r));var l=ix;return A.createElement(xle,{context:l,store:o.current},n)}function Fue(e){var{layout:t,margin:n}=e,r=lt(),i=yn();return A.useEffect(()=>{i||(r(JK(t)),r(WK(n)))},[r,i,t,n]),null}var zL=A.memo(Fue,Ow);function $L(e){var t=lt();return A.useEffect(()=>{t(Bue(e))},[t,e]),null}function JR(e){var{zIndex:t,isPanorama:n}=e,r=A.useRef(null),i=lt();return A.useLayoutEffect(()=>(r.current&&i(Jte({zIndex:t,element:r.current,isPanorama:n})),()=>{i(Xte({zIndex:t,isPanorama:n}))}),[i,t,n]),A.createElement("g",{tabIndex:-1,ref:r})}function XR(e){var{children:t,isPanorama:n}=e,r=fe(zte);if(!r||r.length===0)return t;var i=r.filter(l=>l<0),o=r.filter(l=>l>0);return A.createElement(A.Fragment,null,i.map(l=>A.createElement(JR,{key:l,zIndex:l,isPanorama:n})),t,o.map(l=>A.createElement(JR,{key:l,zIndex:l,isPanorama:n})))}var Kue=["children"];function Yue(e,t){if(e==null)return{};var n,r,i=Wue(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ah(){return Ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ah.apply(null,arguments)}var Jue={width:"100%",height:"100%",display:"block"},Xue=A.forwardRef((e,t)=>{var n=ZI(),r=QI(),i=c2();if(!Jr(n)||!Jr(r))return null;var{children:o,otherAttributes:l,title:u,desc:d}=e,f,h;return l!=null&&(typeof l.tabIndex=="number"?f=l.tabIndex:f=i?0:void 0,typeof l.role=="string"?h=l.role:h=i?"application":void 0),A.createElement(MM,Ah({},l,{title:u,desc:d,role:h,tabIndex:f,width:n,height:r,style:Jue,ref:t}),o)}),Zue=e=>{var{children:t}=e,n=fe(np);if(!n)return null;var{width:r,height:i,y:o,x:l}=n;return A.createElement(MM,{width:r,height:i,x:l,y:o},t)},ZR=A.forwardRef((e,t)=>{var{children:n}=e,r=Yue(e,Kue),i=yn();return i?A.createElement(Zue,null,A.createElement(XR,{isPanorama:!0},n)):A.createElement(Xue,Ah({ref:t},r),A.createElement(XR,{isPanorama:!1},n))});function Que(){var e=lt(),[t,n]=A.useState(null),r=fe(gY);return A.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),o=i.width/t.offsetWidth;gt(o)&&o!==r&&e(ZK(o))}},[t,e,r]),n}function QR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ece(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QR(Object(n),!0).forEach(function(r){tce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tce(e,t,n){return(t=nce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nce(e){var t=rce(e,"string");return typeof t=="symbol"?t:t+""}function rce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xo(){return xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xo.apply(null,arguments)}var ice=()=>(Ene(),null);function Ch(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var ace=A.forwardRef((e,t)=>{var n,r,i=A.useRef(null),[o,l]=A.useState({containerWidth:Ch((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Ch((r=e.style)===null||r===void 0?void 0:r.height)}),u=A.useCallback((f,h)=>{l(m=>{var g=Math.round(f),x=Math.round(h);return m.containerWidth===g&&m.containerHeight===x?m:{containerWidth:g,containerHeight:x}})},[]),d=A.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:h,height:m}=f.getBoundingClientRect();u(h,m);var g=S=>{var{width:E,height:T}=S[0].contentRect;u(E,T)},x=new ResizeObserver(g);x.observe(f),i.current=x}},[t,u]);return A.useEffect(()=>()=>{var f=i.current;f!=null&&f.disconnect()},[u]),A.createElement(A.Fragment,null,A.createElement(ip,{width:o.containerWidth,height:o.containerHeight}),A.createElement("div",xo({ref:d},e)))}),oce=A.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,o]=A.useState({containerWidth:Ch(n),containerHeight:Ch(r)}),l=A.useCallback((d,f)=>{o(h=>{var m=Math.round(d),g=Math.round(f);return h.containerWidth===m&&h.containerHeight===g?h:{containerWidth:m,containerHeight:g}})},[]),u=A.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:f,height:h}=d.getBoundingClientRect();l(f,h)}},[t,l]);return A.createElement(A.Fragment,null,A.createElement(ip,{width:i.containerWidth,height:i.containerHeight}),A.createElement("div",xo({ref:u},e)))}),sce=A.forwardRef((e,t)=>{var{width:n,height:r}=e;return A.createElement(A.Fragment,null,A.createElement(ip,{width:n,height:r}),A.createElement("div",xo({ref:t},e)))}),lce=A.forwardRef((e,t)=>{var{width:n,height:r}=e;return Ci(n)||Ci(r)?A.createElement(oce,xo({},e,{ref:t})):A.createElement(sce,xo({},e,{ref:t}))});function uce(e){return e===!0?ace:lce}var cce=A.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:f,onMouseLeave:h,onMouseMove:m,onMouseUp:g,onTouchEnd:x,onTouchMove:S,onTouchStart:E,style:T,width:C,responsive:P,dispatchTouchEvents:N=!0}=e,R=A.useRef(null),M=lt(),[I,D]=A.useState(null),[F,$]=A.useState(null),Q=Que(),W=px(),ne=(W==null?void 0:W.width)>0?W.width:C,se=(W==null?void 0:W.height)>0?W.height:i,de=A.useCallback(Z=>{Q(Z),typeof t=="function"&&t(Z),D(Z),$(Z),Z!=null&&(R.current=Z)},[Q,t,D,$]),Te=A.useCallback(Z=>{M(NL(Z)),M(hr({handler:o,reactEvent:Z}))},[M,o]),j=A.useCallback(Z=>{M(kb(Z)),M(hr({handler:f,reactEvent:Z}))},[M,f]),Y=A.useCallback(Z=>{M(rU()),M(hr({handler:h,reactEvent:Z}))},[M,h]),oe=A.useCallback(Z=>{M(kb(Z)),M(hr({handler:m,reactEvent:Z}))},[M,m]),ue=A.useCallback(()=>{M(DL())},[M]),ce=A.useCallback(Z=>{M(IL(Z.key))},[M]),L=A.useCallback(Z=>{M(hr({handler:l,reactEvent:Z}))},[M,l]),J=A.useCallback(Z=>{M(hr({handler:u,reactEvent:Z}))},[M,u]),ie=A.useCallback(Z=>{M(hr({handler:d,reactEvent:Z}))},[M,d]),ae=A.useCallback(Z=>{M(hr({handler:g,reactEvent:Z}))},[M,g]),be=A.useCallback(Z=>{M(hr({handler:E,reactEvent:Z}))},[M,E]),Ae=A.useCallback(Z=>{N&&M(LL(Z)),M(hr({handler:S,reactEvent:Z}))},[M,N,S]),xe=A.useCallback(Z=>{M(hr({handler:x,reactEvent:Z}))},[M,x]),_t=uce(P);return A.createElement(SU.Provider,{value:I},A.createElement(i9.Provider,{value:F},A.createElement(_t,{width:ne??(T==null?void 0:T.width),height:se??(T==null?void 0:T.height),className:$e("recharts-wrapper",r),style:ece({position:"relative",cursor:"default",width:ne,height:se},T),onClick:Te,onContextMenu:L,onDoubleClick:J,onFocus:ue,onKeyDown:ce,onMouseDown:ie,onMouseEnter:j,onMouseLeave:Y,onMouseMove:oe,onMouseUp:ae,onTouchEnd:xe,onTouchMove:Ae,onTouchStart:be,ref:de},A.createElement(ice,null),n)))}),dce=["width","height","responsive","children","className","style","compact","title","desc"];function fce(e,t){if(e==null)return{};var n,r,i=hce(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var qL=A.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:o,className:l,style:u,compact:d,title:f,desc:h}=e,m=fce(e,dce),g=Nt(m);return d?A.createElement(A.Fragment,null,A.createElement(ip,{width:n,height:r}),A.createElement(ZR,{otherAttributes:g,title:f,desc:h},o)):A.createElement(cce,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},A.createElement(ZR,{otherAttributes:g,title:f,desc:h,ref:t},A.createElement(use,null,o)))});function Nb(){return Nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nb.apply(null,arguments)}var pce={top:5,right:5,bottom:5,left:5},mce={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:pce,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},vce=A.forwardRef(function(t,n){var r,i=Zt(t.categoricalChartProps,mce),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:f}=t,h={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return A.createElement(BL,{preloadedState:{options:h},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:o},A.createElement(gL,{chartData:f.data}),A.createElement(zL,{layout:i.layout,margin:i.margin}),A.createElement($L,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),A.createElement(qL,Nb({},i,{ref:n})))}),gce=["axis","item"],HL=A.forwardRef((e,t)=>A.createElement(vce,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:gce,tooltipPayloadSearcher:EU,categoricalChartProps:e,ref:t}));function yce(e){var t=lt();return A.useEffect(()=>{t(zue(e))},[t,e]),null}var bce=["layout"];function Pb(){return Pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pb.apply(null,arguments)}function xce(e,t){if(e==null)return{};var n,r,i=wce(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var _ce={top:5,right:5,bottom:5,left:5},GL={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:_ce,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Sce=A.forwardRef(function(t,n){var r,i=Zt(t.categoricalChartProps,GL),{layout:o}=i,l=xce(i,bce),{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,m={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return A.createElement(BL,{preloadedState:{options:m},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},A.createElement(gL,{chartData:i.data}),A.createElement(zL,{layout:o,margin:i.margin}),A.createElement($L,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),A.createElement(yce,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),A.createElement(qL,Pb({},l,{ref:n})))});function eO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eO(Object(n),!0).forEach(function(r){Ece(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ece(e,t,n){return(t=Tce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tce(e){var t=Ace(e,"string");return typeof t=="symbol"?t:t+""}function Ace(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cce=["axis"],kce=tO(tO({},GL),{},{layout:"centric",startAngle:90,endAngle:-270}),Nce=A.forwardRef((e,t)=>{var n=Zt(e,kce);return A.createElement(Sce,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Cce,tooltipPayloadSearcher:EU,categoricalChartProps:n,ref:t})});const Pce=({parent:e,onTriggerPaywall:t})=>{const[n,r]=A.useState(!0),[i,o]=A.useState(null),[l,u]=A.useState([]),[d,f]=A.useState({lessonsDone:0,totalScore:0,currentStreak:0}),[h,m]=A.useState([]),[g,x]=A.useState([]);A.useEffect(()=>{S()},[e.id]);const S=async()=>{r(!0);const T=await je.getChildren(e.id);if(T.length>0){const C=T[0];o(C);const P=await je.getChildProgress(C.id),N=await je.getLeaderboard();u(N);const R=P.filter($=>$.status==="completed"),M=wa.map($=>{let Q=50;return $.id==="grit"&&(Q+=C.gritPoints%100),$.id==="respect"&&(Q+=C.omoluabiPoints%100),$.id==="money"&&(Q+=C.gritPoints/2),{subject:$.label.split(" ")[0],A:Math.min(Q,150),fullMark:150}});m(M);const I=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],D=new Array(7).fill(0);P.forEach($=>{const Q=new Date($.completedAt);D[Q.getDay()]+=1});const F=I.map(($,Q)=>({name:$,hours:D[Q]}));x(F),f({lessonsDone:R.length,totalScore:C.gritPoints+C.omoluabiPoints,currentStreak:E(P)})}r(!1)},E=T=>T.length===0?0:Math.min(T.length,5);return n?_.jsx("div",{className:"p-12 text-center text-stone-400",children:"Loading Growth Data..."}):i?_.jsxs("div",{className:"space-y-8 animate-fade-in pb-12 max-w-5xl mx-auto",children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("div",{className:"w-12 h-12 bg-iroko-earth/10 rounded-2xl flex items-center justify-center text-iroko-earth",children:_.jsx(n0,{size:24})}),_.jsxs("div",{children:[_.jsx("h2",{className:"text-3xl font-display font-bold text-iroko-dark",children:"Growth Journal"}),_.jsxs("p",{className:"text-stone-500",children:["Tracking ",i.name,"'s journey."]})]})]}),_.jsx("button",{onClick:S,className:"p-2 bg-white rounded-full shadow-sm text-stone-400 hover:text-iroko-dark transition-colors",children:_.jsx(Rb,{size:20})})]}),_.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[_.jsx(pf,{icon:L3,label:"Lessons Done",value:d.lessonsDone.toString(),color:"text-iroko-clay",bg:"bg-iroko-clay/10"}),_.jsx(pf,{icon:Ob,label:"Current Streak",value:`${d.currentStreak} Days`,color:"text-iroko-earth",bg:"bg-iroko-earth/10"}),_.jsx(pf,{icon:n0,label:"Total Score",value:d.totalScore.toString(),color:"text-iroko-green",bg:"bg-iroko-green/10"}),_.jsx(pf,{icon:G3,label:"Current Level",value:i.currentLevel,color:"text-iroko-dark",bg:"bg-stone-100"})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[_.jsxs("div",{className:"space-y-8",children:[_.jsxs("div",{className:"relative bg-white p-8 rounded-[2.5rem] shadow-sm border border-stone-100 flex flex-col items-center overflow-hidden",children:[_.jsxs("div",{className:"w-full flex justify-between items-center mb-6",children:[_.jsx("h3",{className:"text-lg font-bold text-iroko-dark",children:"Strength Profile"}),e.subscriptionTier==="Chief"&&_.jsxs("span",{className:"text-xs font-bold bg-iroko-gold text-white px-3 py-1 rounded-full uppercase flex items-center gap-1",children:[_.jsx(Rr,{size:10,fill:"currentColor"})," Pro Analytics"]})]}),_.jsx("div",{className:`w-full h-[320px] transition-all duration-300 ${e.subscriptionTier==="Villager"?"blur-lg opacity-30 grayscale":""}`,children:_.jsx(Y0,{width:"100%",height:"100%",children:_.jsxs(Nce,{cx:"50%",cy:"50%",outerRadius:"70%",data:h,children:[_.jsx(ZU,{stroke:"#f0f0f0",strokeWidth:1.5}),_.jsx(nL,{dataKey:"subject",tick:{fill:"#78716c",fontSize:12,fontWeight:600,fontFamily:"Space Grotesk"}}),_.jsx(tL,{angle:30,domain:[0,150],tick:!1,axisLine:!1}),_.jsx(vL,{name:"Score",dataKey:"A",stroke:"#8B5A2B",strokeWidth:3,fill:"#8B5A2B",fillOpacity:.2})]})})}),e.subscriptionTier==="Villager"&&_.jsx("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center",children:_.jsxs("div",{className:"bg-iroko-dark text-white p-8 rounded-3xl shadow-2xl flex flex-col items-center text-center max-w-xs animate-slide-up relative overflow-hidden",children:[_.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"}),_.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-iroko-gold to-yellow-600 rounded-2xl flex items-center justify-center mb-4 text-white shadow-lg relative z-10 rotate-3",children:_.jsx(Bs,{size:32})}),_.jsx("h4",{className:"font-display font-bold text-xl mb-2 relative z-10",children:"Chief Access Only"}),_.jsx("p",{className:"text-sm text-stone-300 mb-6 relative z-10 leading-relaxed",children:"Unlock detailed analytics to see exactly where your child is thriving and where they need guidance."}),_.jsxs("button",{onClick:t,className:"w-full bg-white text-iroko-dark font-bold px-6 py-3 rounded-xl text-sm uppercase tracking-wide hover:scale-105 transition-transform flex items-center justify-center gap-2 relative z-10",children:[_.jsx(Rr,{size:16,className:"text-iroko-gold fill-current"})," Upgrade Now"]})]})})]}),_.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] shadow-sm border border-stone-100 flex flex-col items-center",children:[_.jsxs("div",{className:"w-full flex justify-between items-center mb-6",children:[_.jsx("h3",{className:"text-lg font-bold text-iroko-dark",children:"Consistency"}),_.jsx("span",{className:"text-xs font-bold bg-stone-100 text-stone-500 px-3 py-1 rounded-full uppercase",children:"Missions"})]}),_.jsx("div",{className:"w-full h-[200px]",children:_.jsx(Y0,{width:"100%",height:"100%",children:_.jsxs(HL,{data:g,margin:{top:20,right:0,left:-25,bottom:0},children:[_.jsx(Rw,{strokeDasharray:"3 3",vertical:!1,stroke:"#f5f5f5"}),_.jsx(Iw,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#a8a29e",fontSize:12},dy:10}),_.jsx(Mw,{dataKey:"hours",fill:"#2C241B",radius:[8,8,8,8],barSize:24,activeBar:{fill:"#8B5A2B"}})]})})})]})]}),_.jsxs("div",{className:"bg-[#2C241B] text-white p-8 rounded-[2.5rem] shadow-xl relative overflow-hidden flex flex-col",children:[_.jsx("div",{className:"absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] pointer-events-none"}),_.jsxs("div",{className:"relative z-10 flex items-center gap-3 mb-8",children:[_.jsx("div",{className:"w-10 h-10 bg-iroko-gold rounded-full flex items-center justify-center text-iroko-dark shadow-lg",children:_.jsx(yO,{size:20,fill:"currentColor"})}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-2xl font-display font-bold",children:"Village Top Giants"}),_.jsx("p",{className:"text-iroko-gold text-sm font-medium",children:"This Week's Leaders"})]})]}),_.jsxs("div",{className:"relative z-10 flex-1 space-y-4",children:[l.map((T,C)=>_.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-2xl border transition-all ${T.id===(i==null?void 0:i.id)?"bg-iroko-gold/20 border-iroko-gold":"bg-white/5 border-white/5 hover:bg-white/10"}`,children:[_.jsx("div",{className:"w-8 font-display font-bold text-xl text-center text-stone-400",children:C+1}),_.jsx("img",{src:T.avatarUrl,className:"w-10 h-10 rounded-full bg-stone-700 border-2 border-stone-600"}),_.jsxs("div",{className:"flex-1",children:[_.jsx("h4",{className:"font-bold text-lg",children:T.name}),_.jsx("p",{className:"text-xs text-stone-400",children:T.currentLevel})]}),_.jsxs("div",{className:"text-right",children:[_.jsx("span",{className:"block font-bold text-iroko-gold",children:T.gritPoints+T.omoluabiPoints}),_.jsx("span",{className:"text-[10px] text-stone-500 uppercase",children:"XP"})]})]},T.id)),l.length===0&&_.jsxs("div",{className:"text-center py-10 text-stone-500",children:[_.jsx(r0,{size:32,className:"mx-auto mb-2 opacity-50"}),_.jsx("p",{children:"Be the first to join the ranks!"})]})]}),_.jsx("div",{className:"relative z-10 mt-8 pt-6 border-t border-white/10 text-center",children:_.jsxs("p",{className:"text-sm text-stone-400",children:[i.name," is currently ranked ",_.jsxs("span",{className:"text-white font-bold",children:["#",l.findIndex(T=>T.id===(i==null?void 0:i.id))+1||"-"]})]})})]})]})]}):_.jsx("div",{className:"p-12 text-center text-stone-400",children:"No child profile found."})},pf=({icon:e,label:t,value:n,color:r,bg:i})=>_.jsxs("div",{className:"bg-white p-6 rounded-[2rem] shadow-sm border border-stone-100 flex flex-col items-center justify-center text-center group hover:shadow-md transition-shadow",children:[_.jsx("div",{className:`w-10 h-10 ${i} rounded-full flex items-center justify-center mb-3 group-hover:scale-110 transition-transform`,children:_.jsx(e,{size:18,className:r})}),_.jsx("span",{className:"text-stone-400 text-[10px] font-bold uppercase tracking-wider mb-1",children:t}),_.jsx("span",{className:`text-2xl font-display font-bold ${r}`,children:n})]}),Rce=()=>{const[e,t]=A.useState(!0),[n,r]=A.useState(null),[i,o]=A.useState([]),[l,u]=A.useState(null),[d,f]=A.useState([]),[h,m]=A.useState(!1),[g,x]=A.useState({title:"",cost:100,emoji:""}),[S,E]=A.useState(null);A.useEffect(()=>{T()},[]);const T=async()=>{const N=await je.getCurrentUser();if(N){r(N);const R=await je.getChildren(N.id);o(R),R.length>0&&u(R[0]);const M=await je.getRewards(N.id);f(M)}t(!1)},C=async()=>{!n||!g.title||(await je.createReward({parentId:n.id,title:g.title,cost:g.cost,emoji:g.emoji}),m(!1),x({title:"",cost:100,emoji:""}),T())},P=async N=>{if(!l)return;await je.redeemReward(l.id,N)?(E({msg:`Successfully redeemed ${N.title}!`,type:"success"}),T()):E({msg:"Not enough XP to buy this item.",type:"error"}),setTimeout(()=>E(null),3e3)};return e?_.jsx("div",{className:"p-12 text-center text-stone-400",children:"Loading Market..."}):_.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 pb-12 animate-fade-in",children:[_.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-6",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[_.jsx("div",{className:"w-10 h-10 bg-iroko-green rounded-xl flex items-center justify-center text-white shadow-lg shadow-iroko-green/20",children:_.jsx(vO,{size:20})}),_.jsx("h2",{className:"text-3xl font-display font-bold text-iroko-dark",children:"The Village Market"})]}),_.jsx("p",{className:"text-stone-500 max-w-md",children:"Teach the value of hard work. Kids spend their earned XP on rewards you approve."})]}),l&&_.jsxs("div",{className:"bg-iroko-dark text-white px-6 py-4 rounded-2xl shadow-xl flex items-center gap-4 border border-white/10 relative overflow-hidden",children:[_.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"}),_.jsxs("div",{className:"text-right relative z-10",children:[_.jsxs("p",{className:"text-xs font-bold text-iroko-gold uppercase tracking-wider mb-1",children:[l.name,"'s Wallet"]}),_.jsxs("p",{className:"text-3xl font-display font-bold",children:[l.gritPoints+l.omoluabiPoints," XP"]})]}),_.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-full flex items-center justify-center relative z-10",children:_.jsx(e0,{className:"text-iroko-gold"})})]})]}),i.length>1&&_.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:i.map(N=>_.jsx("button",{onClick:()=>u(N),className:`px-4 py-2 rounded-full text-sm font-bold border transition-all ${(l==null?void 0:l.id)===N.id?"bg-iroko-earth text-white border-iroko-earth":"bg-white text-stone-500 border-stone-200"}`,children:N.name},N.id))}),S&&_.jsxs("div",{className:`fixed top-4 right-4 z-50 px-6 py-4 rounded-xl shadow-2xl flex items-center gap-3 animate-slide-up text-white font-bold ${S.type==="success"?"bg-green-600":"bg-red-500"}`,children:[S.type==="success"?_.jsx(f5,{size:20}):_.jsx(uO,{size:20}),S.msg]}),_.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:[_.jsxs("button",{onClick:()=>m(!0),className:"min-h-[240px] border-2 border-dashed border-stone-300 rounded-[2rem] flex flex-col items-center justify-center text-stone-400 hover:border-iroko-earth hover:text-iroko-earth hover:bg-stone-50 transition-all group",children:[_.jsx("div",{className:"w-16 h-16 rounded-full bg-stone-100 group-hover:bg-iroko-earth/10 flex items-center justify-center mb-4 transition-colors",children:_.jsx(pO,{size:32})}),_.jsx("span",{className:"font-bold",children:"Add New Reward"})]}),d.map(N=>_.jsxs("div",{className:"bg-white p-6 rounded-[2rem] shadow-sm border border-stone-100 relative group hover:shadow-xl transition-all hover:-translate-y-1",children:[_.jsx("div",{className:"text-6xl mb-6 text-center group-hover:scale-110 transition-transform duration-300",children:N.emoji}),_.jsx("h3",{className:"font-bold text-xl text-iroko-dark mb-2 text-center",children:N.title}),_.jsxs("div",{className:"flex items-center justify-center gap-1 text-iroko-earth font-bold text-lg mb-6 bg-stone-50 py-2 rounded-xl",children:[_.jsx(e0,{size:16,fill:"currentColor"})," ",N.cost," XP"]}),_.jsx("button",{onClick:()=>P(N),className:"w-full py-3 bg-iroko-dark text-white rounded-xl font-bold hover:bg-iroko-green transition-colors flex items-center justify-center gap-2",children:"Redeem Item"})]},N.id))]}),h&&_.jsx("div",{className:"fixed inset-0 bg-iroko-dark/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:_.jsxs("div",{className:"bg-white w-full max-w-sm rounded-[2rem] p-8 shadow-2xl animate-slide-up",children:[_.jsx("h3",{className:"text-2xl font-bold text-iroko-dark mb-6",children:"Create Reward"}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider block mb-2",children:"Item Name"}),_.jsx("input",{className:"w-full p-4 bg-stone-50 rounded-xl font-bold text-iroko-dark border border-stone-100 focus:border-iroko-earth outline-none",placeholder:"e.g. Cinema Ticket",value:g.title,onChange:N=>x({...g,title:N.target.value})})]}),_.jsxs("div",{className:"flex gap-4",children:[_.jsxs("div",{className:"flex-1",children:[_.jsx("label",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider block mb-2",children:"Cost (XP)"}),_.jsx("input",{type:"number",className:"w-full p-4 bg-stone-50 rounded-xl font-bold text-iroko-dark border border-stone-100 outline-none",value:g.cost,onChange:N=>x({...g,cost:parseInt(N.target.value)})})]}),_.jsxs("div",{className:"w-20",children:[_.jsx("label",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider block mb-2",children:"Icon"}),_.jsx("input",{className:"w-full p-4 bg-stone-50 rounded-xl font-bold text-center text-xl border border-stone-100 outline-none",value:g.emoji,onChange:N=>x({...g,emoji:N.target.value})})]})]})]}),_.jsxs("div",{className:"flex gap-3 mt-8",children:[_.jsx("button",{onClick:()=>m(!1),className:"flex-1 py-4 text-stone-500 font-bold hover:bg-stone-50 rounded-xl",children:"Cancel"}),_.jsx("button",{onClick:C,className:"flex-1 py-4 bg-iroko-earth text-white font-bold rounded-xl shadow-lg shadow-iroko-earth/20 hover:scale-105 transition-transform",children:"Create"})]})]})})]})},Zy=[{id:"elder",name:"Baba Iroko",role:"The Ancient Wisdom",icon:Cu,color:"text-iroko-gold",premium:!1},{id:"auntie",name:"Auntie Nkechi",role:"The Standard",icon:dO,color:"text-iroko-clay",premium:!0},{id:"uncle",name:"Uncle Femi",role:"Street Smarts",icon:lO,color:"text-blue-400",premium:!0}],Oce=({parent:e,onTriggerPaywall:t})=>{var P;const[n,r]=A.useState("setup"),[i,o]=A.useState("elder"),[l,u]=A.useState(wa[0].id),[d,f]=A.useState(null),[h,m]=A.useState(null),g=N=>{if(N.premium&&e.subscriptionTier!=="Chief"){t();return}o(N.id)},x=N=>{if(["street-smarts","money"].includes(N)&&e.subscriptionTier!=="Chief"){t();return}u(N)},S=async()=>{var N;r("loading");try{const R=await GF(((N=wa.find(M=>M.id===l))==null?void 0:N.label)||"General",10,i,e.locationContext);f(R),r("play")}catch{r("setup")}},E=N=>{m(N),r("feedback")},T=()=>{f(null),m(null),r("setup")};if(n==="setup")return _.jsxs("div",{className:"max-w-2xl mx-auto py-8 animate-fade-in pb-24",children:[_.jsxs("div",{className:"text-center mb-10 bg-iroko-dark text-white rounded-[2.5rem] p-8 shadow-xl relative overflow-hidden",children:[_.jsx("div",{className:"absolute inset-0 opacity-20 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] animate-pulse-slow"}),_.jsxs("div",{className:"relative z-10",children:[_.jsx("div",{className:"w-16 h-16 bg-white/10 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur-md border border-white/20",children:_.jsx(t0,{size:32,className:"text-iroko-gold",fill:"currentColor"})}),_.jsx("h2",{className:"text-3xl font-display font-bold",children:"The Palaver Hut"}),_.jsx("p",{className:"text-white/60 mt-2",children:"Tales by moonlight. Where wisdom meets real life."})]})]}),_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-stone-100 shadow-sm",children:[_.jsx("h3",{className:"font-bold text-stone-400 uppercase text-xs tracking-wider mb-4 pl-2",children:"Choose the Judge"}),_.jsx("div",{className:"flex gap-3 overflow-x-auto no-scrollbar pb-2",children:Zy.map(N=>{const R=N.premium&&e.subscriptionTier!=="Chief";return _.jsxs("button",{onClick:()=>g(N),className:`relative flex-shrink-0 w-32 p-4 rounded-2xl border-2 transition-all flex flex-col items-center text-center gap-3 overflow-hidden ${i===N.id?"border-iroko-dark bg-iroko-dark text-white":"border-stone-100 hover:border-iroko-earth"}`,children:[N.premium&&_.jsx("div",{className:`absolute top-0 right-0 px-2 py-1 rounded-bl-lg text-[8px] font-bold uppercase tracking-wider flex items-center gap-1 z-10
                               ${R?"bg-stone-200 text-stone-500":"bg-iroko-gold text-white"}`,children:R?_.jsx(Bs,{size:8}):_.jsx(Rr,{size:8,fill:"currentColor"})}),_.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${i===N.id?"bg-white/20":"bg-stone-100"} ${N.color} ${R?"grayscale opacity-50":""}`,children:_.jsx(N.icon,{size:18})}),_.jsxs("div",{className:R?"opacity-50":"",children:[_.jsx("div",{className:"font-bold text-sm leading-tight",children:N.name}),_.jsx("span",{className:"text-[10px] text-stone-400",children:N.role})]})]},N.id)})})]}),_.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-stone-100 shadow-sm",children:[_.jsx("h3",{className:"font-bold text-stone-400 uppercase text-xs tracking-wider mb-4 pl-2",children:"Choose the Test"}),_.jsx("div",{className:"grid grid-cols-2 gap-3",children:wa.map(N=>{const R=["street-smarts","money"].includes(N.id)&&e.subscriptionTier!=="Chief";return _.jsx("button",{onClick:()=>x(N.id),className:`relative px-4 py-4 rounded-xl font-bold text-sm text-left transition-all border overflow-hidden ${l===N.id?"bg-iroko-earth text-white border-iroko-earth shadow-lg":"bg-stone-50 text-stone-500 border-transparent hover:bg-white hover:border-stone-200"}`,children:_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsx("span",{className:R?"opacity-50":"",children:N.label}),R?_.jsx("div",{className:"bg-stone-200 p-1.5 rounded-full text-stone-500",children:_.jsx(Bs,{size:12})}):["street-smarts","money"].includes(N.id)&&_.jsx(Rr,{size:14,className:"text-iroko-gold",fill:"currentColor"})]})},N.id)})})]}),_.jsxs("button",{onClick:S,className:"w-full py-5 bg-iroko-dark text-white rounded-2xl font-bold text-lg flex items-center justify-center gap-3 hover:scale-[1.02] active:scale-95 transition-all shadow-xl shadow-iroko-dark/20",children:[_.jsx(kh,{size:20,className:"animate-pulse"})," Enter the Hut"]})]})]});if(n==="loading")return _.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center text-center animate-fade-in",children:[_.jsx("div",{className:"w-20 h-20 bg-iroko-dark rounded-full flex items-center justify-center animate-bounce mb-6",children:_.jsx(t0,{size:40,className:"text-iroko-gold",fill:"currentColor"})}),_.jsxs("h3",{className:"text-xl font-bold text-iroko-dark mb-2",children:["Summoning ",(P=Zy.find(N=>N.id===i))==null?void 0:P.name,"..."]}),_.jsx("p",{className:"text-stone-400 text-sm",children:"Reviewing the ancient scrolls."})]});const C=Zy.find(N=>N.id===i);return _.jsxs("div",{className:"bg-[#100C0A] min-h-[80vh] rounded-[2.5rem] overflow-hidden relative text-[#EBE5DA] shadow-2xl animate-slide-up mx-auto max-w-3xl border border-[#2C241B] mb-20",children:[_.jsx("div",{className:"absolute inset-0 opacity-20 bg-[url('https://www.transparenttextures.com/patterns/dark-matter.png')] pointer-events-none"}),_.jsxs("div",{className:"relative z-10 p-6 flex justify-between items-center bg-gradient-to-b from-black/40 to-transparent",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:`w-10 h-10 rounded-full bg-white/10 flex items-center justify-center ${C==null?void 0:C.color} border border-white/10`,children:(C==null?void 0:C.icon)&&_.jsx(C.icon,{size:20})}),_.jsx("div",{children:_.jsx("h3",{className:"font-bold text-white",children:C==null?void 0:C.name})})]}),_.jsx("button",{onClick:T,className:"p-2 bg-white/5 rounded-full hover:bg-white/10 text-stone-400 transition-colors",children:_.jsx(Rb,{size:18})})]}),_.jsxs("div",{className:"relative z-10 p-6 md:p-10 flex flex-col gap-8",children:[_.jsx("div",{className:"animate-fade-in",children:_.jsxs("div",{className:"flex gap-4",children:[_.jsx("div",{className:"w-1 bg-iroko-gold rounded-full opacity-50"}),_.jsxs("p",{className:"text-xl md:text-2xl font-serif leading-relaxed text-stone-200",children:['"',d.situation,'"']})]})}),n==="play"?_.jsx("div",{className:"space-y-4 mt-4 animate-slide-up",style:{animationDelay:"0.2s"},children:d.options.map((N,R)=>_.jsx("button",{onClick:()=>E(N),className:"w-full text-left p-6 rounded-2xl bg-white/5 border border-white/5 hover:bg-iroko-gold/10 hover:border-iroko-gold/30 transition-all group relative overflow-hidden",children:_.jsxs("div",{className:"flex gap-4 items-center relative z-10",children:[_.jsxs("span",{className:"text-xs font-bold text-stone-500 uppercase tracking-widest group-hover:text-iroko-gold",children:["Option ",N.id]}),_.jsx("span",{className:"text-lg font-medium",children:N.text})]})},N.id))}):_.jsxs("div",{className:"animate-slide-up bg-white/5 rounded-[2rem] p-8 border border-white/10 mt-4",children:[_.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[_.jsx("div",{className:"text-5xl animate-bounce",children:h.score>80?"":h.score>40?"":""}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-bold text-xl text-white",children:h.score>80?"Wise Choice, Giant!":h.score>40?"Not bad, but listen...":"Ah! You fall my hand."}),_.jsxs("span",{className:`text-xs font-bold px-2 py-1 rounded bg-white/10 ${h.score>80?"text-green-400":"text-orange-400"}`,children:["+",h.score," XP Earned"]})]})]}),_.jsx("div",{className:"bg-black/20 p-6 rounded-xl border-l-2 border-iroko-gold mb-8",children:_.jsxs("p",{className:"text-lg italic font-serif leading-relaxed text-stone-300",children:['"',h.outcome,'"']})}),_.jsxs("button",{onClick:S,className:"w-full py-4 bg-iroko-gold text-iroko-dark rounded-xl font-bold hover:bg-white transition-colors flex items-center justify-center gap-2",children:["Next Scenario ",_.jsx(sO,{size:18})]})]})]})]})},Mce=()=>_.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[_.jsx("defs",{children:_.jsxs("pattern",{id:"mudcloth",x:"0",y:"0",width:"100",height:"100",patternUnits:"userSpaceOnUse",children:[_.jsx("path",{d:"M10,50 L40,20 L70,50 L40,80 Z",fill:"none",stroke:"currentColor",strokeWidth:"2"}),_.jsx("circle",{cx:"90",cy:"10",r:"5",fill:"currentColor"}),_.jsx("circle",{cx:"90",cy:"90",r:"5",fill:"currentColor"}),_.jsx("path",{d:"M10,10 L30,10 M10,15 L30,15",stroke:"currentColor",strokeWidth:"2"}),_.jsx("path",{d:"M70,85 L90,85 M70,90 L90,90",stroke:"currentColor",strokeWidth:"2"})]})}),_.jsx("rect",{width:"100%",height:"100%",fill:"url(#mudcloth)"})]}),js=({className:e="w-10 h-10",variant:t="dark"})=>{const n=t==="light"?"#FFFFFF":t==="gold"?"#C69C3A":"#1A1512";return _.jsxs("svg",{viewBox:"0 0 100 100",className:e,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[_.jsx("path",{d:"M48 85C48 85 40 92 30 92M52 85C52 85 60 92 70 92",stroke:n,strokeWidth:"4",strokeLinecap:"round"}),_.jsx("path",{d:"M50 85V45",stroke:n,strokeWidth:"6",strokeLinecap:"round"}),_.jsx("path",{d:"M50 45C30 45 20 35 20 25C20 15 35 10 50 10C65 10 80 15 80 25C80 35 70 45 50 45Z",fill:n,fillOpacity:"0.2"}),_.jsx("path",{d:"M50 45C30 45 20 35 20 25C20 15 35 10 50 10C65 10 80 15 80 25C80 35 70 45 50 45Z",stroke:n,strokeWidth:"3"}),_.jsx("path",{d:"M50 50L35 35",stroke:n,strokeWidth:"3",strokeLinecap:"round"}),_.jsx("path",{d:"M50 55L65 35",stroke:n,strokeWidth:"3",strokeLinecap:"round"}),_.jsx("circle",{cx:"80",cy:"20",r:"4",fill:t==="dark"?"#C69C3A":"#FFFFFF"})]})},Ice=()=>{const[e,t]=A.useState(!1),[n,r]=A.useState(""),[i,o]=A.useState(""),[l,u]=A.useState(""),[d,f]=A.useState("signin"),[h,m]=A.useState(null),g=async x=>{if(x.preventDefault(),t(!0),m(null),!Ye){if(await new Promise(S=>setTimeout(S,1e3)),d==="forgot"){m({type:"success",text:"Demo: Password reset link sent."}),t(!1);return}localStorage.setItem("iroko_demo_user","true"),d==="signup"&&await je.createParent({id:"user_123",name:l||"Demo Parent",email:n,subscriptionTier:"Villager",locationContext:"home",childrenIds:[],createdAt:Date.now()}),window.location.reload();return}try{if(d==="forgot"){const{error:S}=await Oe.auth.resetPasswordForEmail(n,{redirectTo:window.location.origin});if(S)throw S;m({type:"success",text:"Check your email for the password reset link."})}else if(d==="signup"){const{data:S,error:E}=await Oe.auth.signUp({email:n,password:i,options:{data:{display_name:l}}});if(E)throw E;if(S.user){const{error:T}=await Oe.from("profiles").insert({id:S.user.id,name:l,email:n,subscription_tier:"Villager"});T&&console.warn("Profile creation warning:",T.message)}m({type:"success",text:"Account created! Please check your email to verify."})}else{const{error:S}=await Oe.auth.signInWithPassword({email:n,password:i});if(S)throw S}}catch(S){m({type:"error",text:S.message})}finally{t(!1)}};return _.jsxs("div",{className:"min-h-screen w-full bg-iroko-dark flex flex-col md:flex-row relative overflow-hidden",children:[_.jsxs("div",{className:"w-full h-[45vh] md:h-screen md:w-5/12 relative bg-iroko-earth overflow-hidden shrink-0",children:[_.jsx("img",{src:"https://images.unsplash.com/photo-1615814521949-06399eb6646b?q=80&w=2574&auto=format&fit=crop",className:"w-full h-full object-cover object-center animate-fade-in transition-transform duration-[10s] hover:scale-105 bg-iroko-earth",alt:"African mother and child sharing a warm moment",loading:"eager",onError:x=>{x.currentTarget.src="https://images.unsplash.com/photo-1548232979-6c557ee14752?q=80&w=2670&auto=format&fit=crop"}}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-iroko-earth/95 via-black/20 to-transparent md:bg-gradient-to-r md:from-iroko-earth/90 md:via-black/20 md:to-transparent"}),_.jsxs("div",{className:"absolute bottom-10 left-6 md:top-12 md:left-12 z-10 pr-6",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[_.jsx("div",{className:"bg-iroko-gold p-2 rounded-xl shadow-lg",children:_.jsx(js,{className:"w-8 h-8",variant:"dark"})}),_.jsx("span",{className:"text-white font-display font-bold text-xl tracking-widest",children:"IROKO"})]}),_.jsxs("h1",{className:"text-4xl md:text-5xl font-display font-bold text-white leading-tight mb-2 drop-shadow-md",children:["Raise a ",_.jsx("br",{}),_.jsx("span",{className:"text-iroko-gold",children:"Giant."})]}),_.jsx("p",{className:"text-stone-200 text-sm md:text-base font-medium max-w-xs drop-shadow-sm",children:"The app for Nigerian parents building the next generation of leaders."})]})]}),_.jsx("div",{className:"flex-1 bg-white relative z-20 -mt-6 rounded-t-[2.5rem] md:mt-0 md:rounded-none px-6 py-10 md:p-16 flex flex-col justify-center shadow-[0_-10px_40px_rgba(0,0,0,0.3)] md:shadow-none animate-slide-up",children:_.jsxs("div",{className:"max-w-md mx-auto w-full",children:[_.jsxs("div",{className:"flex items-center gap-8 mb-8 border-b border-stone-100 pb-1",children:[_.jsx("button",{onClick:()=>f("signin"),className:`text-lg font-bold pb-3 transition-all ${d==="signin"?"text-iroko-dark border-b-2 border-iroko-earth":"text-stone-300"}`,children:"Sign In"}),_.jsx("button",{onClick:()=>f("signup"),className:`text-lg font-bold pb-3 transition-all ${d==="signup"?"text-iroko-dark border-b-2 border-iroko-earth":"text-stone-300"}`,children:"Join Village"})]}),_.jsx("h3",{className:"text-2xl font-display font-bold text-iroko-dark mb-2",children:d==="signin"?"Welcome Back, Odogwu.":d==="signup"?"Start the Journey.":"Recover Account"}),_.jsx("p",{className:"text-stone-500 mb-8 text-sm",children:d==="signin"?"Your child's future is waiting.":"It takes a village. Let us verify you."}),_.jsxs("form",{onSubmit:g,className:"space-y-4",children:[d==="signup"&&_.jsxs("div",{className:"bg-stone-50 rounded-2xl p-4 flex items-center gap-3 border border-stone-100 focus-within:ring-2 focus-within:ring-iroko-earth/20 focus-within:border-iroko-earth transition-all",children:[_.jsx(Cu,{className:"text-stone-400",size:20}),_.jsx("input",{type:"text",placeholder:"Parent's Name",value:l,onChange:x=>u(x.target.value),className:"bg-transparent border-none outline-none w-full font-medium text-iroko-dark placeholder:text-stone-400",required:!0})]}),_.jsxs("div",{className:"bg-stone-50 rounded-2xl p-4 flex items-center gap-3 border border-stone-100 focus-within:ring-2 focus-within:ring-iroko-earth/20 focus-within:border-iroko-earth transition-all",children:[_.jsx(_5,{className:"text-stone-400",size:20}),_.jsx("input",{type:"email",placeholder:"Email Address",value:n,onChange:x=>r(x.target.value),className:"bg-transparent border-none outline-none w-full font-medium text-iroko-dark placeholder:text-stone-400",required:!0})]}),d!=="forgot"&&_.jsxs("div",{className:"bg-stone-50 rounded-2xl p-4 flex items-center gap-3 border border-stone-100 focus-within:ring-2 focus-within:ring-iroko-earth/20 focus-within:border-iroko-earth transition-all",children:[_.jsx(Bs,{className:"text-stone-400",size:20}),_.jsx("input",{type:"password",placeholder:"Password",value:i,onChange:x=>o(x.target.value),className:"bg-transparent border-none outline-none w-full font-medium text-iroko-dark placeholder:text-stone-400",required:!0})]}),d==="signin"&&_.jsx("div",{className:"flex justify-end",children:_.jsx("button",{type:"button",onClick:()=>f("forgot"),className:"text-xs font-bold text-stone-400 hover:text-iroko-earth py-2",children:"Forgot Password?"})}),h&&_.jsx("div",{className:`p-4 rounded-xl text-xs font-bold text-center ${h.type==="error"?"bg-red-50 text-red-500":"bg-green-50 text-green-600"}`,children:h.text}),_.jsx("button",{type:"submit",disabled:e,className:"w-full py-5 bg-iroko-dark text-white rounded-2xl font-bold text-lg hover:bg-iroko-earth transition-all flex items-center justify-center gap-2 shadow-xl shadow-iroko-dark/20 mt-4 active:scale-95",children:e?_.jsx(fO,{className:"animate-spin"}):_.jsxs(_.Fragment,{children:[d==="signin"?"Sign In":d==="signup"?"Create Account":"Send Link",_.jsx(sO,{size:20})]})}),d==="forgot"&&_.jsxs("button",{onClick:()=>f("signin"),className:"w-full py-3 text-stone-400 font-bold hover:text-iroko-dark transition-colors flex items-center justify-center gap-2 text-sm",children:[_.jsx(oO,{size:16})," Back to Login"]})]}),!Ye&&_.jsxs("div",{className:"mt-8 pt-4 border-t border-stone-100 text-center",children:[_.jsx("span",{className:"inline-block px-3 py-1 bg-iroko-gold/10 text-iroko-earth text-[10px] font-bold rounded-full uppercase tracking-wider",children:"Demo Mode Active"}),_.jsx("p",{className:"text-xs text-stone-400 mt-2",children:"No backend connected. Login with any details."})]})]})})]})},gi=[{id:1,image:"https://images.unsplash.com/photo-1503919545889-aef636e10ad4?q=80&w=2670&auto=format&fit=crop",title:`School teaches Math.
We teach Life.`,description:"While school handles the algebra, Iroko helps you build your child's character, grit, and street smarts."},{id:2,image:"https://images.unsplash.com/photo-1515964893922-a7fc1c58c287?q=80&w=2574&auto=format&fit=crop",title:`Resilience is a muscle.
Train it daily.`,description:"Through small, practical missions, your child learns the value of hard work, money, and patience."},{id:3,image:"https://images.unsplash.com/photo-1531983412531-1f49a365ffed?q=80&w=2670&auto=format&fit=crop",title:`Rooted in Culture.
Ready for the World.`,description:"Modern parenting tools blended with the timeless wisdom of our elders. Let's build a giant."},{id:4,image:"https://images.unsplash.com/photo-1543714909-3cb3d508e752?q=80&w=2670&auto=format&fit=crop",title:"Where is your Village?",description:"We tailor the curriculum based on your environment."}],Dce=({onComplete:e})=>{const[t,n]=A.useState(0),[r,i]=A.useState(!1),[o,l]=A.useState(null),u=async()=>{if(t===gi.length-1){if(!o)return;const f=await je.getCurrentUser();f&&await je.updateParentProfile(f.id,{locationContext:o}),e();return}i(!0),setTimeout(()=>{n(t+1),i(!1)},300)},d=gi[t];return _.jsxs("div",{className:"fixed inset-0 bg-iroko-dark text-white z-[100] overflow-hidden font-sans",children:[gi.map((f,h)=>_.jsxs("div",{className:`absolute inset-0 transition-opacity duration-700 ease-in-out ${h===t?"opacity-100":"opacity-0"}`,children:[_.jsx("img",{src:f.image,className:"w-full h-full object-cover",alt:""}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent"})]},f.id)),_.jsxs("div",{className:"absolute top-0 left-0 right-0 p-6 z-20 flex justify-between items-center safe-area-top",children:[_.jsx("div",{className:"bg-white/10 backdrop-blur-md p-2 rounded-xl border border-white/10",children:_.jsx(js,{className:"w-8 h-8",variant:"gold"})}),t<gi.length-1&&_.jsx("button",{onClick:()=>{n(gi.length-1)},className:"px-4 py-2 bg-black/20 backdrop-blur-md rounded-full text-stone-200 font-bold text-xs uppercase tracking-widest hover:bg-black/40 transition-colors border border-white/10",children:"Skip"})]}),_.jsxs("div",{className:"relative z-10 flex flex-col h-full justify-end p-8 pb-16 md:p-16 max-w-2xl mx-auto safe-area-bottom",children:[_.jsx("div",{className:"flex gap-2 mb-8",children:gi.map((f,h)=>_.jsx("div",{className:`h-1.5 rounded-full transition-all duration-500 ${h===t?"w-8 bg-iroko-gold":"w-2 bg-white/20"}`},h))}),_.jsxs("div",{className:`transition-all duration-500 transform ${r?"translate-y-4 opacity-0":"translate-y-0 opacity-100"} mb-8`,children:[_.jsx("h1",{className:"text-4xl md:text-5xl font-display font-bold mb-4 leading-[1.1] text-white whitespace-pre-line drop-shadow-lg",children:d.title}),_.jsx("p",{className:"text-lg text-stone-200 font-medium leading-relaxed max-w-md drop-shadow-md",children:d.description}),t===gi.length-1&&_.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-8",children:[_.jsxs("button",{onClick:()=>l("home"),className:`p-4 rounded-2xl border-2 flex flex-col items-center gap-3 transition-all ${o==="home"?"bg-iroko-gold border-iroko-gold text-iroko-dark":"bg-white/10 border-white/20 hover:bg-white/20"}`,children:[_.jsx("div",{className:"w-12 h-12 bg-green-900 rounded-full flex items-center justify-center text-white text-xl",children:""}),_.jsxs("div",{children:[_.jsx("span",{className:"block font-bold text-sm",children:"Home"}),_.jsx("span",{className:"text-xs opacity-80",children:"(Nigeria)"})]})]}),_.jsxs("button",{onClick:()=>l("diaspora"),className:`p-4 rounded-2xl border-2 flex flex-col items-center gap-3 transition-all ${o==="diaspora"?"bg-iroko-gold border-iroko-gold text-iroko-dark":"bg-white/10 border-white/20 hover:bg-white/20"}`,children:[_.jsx("div",{className:"w-12 h-12 bg-blue-900 rounded-full flex items-center justify-center text-white text-xl",children:""}),_.jsxs("div",{children:[_.jsx("span",{className:"block font-bold text-sm",children:"Diaspora"}),_.jsx("span",{className:"text-xs opacity-80",children:"(Abroad)"})]})]})]})]}),_.jsx("div",{className:"flex items-center justify-end",children:_.jsx("button",{onClick:u,disabled:t===gi.length-1&&!o,className:`w-20 h-20 bg-iroko-gold text-iroko-dark rounded-full flex items-center justify-center hover:scale-105 active:scale-95 transition-all shadow-[0_0_30px_rgba(198,156,58,0.4)] ${t===gi.length-1&&!o?"opacity-50 grayscale cursor-not-allowed":""}`,"aria-label":"Next Slide",children:_.jsx(K3,{size:32,strokeWidth:3})})})]})]})};class nO extends A.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("Uncaught error:",t,n)}render(){return this.state.hasError?_.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-8 bg-[#FAF9F6] text-center",children:[_.jsx("div",{className:"w-20 h-20 bg-red-50 text-red-500 rounded-full flex items-center justify-center mb-6 animate-bounce",children:_.jsx(gO,{size:40})}),_.jsx("h1",{className:"text-3xl font-display font-bold text-[#1A1512] mb-2",children:"Ah! Small Wahala."}),_.jsx("p",{className:"text-gray-500 mb-8 max-w-md",children:"Something went wrong. Don't worry, even giants stumble. Let's try reloading the village."}),_.jsxs("button",{onClick:()=>window.location.reload(),className:"flex items-center gap-2 bg-[#8B4513] text-white px-8 py-3 rounded-xl font-bold hover:bg-[#1A1512] transition-colors",children:[_.jsx(Rb,{size:20})," Reload App"]}),this.state.error&&_.jsx("div",{className:"mt-8 p-4 bg-gray-100 rounded-lg text-xs text-left text-gray-600 font-mono w-full max-w-lg overflow-auto",children:this.state.error.toString()})]}):this.props.children}}const Uce=({onClose:e,onUpgradeSuccess:t,parentId:n})=>{const[r,i]=A.useState(!1),[o,l]=A.useState("yearly"),u=async()=>{i(!0);const d=je.getPaymentConfig();d.isEnabled&&d.provider==="paystack"&&d.publicKey?(console.log(`Initializing Paystack (${d.isLiveMode?"Live":"Test"}) with key: ${d.publicKey}`),await new Promise(h=>setTimeout(h,2e3)),window.confirm(`[Paystack Simulation]

Processing payment of N${o==="monthly"?"2,500":"24,000"} via Paystack.

Click OK to simulate success.`)?(await je.upgradeSubscription(n),t()):i(!1)):(await new Promise(f=>setTimeout(f,2e3)),await je.upgradeSubscription(n),t())};return _.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 overflow-y-auto",children:[_.jsx("div",{className:"absolute inset-0 bg-iroko-dark/90 backdrop-blur-md transition-opacity",onClick:e}),_.jsxs("div",{className:"relative bg-[#1A1512] text-white rounded-[2.5rem] shadow-2xl max-w-4xl w-full overflow-hidden animate-slide-up flex flex-col md:flex-row border border-white/10 my-8 md:my-0",children:[_.jsxs("div",{className:"md:w-5/12 bg-iroko-earth relative p-8 md:p-12 flex flex-col justify-between overflow-hidden",children:[_.jsx("div",{className:"absolute inset-0 opacity-20 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] mix-blend-overlay"}),_.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-iroko-gold rounded-full filter blur-[100px] opacity-30"}),_.jsxs("div",{className:"relative z-10",children:[_.jsxs("div",{className:"inline-flex items-center gap-2 bg-black/20 backdrop-blur-md px-3 py-1 rounded-full border border-white/10 text-xs font-bold uppercase tracking-widest mb-6",children:[_.jsx(Rr,{size:14,className:"text-iroko-gold"}),_.jsx("span",{children:"Premium Access"})]}),_.jsxs("h2",{className:"text-4xl md:text-5xl font-display font-bold leading-none mb-4",children:["Raise a ",_.jsx("br",{}),_.jsx("span",{className:"text-iroko-gold",children:"Giant."})]}),_.jsx("p",{className:"text-white/80 text-lg leading-relaxed",children:"Unlock the full village. Give your child the unfair advantage of ancient wisdom meeting modern street smarts."})]}),_.jsx("div",{className:"relative z-10 mt-12",children:_.jsxs("div",{className:"bg-black/20 backdrop-blur-sm rounded-2xl p-4 border border-white/10",children:[_.jsxs("div",{className:"flex gap-1 text-iroko-gold mb-2",children:[_.jsx(xs,{fill:"currentColor",size:14}),_.jsx(xs,{fill:"currentColor",size:14}),_.jsx(xs,{fill:"currentColor",size:14}),_.jsx(xs,{fill:"currentColor",size:14}),_.jsx(xs,{fill:"currentColor",size:14})]}),_.jsx("p",{className:"text-sm font-medium italic text-white/90 mb-2",children:'"My son Tunde used to waste money. Now he negotiates prices in the market. This app is the village we lost."'}),_.jsx("p",{className:"text-xs font-bold uppercase tracking-widest text-white/50",children:" Mrs. Adebayo, Lagos"})]})})]}),_.jsxs("div",{className:"md:w-7/12 bg-white text-iroko-dark p-8 md:p-12 relative",children:[_.jsx("button",{onClick:e,className:"absolute top-6 right-6 p-2 bg-stone-100 rounded-full hover:bg-stone-200 transition-colors",children:_.jsx(bO,{size:20,className:"text-stone-500"})}),_.jsxs("div",{className:"mb-8 text-center",children:[_.jsx("h3",{className:"text-2xl font-display font-bold mb-6",children:"Choose your Plan"}),_.jsxs("div",{className:"inline-flex bg-stone-100 p-1 rounded-full relative",children:[_.jsx("div",{className:`absolute top-1 bottom-1 w-1/2 bg-white rounded-full shadow-sm transition-all duration-300 ${o==="monthly"?"left-1":"left-[48.5%]"}`}),_.jsx("button",{onClick:()=>l("monthly"),className:`relative z-10 px-6 py-2 text-sm font-bold rounded-full transition-colors ${o==="monthly"?"text-iroko-dark":"text-stone-400"}`,children:"Monthly"}),_.jsxs("button",{onClick:()=>l("yearly"),className:`relative z-10 px-6 py-2 text-sm font-bold rounded-full transition-colors flex items-center gap-2 ${o==="yearly"?"text-iroko-dark":"text-stone-400"}`,children:["Yearly ",_.jsx("span",{className:"bg-green-100 text-green-700 text-[9px] px-2 py-0.5 rounded-full",children:"SAVE 20%"})]})]})]}),_.jsxs("div",{className:"text-center mb-8",children:[_.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[_.jsxs("span",{className:"text-5xl font-display font-bold text-iroko-dark",children:["",o==="monthly"?"2,500":"2,000"]}),_.jsx("span",{className:"text-stone-400 font-medium",children:"/ month"})]}),o==="yearly"&&_.jsx("p",{className:"text-xs text-stone-400 mt-2",children:"Billed 24,000 yearly"})]}),_.jsxs("div",{className:"space-y-4 mb-8",children:[_.jsx(mf,{text:"Unlimited AI Mentor Access (Baba, Auntie, Uncle)"}),_.jsx(mf,{text:"Full 50+ Mission Curriculum"}),_.jsx(mf,{text:"Advanced Growth Analytics"}),_.jsx(mf,{text:"Priority Support from the Village"})]}),_.jsx("button",{onClick:u,disabled:r,className:"w-full py-5 bg-iroko-dark text-white rounded-2xl font-bold text-lg hover:bg-iroko-earth hover:scale-[1.02] active:scale-95 transition-all flex items-center justify-center gap-3 shadow-xl shadow-iroko-dark/20 relative overflow-hidden group",children:r?_.jsx("span",{className:"animate-pulse",children:"Connecting to Paystack..."}):_.jsxs(_.Fragment,{children:[_.jsx("span",{children:"Become a Chief"}),_.jsx(Ob,{className:"group-hover:fill-current transition-colors",size:20})]})}),_.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2 text-xs text-stone-400",children:[_.jsx(yf,{size:14}),_.jsx("span",{children:"Secured by Paystack. Cancel anytime."})]})]})]})]})},mf=({text:e})=>_.jsxs("div",{className:"flex items-center gap-3 bg-stone-50 p-3 rounded-xl border border-stone-100",children:[_.jsx("div",{className:"w-5 h-5 rounded-full bg-green-100 flex items-center justify-center shrink-0",children:_.jsx(gf,{size:12,className:"text-green-600",strokeWidth:3})}),_.jsx("span",{className:"text-iroko-dark font-medium text-sm",children:e})]}),Lce=({onExit:e})=>{const[t,n]=A.useState("overview"),[r,i]=A.useState(null),[o,l]=A.useState([]),[u,d]=A.useState({provider:"paystack",publicKey:"",secretKey:"",isLiveMode:!1,isEnabled:!1}),[f,h]=A.useState(!0),[m,g]=A.useState("idle"),[x,S]=A.useState(!1);A.useEffect(()=>{E()},[]);const E=async()=>{h(!0);const C=await je.getAdminStats(),P=await je.getTransactions(),N=je.getPaymentConfig();i(C),l(P),d(N),h(!1)},T=async()=>{g("saving"),await new Promise(C=>setTimeout(C,1e3)),await je.savePaymentConfig(u),g("saved"),setTimeout(()=>g("idle"),3e3)};return f?_.jsx("div",{className:"min-h-screen flex items-center justify-center text-iroko-earth font-bold",children:"Accessing Secure Records..."}):_.jsxs("div",{className:"min-h-screen bg-stone-50 pb-20",children:[_.jsx("div",{className:"bg-iroko-dark text-white p-6 sticky top-0 z-30 shadow-md",children:_.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(js,{className:"w-8 h-8",variant:"gold"}),_.jsxs("div",{children:[_.jsx("h1",{className:"text-xl font-display font-bold",children:"Village Admin"}),_.jsx("p",{className:"text-[10px] text-stone-400 uppercase tracking-widest",children:"Control Center"})]})]}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs("span",{className:"hidden md:inline-flex items-center gap-2 bg-white/10 px-3 py-1 rounded-full text-xs font-bold border border-white/10",children:[_.jsx(j5,{size:12,className:"text-green-400"})," Secure Admin Session"]}),e&&_.jsx("button",{onClick:e,className:"bg-white/10 p-2 rounded-lg hover:bg-white/20 transition-colors text-white",title:"Exit Admin",children:_.jsx(hO,{size:16})})]})]})}),_.jsxs("div",{className:"max-w-7xl mx-auto p-6 md:p-8",children:[_.jsxs("div",{className:"flex gap-4 mb-8 border-b border-stone-200 overflow-x-auto pb-1 no-scrollbar",children:[_.jsx(Qy,{active:t==="overview",onClick:()=>n("overview"),icon:Y1,label:"Overview"}),_.jsx(Qy,{active:t==="transactions",onClick:()=>n("transactions"),icon:yf,label:"Transactions"}),_.jsx(Qy,{active:t==="payment",onClick:()=>n("payment"),icon:U5,label:"Payment Settings"})]}),_.jsxs("div",{className:"animate-fade-in",children:[t==="overview"&&r&&_.jsxs("div",{className:"space-y-8",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[_.jsx(vf,{label:"Total Parents",value:r.totalParents,icon:r0}),_.jsx(vf,{label:"Total Children",value:r.totalChildren,icon:r0}),_.jsx(vf,{label:"Total Revenue",value:`${r.totalRevenue.toLocaleString()}`,icon:yf,highlight:!0}),_.jsx(vf,{label:"Active Missions",value:r.activeMissions,icon:Y1})]}),_.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-stone-100",children:[_.jsx("h3",{className:"font-bold text-iroko-dark mb-6",children:"Revenue Growth (Simulated)"}),_.jsx("div",{className:"h-64 w-full",children:_.jsx(Y0,{width:"100%",height:"100%",children:_.jsxs(HL,{data:[{month:"Jan",amount:12e4},{month:"Feb",amount:18e4},{month:"Mar",amount:24e4},{month:"Apr",amount:r.totalRevenue}],children:[_.jsx(Rw,{strokeDasharray:"3 3",vertical:!1}),_.jsx(Iw,{dataKey:"month",tick:{fill:"#a8a29e"},axisLine:!1,tickLine:!1}),_.jsx(kL,{tick:{fill:"#a8a29e"},axisLine:!1,tickLine:!1,tickFormatter:C=>`${C/1e3}k`}),_.jsx(One,{cursor:{fill:"#f5f5f4"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"}}),_.jsx(Mw,{dataKey:"amount",fill:"#8B4513",radius:[4,4,0,0]})]})})})]})]}),t==="transactions"&&_.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-stone-100 overflow-hidden",children:[_.jsxs("div",{className:"p-6 border-b border-stone-100 flex justify-between items-center flex-wrap gap-4",children:[_.jsx("h3",{className:"font-bold text-iroko-dark",children:"Recent Payments"}),_.jsxs("div",{className:"bg-stone-50 p-2 rounded-lg flex items-center gap-2 w-full md:w-64",children:[_.jsx(I5,{size:16,className:"text-stone-400"}),_.jsx("input",{placeholder:"Search reference...",className:"bg-transparent border-none outline-none text-sm w-full"})]})]}),_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full text-left text-sm min-w-[600px]",children:[_.jsx("thead",{className:"bg-stone-50 text-stone-500 font-bold uppercase text-xs",children:_.jsxs("tr",{children:[_.jsx("th",{className:"p-4",children:"Reference"}),_.jsx("th",{className:"p-4",children:"Parent"}),_.jsx("th",{className:"p-4",children:"Amount"}),_.jsx("th",{className:"p-4",children:"Status"}),_.jsx("th",{className:"p-4",children:"Date"})]})}),_.jsxs("tbody",{className:"divide-y divide-stone-100",children:[o.map(C=>_.jsxs("tr",{className:"hover:bg-stone-50 transition-colors",children:[_.jsx("td",{className:"p-4 font-mono text-xs",children:C.reference}),_.jsx("td",{className:"p-4 font-medium text-iroko-dark",children:C.parentName}),_.jsxs("td",{className:"p-4 font-bold",children:[C.currency," ",C.amount.toLocaleString()]}),_.jsx("td",{className:"p-4",children:_.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] font-bold uppercase ${C.status==="success"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:C.status})}),_.jsx("td",{className:"p-4 text-stone-500",children:new Date(C.date).toLocaleDateString()})]},C.id)),o.length===0&&_.jsx("tr",{children:_.jsx("td",{colSpan:5,className:"p-8 text-center text-stone-400",children:"No transactions found. Upgrade a user to see data here."})})]})]})})]}),t==="payment"&&_.jsx("div",{className:"max-w-2xl mx-auto",children:_.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-stone-100",children:[_.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[_.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-xl flex items-center justify-center text-blue-600",children:_.jsx(yf,{size:24})}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-xl font-bold text-iroko-dark",children:"Paystack Integration"}),_.jsx("p",{className:"text-stone-500 text-sm",children:'Configure how parents pay for the "Chief" subscription.'})]})]}),_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"flex items-center justify-between p-4 bg-stone-50 rounded-xl border border-stone-100 cursor-pointer",onClick:()=>d({...u,isEnabled:!u.isEnabled}),children:[_.jsxs("div",{children:[_.jsx("p",{className:"font-bold text-iroko-dark",children:"Enable Payments"}),_.jsx("p",{className:"text-xs text-stone-500",children:"Show upgrade options to users"})]}),_.jsx("button",{className:`w-12 h-6 rounded-full transition-colors relative ${u.isEnabled?"bg-green-500":"bg-stone-300"}`,children:_.jsx("div",{className:`w-4 h-4 bg-white rounded-full absolute top-1 transition-all ${u.isEnabled?"left-7":"left-1"}`})})]}),_.jsxs("div",{className:"flex items-center justify-between p-4 bg-stone-50 rounded-xl border border-stone-100 cursor-pointer",onClick:()=>d({...u,isLiveMode:!u.isLiveMode}),children:[_.jsxs("div",{children:[_.jsx("p",{className:"font-bold text-iroko-dark",children:"Live Mode"}),_.jsx("p",{className:"text-xs text-stone-500",children:"Switch between Test and Live keys"})]}),_.jsx("button",{className:`w-12 h-6 rounded-full transition-colors relative ${u.isLiveMode?"bg-iroko-dark":"bg-orange-400"}`,children:_.jsx("div",{className:`w-4 h-4 bg-white rounded-full absolute top-1 transition-all ${u.isLiveMode?"left-7":"left-1"}`})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-stone-400 uppercase tracking-wider mb-2",children:"Public Key"}),_.jsx("input",{type:"text",value:u.publicKey,onChange:C=>d({...u,publicKey:C.target.value}),placeholder:"pk_test_...",className:"w-full p-4 bg-stone-50 border border-stone-200 rounded-xl font-mono text-sm outline-none focus:border-iroko-earth transition-colors"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-stone-400 uppercase tracking-wider mb-2",children:"Secret Key"}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{type:x?"text":"password",value:u.secretKey,onChange:C=>d({...u,secretKey:C.target.value}),placeholder:"sk_test_...",className:"w-full p-4 bg-stone-50 border border-stone-200 rounded-xl font-mono text-sm outline-none focus:border-iroko-earth transition-colors"}),_.jsx("button",{onClick:()=>S(!x),className:"absolute right-4 top-4 text-stone-400 hover:text-iroko-dark",children:x?_.jsx(l5,{size:16}):_.jsx(c5,{size:16})})]}),_.jsxs("p",{className:"text-[10px] text-orange-500 mt-2 flex items-center gap-1",children:[_.jsx(gO,{size:10})," Never share this key. It is stored locally for this admin demo."]})]}),_.jsxs("button",{onClick:T,disabled:m==="saving",className:"w-full py-4 bg-iroko-dark text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-iroko-earth transition-colors",children:[m==="saving"?"Saving...":m==="saved"?"Saved Successfully!":"Save Configuration",m==="saved"?_.jsx(J3,{size:18}):_.jsx(mO,{size:18})]})]})]})})]})]})]})},Qy=({active:e,onClick:t,icon:n,label:r})=>_.jsxs("button",{onClick:t,className:`flex items-center gap-2 px-6 py-4 border-b-2 transition-all whitespace-nowrap ${e?"border-iroko-earth text-iroko-dark font-bold":"border-transparent text-stone-400 hover:text-iroko-earth"}`,children:[_.jsx(n,{size:18})," ",r]}),vf=({label:e,value:t,icon:n,highlight:r})=>_.jsxs("div",{className:`p-6 rounded-2xl shadow-sm border border-stone-100 flex flex-col justify-between h-32 ${r?"bg-iroko-dark text-white":"bg-white text-iroko-dark"}`,children:[_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-stone-400",children:e}),_.jsx(n,{size:20,className:r?"text-iroko-gold":"text-stone-300"})]}),_.jsx("span",{className:"text-3xl font-display font-bold",children:t})]});function jce(){const[e,t]=A.useState(!1),[n,r]=A.useState(null),[i,o]=A.useState(!0),[l,u]=A.useState(null),[d,f]=A.useState([]),[h,m]=A.useState(!1),[g,x]=A.useState("dashboard"),[S,E]=A.useState(null),[T,C]=A.useState(!1),[P,N]=A.useState(!1),[R,M]=A.useState(""),[I,D]=A.useState(!1),[F,$]=A.useState(!1),[Q,W]=A.useState(""),[ne,se]=A.useState(8);A.useEffect(()=>{if(new URLSearchParams(window.location.search).get("portal")==="admin"){t(!0),o(!1);return}const L=localStorage.getItem("iroko_has_seen_onboarding");if(!Ye){localStorage.getItem("iroko_demo_user")?(r({user:{id:"user_123",email:"demo@iroko.ng"}}),de("user_123",!L)):o(!1);return}Oe.auth.getSession().then(({data:ie,error:ae})=>{!ae&&ie.session?(r(ie.session),de(ie.session.user.id,!L)):o(!1)});const{data:{subscription:J}}=Oe.auth.onAuthStateChange((ie,ae)=>{r(ae),ae?de(ae.user.id,!L):(o(!1),u(null))});return()=>J.unsubscribe()},[]);const de=async(ce,L)=>{var J,ie;try{let ae=await je.getParent(ce);if(!ae){console.warn("Profile missing for authenticated user. Attempting recovery...");const{data:{user:xe}}=await Oe.auth.getUser();if(xe){const _t={id:xe.id,name:((J=xe.user_metadata)==null?void 0:J.display_name)||((ie=xe.email)==null?void 0:ie.split("@")[0])||"Parent",email:xe.email||"",subscriptionTier:"Villager",locationContext:"home",childrenIds:[],createdAt:Date.now()};try{await je.createParent(_t),await new Promise(Z=>setTimeout(Z,1e3)),ae=await je.getParent(ce)}catch(Z){console.error("Profile recovery failed:",Z)}}}if(!ae){E("We couldn't load your profile. This might be a connection issue."),o(!1);return}u(ae),ae&&M(ae.name);const be=await je.getChildren(ae.id);f(be);const Ae=be.length>0;m(Ae),!Ae&&L&&D(!0)}catch(ae){console.error("Critical error in profile check:",ae),E(ae.message||"An unexpected error occurred.")}finally{o(!1)}},Te=async()=>{if(l){const ce=await je.getParent(l.id);u(ce)}},j=async()=>{if(!l)return;await je.createChild(l.id,Q,ne);const ce=await je.getChildren(l.id);f(ce),m(!0),$(!1),h||window.location.reload()},Y=async()=>{Ye?await Oe.auth.signOut():localStorage.removeItem("iroko_demo_user"),localStorage.removeItem("iroko_force_demo"),r(null),u(null),E(null),window.location.reload()},oe=async()=>{if(!l)return;await je.updateParentProfile(l.id,{name:R});const ce=await je.getParent(l.id);ce&&u(ce),N(!1)};if(e)return _.jsx(nO,{children:_.jsx(Lce,{onExit:()=>{window.location.href=window.location.origin}})});if(i)return _.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-iroko-light text-iroko-dark font-display",children:[_.jsx("div",{className:"w-20 h-20 mb-6 animate-pulse",children:_.jsx(js,{className:"w-full h-full",variant:"gold"})}),_.jsx("div",{className:"w-16 h-16 border-4 border-iroko-gold border-t-transparent rounded-full animate-spin mb-4"}),_.jsx("p",{className:"text-lg font-bold animate-pulse",children:"Summoning the Village..."})]});if(!n)return _.jsx(Ice,{});if(S)return _.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-iroko-light p-6 text-center",children:[_.jsx("div",{className:"w-16 h-16 bg-red-100 text-red-500 rounded-full flex items-center justify-center mb-4",children:_.jsx(uO,{size:32})}),_.jsx("h2",{className:"text-2xl font-bold text-iroko-dark mb-2",children:"Small Wahala"}),_.jsx("p",{className:"text-stone-500 mb-8 max-w-md",children:S}),_.jsx("button",{onClick:()=>window.location.reload(),className:"bg-iroko-dark text-white px-6 py-3 rounded-xl font-bold mb-3 w-full max-w-xs",children:"Try Again"}),_.jsx("button",{onClick:Y,className:"text-stone-400 font-bold hover:text-iroko-dark text-sm",children:"Sign Out"})]});if(I)return _.jsx(Dce,{onComplete:()=>{localStorage.setItem("iroko_has_seen_onboarding","true"),D(!1)}});if(!h&&!i&&!F)return _.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-iroko-light p-6 relative overflow-hidden",children:[_.jsx("div",{className:"absolute inset-0 z-0 opacity-[0.05] pointer-events-none",children:_.jsx(Mce,{})}),_.jsxs("div",{className:"max-w-md w-full bg-white/80 backdrop-blur-xl rounded-[2.5rem] p-10 shadow-2xl text-center relative z-10 animate-slide-up border border-white",children:[_.jsx("div",{className:"w-20 h-20 bg-iroko-earth rounded-3xl mx-auto flex items-center justify-center mb-6 shadow-xl shadow-iroko-earth/30",children:_.jsx(js,{className:"w-10 h-10",variant:"light"})}),_.jsx("h2",{className:"text-3xl font-display font-bold text-iroko-dark mb-3",children:"One Last Step"}),_.jsx("p",{className:"text-stone-500 mb-8 leading-relaxed",children:"Who are we raising to be a giant today?"}),_.jsxs("div",{className:"space-y-6 text-left",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-iroko-dark mb-2 uppercase tracking-wide ml-2",children:"Child's Name"}),_.jsx("input",{value:Q,onChange:ce=>W(ce.target.value),className:"w-full p-5 bg-stone-50 border-none rounded-2xl outline-none focus:bg-white focus:ring-2 focus:ring-iroko-earth/20 transition-all font-display text-lg placeholder:text-stone-300 shadow-inner",placeholder:"e.g. Tunde"})]}),_.jsxs("div",{children:[_.jsx("div",{className:"flex justify-between items-center mb-4",children:_.jsxs("label",{className:"block text-xs font-bold text-iroko-dark uppercase tracking-wide ml-2",children:["Age: ",ne]})}),_.jsx("input",{type:"range",min:"3",max:"17",value:ne,onChange:ce=>se(parseInt(ce.target.value)),className:"w-full h-2 bg-stone-200 rounded-lg appearance-none cursor-pointer accent-iroko-earth"})]}),_.jsx("button",{onClick:j,disabled:!Q.trim(),className:"w-full bg-iroko-dark text-white py-5 rounded-2xl font-bold text-lg mt-4 shadow-xl shadow-iroko-dark/20 hover:scale-[1.02] active:scale-95 transition-all",children:"Start Journey"})]})]})]});const ue=()=>_.jsxs("div",{className:"max-w-xl mx-auto pt-4 pb-24 animate-fade-in",children:[_.jsx("h2",{className:"text-3xl font-display font-bold text-iroko-dark mb-6 text-center",children:"My Profile"}),_.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] shadow-xl text-left border border-stone-100 mb-8",children:[_.jsxs("div",{className:"flex items-center gap-4 mb-8 pb-8 border-b border-stone-100",children:[_.jsxs("div",{className:"w-16 h-16 bg-iroko-light rounded-full flex items-center justify-center text-2xl font-bold text-iroko-earth shrink-0 relative",children:[l==null?void 0:l.name.charAt(0),(l==null?void 0:l.subscriptionTier)==="Chief"&&_.jsx("div",{className:"absolute -bottom-1 -right-1 bg-iroko-gold p-1.5 rounded-full border-2 border-white shadow-sm",children:_.jsx(Rr,{size:12,className:"text-white fill-current"})})]}),_.jsxs("div",{className:"flex-1",children:[P?_.jsxs("div",{className:"flex gap-2",children:[_.jsx("input",{value:R,onChange:ce=>M(ce.target.value),className:"w-full p-2 bg-stone-50 rounded-lg border border-stone-200"}),_.jsx("button",{onClick:oe,className:"p-2 bg-iroko-dark text-white rounded-lg",children:_.jsx(mO,{size:18})})]}):_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("h3",{className:"text-xl font-bold text-iroko-dark",children:l==null?void 0:l.name}),_.jsx("button",{onClick:()=>N(!0),className:"text-stone-400 hover:text-iroko-dark",children:_.jsx(N5,{size:14})})]}),_.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[_.jsx("p",{className:"text-stone-400 text-sm",children:l==null?void 0:l.email}),_.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold uppercase ${(l==null?void 0:l.subscriptionTier)==="Chief"?"bg-iroko-gold text-white":"bg-stone-200 text-stone-500"}`,children:l==null?void 0:l.subscriptionTier})]}),(l==null?void 0:l.subscriptionTier)==="Villager"&&_.jsxs("button",{onClick:()=>C(!0),className:"mt-3 text-xs font-bold text-iroko-gold hover:underline flex items-center gap-1",children:[_.jsx(Rr,{size:12})," Upgrade to Chief"]})]})]}),_.jsxs("div",{className:"mb-8",children:[_.jsx("h4",{className:"text-xs font-bold uppercase text-stone-400 mb-4 tracking-wider",children:"Children"}),_.jsx("div",{className:"space-y-3",children:d.map(ce=>_.jsx("div",{className:"flex items-center justify-between p-4 bg-stone-50 rounded-2xl border border-stone-100",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("img",{src:ce.avatarUrl,className:"w-10 h-10 rounded-full bg-stone-200",alt:ce.name}),_.jsxs("div",{children:[_.jsx("p",{className:"font-bold text-iroko-dark",children:ce.name}),_.jsxs("p",{className:"text-xs text-stone-500",children:["Age ",ce.age,"  Level ",Math.floor((ce.gritPoints+ce.omoluabiPoints)/100)+1]})]})]})},ce.id))}),_.jsxs("button",{onClick:()=>$(!0),className:"w-full mt-4 py-3 rounded-xl border-2 border-dashed border-stone-200 text-stone-400 font-bold flex items-center justify-center gap-2 hover:border-iroko-earth hover:text-iroko-earth transition-colors",children:[_.jsx(pO,{size:18})," Add Another Child"]})]}),_.jsxs("button",{onClick:Y,className:"w-full py-4 bg-red-50 text-red-500 rounded-2xl font-bold flex items-center justify-center gap-2 mb-8",children:[_.jsx(hO,{size:20})," Sign Out"]}),_.jsx("div",{className:"border-t border-stone-100 pt-8 text-center",children:_.jsxs("a",{href:"?portal=admin",className:"inline-flex items-center gap-2 text-stone-300 hover:text-iroko-dark text-xs font-bold uppercase tracking-widest transition-colors",children:[_.jsx(o5,{size:12})," Access Admin Portal"]})})]})]});return _.jsx(nO,{children:_.jsxs("div",{className:"min-h-screen bg-iroko-light pb-24 md:pb-0 md:pl-24",children:[T&&l&&_.jsx(Uce,{parentId:l.id,onClose:()=>C(!1),onUpgradeSuccess:async()=>{await Te(),C(!1)}}),_.jsxs("div",{className:"p-6 md:p-8 max-w-7xl mx-auto",children:[g==="dashboard"&&l&&_.jsx(R$,{parent:l,onViewChange:x,onTriggerPaywall:()=>C(!0),onRefreshProfile:Te}),g==="curriculum"&&l&&_.jsx(KF,{parent:l,onTriggerPaywall:()=>C(!0)}),g==="progress"&&l&&_.jsx(Pce,{parent:l,onTriggerPaywall:()=>C(!0)}),g==="market"&&l&&_.jsx(Rce,{parent:l}),g==="palaver"&&l&&_.jsx(Oce,{parent:l,onTriggerPaywall:()=>C(!0)}),g==="settings"&&_.jsx(ue,{})]}),_.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-stone-100 p-4 md:top-0 md:bottom-auto md:left-0 md:right-auto md:w-24 md:h-screen md:border-r md:border-t-0 flex md:flex-col items-center justify-around md:justify-start md:gap-8 z-40 shadow-lg md:shadow-none safe-area-bottom",children:[_.jsx("div",{className:"hidden md:block p-4 mb-4",children:_.jsx(js,{className:"w-8 h-8",variant:"dark"})}),_.jsx(bs,{icon:g5,active:g==="dashboard",onClick:()=>x("dashboard"),label:"Home"}),_.jsx(bs,{icon:kh,active:g==="curriculum",onClick:()=>x("curriculum"),label:"Learn"}),_.jsx(bs,{icon:t0,active:g==="palaver",onClick:()=>x("palaver"),label:"Tales"}),_.jsx(bs,{icon:n0,active:g==="progress",onClick:()=>x("progress"),label:"Growth"}),_.jsx(bs,{icon:vO,active:g==="market",onClick:()=>x("market"),label:"Market"}),_.jsxs("div",{className:"hidden md:block mt-auto pb-8 text-center space-y-4",children:[(l==null?void 0:l.subscriptionTier)==="Villager"&&_.jsx("button",{onClick:()=>C(!0),className:"w-8 h-8 rounded-full bg-iroko-gold text-white flex items-center justify-center animate-pulse hover:scale-110 transition-transform shadow-lg",title:"Upgrade",children:_.jsx(Rr,{size:16,fill:"currentColor"})}),_.jsx(bs,{icon:Cu,active:g==="settings",onClick:()=>x("settings"),label:"Profile"})]}),_.jsx("div",{className:"md:hidden",children:_.jsx("button",{onClick:()=>x("settings"),className:`p-2 rounded-xl transition-all ${g==="settings"?"text-iroko-dark bg-stone-100":"text-stone-400"}`,children:_.jsx(Cu,{size:24})})})]})]})})}const bs=({icon:e,active:t,onClick:n,label:r})=>_.jsxs("button",{onClick:n,className:`flex flex-col items-center gap-1 p-2 rounded-xl transition-all ${t?"text-iroko-dark scale-110":"text-stone-400 hover:text-iroko-earth"}`,children:[_.jsx("div",{className:`p-2 rounded-full ${t?"bg-iroko-gold text-iroko-dark shadow-md":""}`,children:_.jsx(e,{size:20,strokeWidth:t?2.5:2})}),_.jsx("span",{className:"text-[10px] font-bold md:hidden",children:r})]}),VL=document.getElementById("root");if(!VL)throw new Error("Could not find root element to mount to");const Bce=C3.createRoot(VL);Bce.render(_.jsx(rO.StrictMode,{children:_.jsx(jce,{})}));
